<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>OpenGL中位图的操作(glReadPixels，glDrawPixels和glCopyPixels应用举例)  - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="read.php-4672.htm" tppabs="http://i.renjihe.com/blog/read.php?4672" title="上一篇 OpenGL像素填充渐变"><img src="toolbar_previous.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_previous.gif" alt='' border='0'/>OpenGL像素填充渐变</a></div>
	<div class="next-article"><a href="read.php-4883.htm" tppabs="http://i.renjihe.com/blog/read.php?4883" title="下一篇 Opengl所有函数解释"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>Opengl所有函数解释</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Apr</span>
	<span class="textbox-calendar-day">15</span>
	</div>
	<div class="textbox-title">
		<h4>
		OpenGL中位图的操作(glReadPixels，glDrawPixels和glCopyPixels应用举例)  <span id="starid4882"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 10:18 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="查看分类： OpenGL">OpenGL</a> , <a href="read.php-4882.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?4882#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb4882");'>引用(0)</a> , <a href="read.php-4882.htm" tppabs="http://i.renjihe.com/blog/read.php?4882">阅读(0)</a> ,  Via 本站原创 <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="字体大小" border='0'/> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="read.php-1756.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_4882"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="订阅本文" border='0'/></a> <a href="read.php-1755.htm" tppabs="http://i.renjihe.com/blog/read.php?save_4882"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="保存本文为文本文档" border='0'/></a></span>
		</div>
	</div>
	<div id="tb4882" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	<p align="left"><span><span><span>1、<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span>BMP</span></span><span>文件格式简单介绍</span></p><p align="left"><span><span>BMP</span></span><span>文件是一种像素文件，它保存了一幅图象中所有的像素。这种文件格式可以保存单色位图、</span><span><span>16</span></span><span>色或</span><span><span>256</span></span><span>色索引模式像素图、</span><span><span>24</span></span><span>位真彩色图象，每种模式种单一像素的大小分别为</span><span><span>1/8</span></span><span>字节，</span><span><span>1/2</span></span><span>字节，</span><span><span>1</span></span><span>字节和</span><span><span>3</span></span><span>字节。目前最常见的是</span><span><span>256</span></span><span>色</span><span><span>BMP</span></span><span>和</span><span><span>24</span></span><span>位色</span><span><span>BMP</span></span><span>。这种文件格式还定义了像素保存的几种方法，包括不压缩、</span><span><span>RLE</span></span><span>压缩等。常见的</span><span><span>BMP</span></span><span>文件大多是不压缩的。</span><span><br /></span><span>这里为了简单起见，我们仅讨论</span><span><span>24</span></span><span>位色、不使用压缩的</span><span><span>BMP</span></span><span>。（如果你使用</span><span><span>Windows</span></span><span>自带的画图程序，很容易绘制出一个符合以上要求的</span><span><span>BMP</span></span><span>）</span><span><br /><span>Windows</span></span><span>所使用的</span><span><span>BMP</span></span><span>文件，在开始处有一个文件头，大小为</span><span><span>54</span></span><span>字节。保存了包括文件格式标识、颜色数、图象大小、压缩方式等信息，因为我们仅讨论</span><span><span>24</span></span><span>位色不压缩的</span><span><span>BMP</span></span><span>，所以文件头中的信息基本不需要注意，只有</span><span><span>&ldquo;</span></span><span>大小</span><span><span>&rdquo;</span></span><span>这一项对我们比较有用。图象的宽度和高度都是一个</span><span><span>32</span></span><span>位整数，在文件中的地址分别为</span><span><span>0x0012</span></span><span>和</span><span><span>0x0016</span></span><span>，于是我们可以使用以下代码来读取图象的大小信息：</span></p><p align="left"><span><br /><span>GLint&nbsp;width,&nbsp;height;&nbsp;//&nbsp;</span></span><span>使用</span><span><span>OpenGL</span></span><span>的</span><span><span>GLint</span></span><span>类型，它是</span><span><span>32</span></span><span>位的。</span><span><br /><span>&nbsp;&nbsp;<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//&nbsp;</span></span><span>而</span><span><span>C</span></span><span>语言本身的</span><span><span>int</span></span><span>则不一定是</span><span><span>32</span></span><span>位的。</span><span><br /><span>FILE*&nbsp;pFile;<br />//&nbsp;</span></span><span>在这里进行</span><span><span>&ldquo;</span></span><span>打开文件</span><span><span>&rdquo;</span></span><span>的操作</span><span><br /><span>fseek(pFile,&nbsp;0x0012,&nbsp;SEEK_SET);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>移动到</span><span><span>0x0012</span></span><span>位置</span><span><br /><span>fread(&amp;width,&nbsp;sizeof(width),&nbsp;1,&nbsp;pFile);&nbsp;//&nbsp;</span></span><span>读取宽度</span><span><br /><span>fseek(pFile,&nbsp;0x0016,&nbsp;SEEK_SET);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>移动到</span><span><span>0x0016</span></span><span>位置</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>由于上一句执行后本就应该在</span><span><span>0x0016</span></span><span>位置</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>所以这一句可省略</span><span><br /><span>fread(&amp;height,&nbsp;sizeof(height),&nbsp;1,&nbsp;pFile);&nbsp;//&nbsp;</span></span><span>读取高度</span><span><br /><br /><span>54</span></span><span>个字节以后，如果是</span><span><span>16</span></span><span>色或</span><span><span>256</span></span><span>色</span><span><span>BMP</span></span><span>，则还有一个颜色表，但</span><span><span>24</span></span><span>位色</span><span><span>BMP</span></span><span>没有这个，我们这里不考虑。接下来就是实际的像素数据了。</span><span><span>24</span></span><span>位色的</span><span><span>BMP</span></span><span>文件中，每三个字节表示一个像素的颜色。</span><span><br /></span><span>注意，</span><span><span>OpenGL</span></span><span>通常使用</span><span><span>RGB</span></span><span>来表示颜色，但</span><span><span>BMP</span></span><span>文件则采用</span><span><span>BGR</span></span><span>，就是说，顺序被反过来了。</span><span><br /></span><span>另外需要注意的地方是：像素的数据量并不一定完全等于图象的高度乘以宽度乘以每一像素的字节数，而是可能略大于这个值。原因是</span><span><span>BMP</span></span><span>文件采用了一种</span><span><span>&ldquo;</span></span><span>对齐</span><span><span>&rdquo;</span></span><span>的机制，每一行像素数据的长度若不是</span><span><span>4</span></span><span>的倍数，则填充一些数据使它是</span><span><span>4</span></span><span>的倍数。这样一来，一个</span><span><span>17*15</span></span><span>的</span><span><span>24</span></span><span>位</span><span><span>BMP</span></span><span>大小就应该是</span><span><span>834</span></span><span>字节（每行</span><span><span>17</span></span><span>个像素，有</span><span><span>51</span></span><span>字节，补充为</span><span><span>52</span></span><span>字节，乘以</span><span><span>15</span></span><span>得到像素数据总长度</span><span><span>780</span></span><span>，再加上文件开始的</span><span><span>54</span></span><span>字节，得到</span><span><span>834</span></span><span>字节）。分配内存时，一定要小心，不能直接使用</span><span><span>&ldquo;</span></span><span>图象的高度乘以宽度乘以每一像素的字节数</span><span><span>&rdquo;</span></span><span>来计算分配空间的长度，否则有可能导致分配的内存空间长度不足，造成越界访问，带来各种严重后果。</span><span><br /></span><span>一个很简单的计算数据长度的方法如下：</span><span><br /><br /><span>int&nbsp;LineLength,&nbsp;TotalLength;<br />LineLength&nbsp;=&nbsp;ImageWidth&nbsp;*&nbsp;BytesPerPixel;&nbsp;//&nbsp;</span></span><span>每行数据长度大致为图象宽度乘以</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>每像素的字节数</span><span><br /><span>while(&nbsp;LineLength&nbsp;%&nbsp;4&nbsp;!=&nbsp;0&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>修正</span><span><span>LineLength</span></span><span>使其为</span><span><span>4</span></span><span>的倍数</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;++LineLenth;<br />TotalLength&nbsp;=&nbsp;LineLength&nbsp;*&nbsp;ImageHeight;&nbsp;&nbsp;//&nbsp;</span></span><span>数据总长</span><span><span>&nbsp;=&nbsp;</span></span><span>每行长度</span><span><span>&nbsp;*&nbsp;</span></span><span>图象高度</span><span><br /><br /></span><span>这并不是效率最高的方法，但由于这个修正本身运算量并不大，使用频率也不高，我们就不需要再考虑更快的方法了。</span><span><br /><span><span>2</span></span></span><span>、简单的</span><span><span>OpenGL</span></span><span>像素操作</span><span><br /><span>OpenGL</span></span><span>提供了简洁的函数来操作像素：</span><span><br /><span><span>glReadPixels</span></span></span><span>：读取一些像素。当前可以简单理解为</span><span><span>&ldquo;</span></span><span>把已经绘制好的像素（它可能已经被保存到显卡的显存中）读取到内存</span><span><span>&rdquo;</span></span><span>。</span><span><br /><span><span>glDrawPixels</span></span></span><span>：绘制一些像素。当前可以简单理解为</span><span><span>&ldquo;</span></span><span>把内存中一些数据作为像素数据，进行绘制</span><span><span>&rdquo;</span></span><span>。</span><span><br /><span><span>glCopyPixels</span></span></span><span>：复制一些像素。当前可以简单理解为</span><span><span>&ldquo;</span></span><span>把已经绘制好的像素从一个位置复制到另一个位置</span><span><span>&rdquo;</span></span><span>。虽然从功能上看，好象等价于先读取像素再绘制像素，但实际上它不需要把已经绘制的像素（它可能已经被保存到显卡的显存中）转换为内存数据，然后再由内存数据进行重新的绘制，所以要比先读取后绘制快很多。</span><span><br /></span><span>这三个函数可以完成简单的像素读取、绘制和复制任务，但实际上也可以完成更复杂的任务。当前，我们仅讨论一些简单的应用。由于这几个函数的参数数目比较多，下面我们分别介绍。</span><span><br /><br /><span><span>3</span></span></span><span>、</span><span><span>glReadPixels</span></span><span>的用法和举例</span><span><br /><span><span>3.1&nbsp;</span></span></span><span>函数的参数说明</span><span><br /></span><span>该函数总共有七个参数。前四个参数可以得到一个矩形，该矩形所包括的像素都会被读取出来。（第一、二个参数表示了矩形的左下角横、纵坐标，坐标以窗口最左下角为零，最右上角为最大值；第三、四个参数表示了矩形的宽度和高度）</span><span><br /></span><span>第五个参数表示读取的内容，例如：</span><span><span>GL_RGB</span></span><span>就会依次读取像素的红、绿、蓝三种数据，</span><span><span>GL_RGBA</span></span><span>则会依次读取像素的红、绿、蓝、</span><span><span>alpha</span></span><span>四种数据，</span><span><span>GL_RED</span></span><span>则只读取像素的红色数据（类似的还有</span><span><span>GL_GREEN</span></span><span>，</span><span><span>GL_BLUE</span></span><span>，以及</span><span><span>GL_ALPHA</span></span><span>）。如果采用的不是</span><span><span>RGBA</span></span><span>颜色模式，而是采用颜色索引模式，则也可以使用</span><span><span>GL_COLOR_INDEX</span></span><span>来读取像素的颜色索引。目前仅需要知道这些，但实际上还可以读取其它内容，例如深度缓冲区的深度数据等。</span><span><br /></span><span>第六个参数表示读取的内容保存到内存时所使用的格式，例如：</span><span><span>GL_UNSIGNED_BYTE</span></span><span>会把各种数据保存为</span><span><span>GLubyte</span></span><span>，</span><span><span>GL_FLOAT</span></span><span>会把各种数据保存为</span><span><span>GLfloat</span></span><span>等。</span><span><br /></span><span>第七个参数表示一个指针，像素数据被读取后，将被保存到这个指针所表示的地址。注意，需要保证该地址有足够的可以使用的空间，以容纳读取的像素数据。例如一幅大小为</span><span><span>256*256</span></span><span>的图象，如果读取其</span><span><span>RGB</span></span><span>数据，且每一数据被保存为</span><span><span>GLubyte</span></span><span>，总大小就是：</span><span><span>256*256*3&nbsp;=&nbsp;196608</span></span><span>字节，即</span><span><span>192</span></span><span>千字节。如果是读取</span><span><span>RGBA</span></span><span>数据，则总大小就是</span><span><span>256*256*4&nbsp;=&nbsp;262144</span></span><span>字节，即</span><span><span>256</span></span><span>千字节。</span><span><br /><br /></span><span>注意：</span><span><span>glReadPixels</span></span><span>实际上是从缓冲区中读取数据，如果使用了双缓冲区，则默认是从正在显示的缓冲（即前缓冲）中读取，而绘制工作是默认绘制到后缓冲区的。因此，如果需要读取已经绘制好的像素，往往需要先交换前后缓冲。</span><span><br /><br /></span><span>再看前面提到的</span><span><span>BMP</span></span><span>文件中两个需要注意的地方：</span><span><br /><span><span>3.2&nbsp;</span></span></span><span>解决</span><span><span>OpenGL</span></span><span>常用的</span><span><span>RGB</span></span><span>像素数据与</span><span><span>BMP</span></span><span>文件的</span><span><span>BGR</span></span><span>像素数据顺序不一致问题</span><span><br /></span><span>可以使用一些代码交换每个像素的第一字节和第三字节，使得</span><span><span>RGB</span></span><span>的数据变成</span><span><span>BGR</span></span><span>的数据。当然也可以使用另外的方式解决问题：新版本的</span><span><span>OpenGL</span></span><span>除了可以使用</span><span><span>GL_RGB</span></span><span>读取像素的红、绿、蓝数据外，也可以使用</span><span><span>GL_BGR</span></span><span>按照相反的顺序依次读取像素的蓝、绿、红数据，这样就与</span><span><span>BMP</span></span><span>文件格式相吻合了。即使你的</span><span><span>gl/gl.h</span></span><span>头文件中没有定义这个</span><span><span>GL_BGR</span></span><span>，也没有关系，可以尝试使用</span><span><span>GL_BGR_EXT</span></span><span>。虽然有的</span><span><span>OpenGL</span></span><span>实现（尤其是旧版本的实现）并不能使用</span><span><span>GL_BGR_EXT</span></span><span>，但我所知道的</span><span><span>Windows</span></span><span>环境下各种</span><span><span>OpenGL</span></span><span>实现都对</span><span><span>GL_BGR</span></span><span>提供了支持，毕竟</span><span><span>Windows</span></span><span>中各种表示颜色的数据几乎都是使用</span><span><span>BGR</span></span><span>的顺序，而非</span><span><span>RGB</span></span><span>的顺序。这可能与</span><span><span>IBM-PC</span></span><span>的硬件设计有关。</span><span><br /><br /><span><span>3.3&nbsp;</span></span></span><span>消除</span><span><span>BMP</span></span><span>文件中</span><span><span>&ldquo;</span></span><span>对齐</span><span><span>&rdquo;</span></span><span>带来的影响</span><span><br /></span><span>实际上</span><span><span>OpenGL</span></span><span>也支持使用了这种</span><span><span>&ldquo;</span></span><span>对齐</span><span><span>&rdquo;</span></span><span>方式的像素数据。只要通过</span><span><span>glPixelStore</span></span><span>修改</span><span><span>&ldquo;</span></span><span>像素保存时对齐的方式</span><span><span>&rdquo;</span></span><span>就可以了。像这样：</span><span><br /><span>int&nbsp;alignment&nbsp;=&nbsp;4;<br />glPixelStorei(GL_UNPACK_ALIGNMENT,&nbsp;alignment);<br /></span></span><span>第一个参数表示</span><span><span>&ldquo;</span></span><span>设置像素的对齐值</span><span><span>&rdquo;</span></span><span>，第二个参数表示实际设置为多少。这里像素可以单字节对齐（实际上就是不使用对齐）、双字节对齐（如果长度为奇数，则再补一个字节）、四字节对齐（如果长度不是四的倍数，则补为四的倍数）、八字节对齐。分别对应</span><span><span>alignment</span></span><span>的值为</span><span><span>1,&nbsp;2,&nbsp;4,&nbsp;8</span></span><span>。实际上，默认的值是</span><span><span>4</span></span><span>，正好与</span><span><span>BMP</span></span><span>文件的对齐方式相吻合。</span><span><br /><span>glPixelStorei</span></span><span>也可以用于设置其它各种参数。但我们这里并不需要深入讨论了。</span><span><br /><br /></span><span>现在，我们已经可以把屏幕上的像素读取到内存了，如果需要的话，我们还可以将内存中的数据保存到文件。正确的对照</span><span><span>BMP</span></span><span>文件格式，我们的程序就可以把屏幕中的图象保存为</span><span><span>BMP</span></span><span>文件，达到屏幕截图的效果。</span><span><br /></span><span>我们并没有详细介绍</span><span><span>BMP</span></span><span>文件开头的</span><span><span>54</span></span><span>个字节的所有内容，不过这无伤大雅。从一个正确的</span><span><span>BMP</span></span><span>文件中读取前</span><span><span>54</span></span><span>个字节，修改其中的宽度和高度信息，就可以得到新的文件头了。假设我们先建立一个</span><span><span>1*1</span></span><span>大小的</span><span><span>24</span></span><span>位色</span><span><span>BMP</span></span><span>，文件名为</span><span><span>dummy.bmp</span></span><span>，又假设新的</span><span><span>BMP</span></span><span>文件名称为</span><span><span>grab.bmp</span></span><span>。则可以编写如下代码：</span><span><br /><br /><span>FILE*&nbsp;pOriginFile&nbsp;=&nbsp;fopen(&quot;dummy.bmp&quot;,&nbsp;&quot;rb);<br />FILE*&nbsp;pGrabFile&nbsp;=&nbsp;fopen(&quot;grab.bmp&quot;,&nbsp;&quot;wb&quot;);<br />char&nbsp;&nbsp;BMP_Header[54];<br />GLint&nbsp;width,&nbsp;height;<br /><br />/*&nbsp;</span></span><span>先在这里设置好图象的宽度和高度，即</span><span><span>width</span></span><span>和</span><span><span>height</span></span><span>的值，并计算像素的总长度</span><span><span>&nbsp;*/<br /><br />//&nbsp;</span></span><span>读取</span><span><span>dummy.bmp</span></span><span>中的头</span><span><span>54</span></span><span>个字节到数组</span><span><br /><span>fread(BMP_Header,&nbsp;sizeof(BMP_Header),&nbsp;1,&nbsp;pOriginFile);<br />//&nbsp;</span></span><span>把数组内容写入到新的</span><span><span>BMP</span></span><span>文件</span><span><br /><span>fwrite(BMP_Header,&nbsp;sizeof(BMP_Header),&nbsp;1,&nbsp;pGrabFile);<br /><br />//&nbsp;</span></span><span>修改其中的大小信息</span><span><br /><span>fseek(pGrabFile,&nbsp;0x0012,&nbsp;SEEK_SET);<br />fwrite(&amp;width,&nbsp;sizeof(width),&nbsp;1,&nbsp;pGrabFile);<br />fwrite(&amp;height,&nbsp;sizeof(height),&nbsp;1,&nbsp;pGrabFile);<br /><br />//&nbsp;</span></span><span>移动到文件末尾，开始写入像素数据</span><span><br /><span>fseek(pGrabFile,&nbsp;0,&nbsp;SEEK_END);<br /><br />/*&nbsp;</span></span><span>在这里写入像素数据到文件</span><span><span>&nbsp;*/<br /><br />fclose(pOriginFile);<br />fclose(pGrabFile);</span></span></p><p align="left"><span>我们给出完整的代码，演示如何把整个窗口的图象抓取出来并保存为</span><span><span>BMP</span></span><span>文件。</span></p><p align="left"><span><span>#define&nbsp;WindowWidth&nbsp;&nbsp;400<br />#define&nbsp;WindowHeight&nbsp;400<br /><br />#include&nbsp;&lt;stdio.h&gt;<br />#include&nbsp;&lt;stdlib.h&gt;<br /><br />/*&nbsp;</span></span><span>函数</span><span><span>grab<br />&nbsp;*&nbsp;</span></span><span>抓取窗口中的像素</span><span><br /><span>&nbsp;*&nbsp;</span></span><span>假设窗口宽度为</span><span><span>WindowWidth</span></span><span>，高度为</span><span><span>WindowHeight<br />&nbsp;*/<br />#define&nbsp;BMP_Header_Length&nbsp;54<br />void&nbsp;grab(void)<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;FILE*&nbsp;&nbsp;&nbsp;&nbsp;pDummyFile;<br />&nbsp;&nbsp;&nbsp;&nbsp;FILE*&nbsp;&nbsp;&nbsp;&nbsp;pWritingFile;<br />&nbsp;&nbsp;&nbsp;&nbsp;GLubyte*&nbsp;pPixelData;<br />&nbsp;&nbsp;&nbsp;&nbsp;GLubyte&nbsp;&nbsp;BMP_Header[BMP_Header_Length];<br />&nbsp;&nbsp;&nbsp;&nbsp;GLint&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j;<br />&nbsp;&nbsp;&nbsp;&nbsp;GLint&nbsp;&nbsp;&nbsp;&nbsp;PixelDataLength;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>计算像素数据的实际长度</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;WindowWidth&nbsp;*&nbsp;3;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>得到每一行的像素数据长度</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;while(&nbsp;i%4&nbsp;!=&nbsp;0&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>补充数据，直到</span><span><span>i</span></span><span>是的倍数</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++i;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>本来还有更快的算法，</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>但这里仅追求直观，对速度没有太高要求</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;PixelDataLength&nbsp;=&nbsp;i&nbsp;*&nbsp;WindowHeight;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>分配内存和打开文件</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;pPixelData&nbsp;=&nbsp;(GLubyte*)malloc(PixelDataLength);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;pPixelData&nbsp;==&nbsp;0&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;pDummyFile&nbsp;=&nbsp;fopen(&quot;dummy.bmp&quot;,&nbsp;&quot;rb&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;pDummyFile&nbsp;==&nbsp;0&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;pWritingFile&nbsp;=&nbsp;fopen(&quot;grab.bmp&quot;,&nbsp;&quot;wb&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;pWritingFile&nbsp;==&nbsp;0&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>读取像素</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glPixelStorei(GL_UNPACK_ALIGNMENT,&nbsp;4);<br />&nbsp;&nbsp;&nbsp;&nbsp;glReadPixels(0,&nbsp;0,&nbsp;WindowWidth,&nbsp;WindowHeight,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GL_BGR_EXT,&nbsp;GL_UNSIGNED_BYTE,&nbsp;pPixelData);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>把</span><span><span>dummy.bmp</span></span><span>的文件头复制为新文件的文件头</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;fread(BMP_Header,&nbsp;sizeof(BMP_Header),&nbsp;1,&nbsp;pDummyFile);<br />&nbsp;&nbsp;&nbsp;&nbsp;fwrite(BMP_Header,&nbsp;sizeof(BMP_Header),&nbsp;1,&nbsp;pWritingFile);<br />&nbsp;&nbsp;&nbsp;&nbsp;fseek(pWritingFile,&nbsp;0x0012,&nbsp;SEEK_SET);<br />&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;WindowWidth;<br />&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;=&nbsp;WindowHeight;<br />&nbsp;&nbsp;&nbsp;&nbsp;fwrite(&amp;i,&nbsp;sizeof(i),&nbsp;1,&nbsp;pWritingFile);<br />&nbsp;&nbsp;&nbsp;&nbsp;fwrite(&amp;j,&nbsp;sizeof(j),&nbsp;1,&nbsp;pWritingFile);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>写入像素数据</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;fseek(pWritingFile,&nbsp;0,&nbsp;SEEK_END);<br />&nbsp;&nbsp;&nbsp;&nbsp;fwrite(pPixelData,&nbsp;PixelDataLength,&nbsp;1,&nbsp;pWritingFile);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>释放内存和关闭文件</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;fclose(pDummyFile);<br />&nbsp;&nbsp;&nbsp;&nbsp;fclose(pWritingFile);<br />&nbsp;&nbsp;&nbsp;&nbsp;free(pPixelData);<br />&#125;</span></span></p><p align="left"><span><br /><br /></span><span>把这段代码复制到以前任何课程的样例程序中，在绘制函数的最后调用</span><span><span>grab</span></span><span>函数，即可把图象内容保存为</span><span><span>BMP</span></span><span>文件了。（在我写这个教程的时候，不少地方都用这样的代码进行截图工作，这段代码一旦写好，运行起来是很方便的。）</span><span><br /><span><span>4</span></span></span><span>、</span><span><span>glDrawPixels</span></span><span>的用法和举例</span><span><br /><span>glDrawPixels</span></span><span>函数与</span><span><span>glReadPixels</span></span><span>函数相比，参数内容大致相同。它的第一、二、三、四个参数分别对应于</span><span><span>glReadPixels</span></span><span>函数的第三、四、五、六个参数，依次表示图象宽度、图象高度、像素数据内容、像素数据在内存中的格式。两个函数的最后一个参数也是对应的，</span><span><span>glReadPixels</span></span><span>中表示像素读取后存放在内存中的位置，</span><span><span>glDrawPixels</span></span><span>则表示用于绘制的像素数据在内存中的位置。</span><span><br /></span><span>注意到</span><span><span>glDrawPixels</span></span><span>函数比</span><span><span>glReadPixels</span></span><span>函数少了两个参数，这两个参数在</span><span><span>glReadPixels</span></span><span>中分别是表示图象的起始位置。在</span><span><span>glDrawPixels</span></span><span>中，不必显式的指定绘制的位置，这是因为绘制的位置是由另一个函数</span><span><span>glRasterPos*</span></span><span>来指定的。</span><span><span>glRasterPos*</span></span><span>函数的参数与</span><span><span>glVertex*</span></span><span>类似，通过指定一个二维</span><span><span>/</span></span><span>三维</span><span><span>/</span></span><span>四维坐标，</span><span><span>OpenGL</span></span><span>将自动计算出该坐标对应的屏幕位置，并把该位置作为绘制像素的起始位置。</span><span><br /></span><span>很自然的，我们可以从</span><span><span>BMP</span></span><span>文件中读取像素数据，并使用</span><span><span>glDrawPixels</span></span><span>绘制到屏幕上。我们选择</span><span><span>Windows&nbsp;XP</span></span><span>默认的桌面背景</span><span><span>Bliss.bmp</span></span><span>作为绘制的内容（如果你使用的是</span><span><span>Windows&nbsp;XP</span></span><span>系统，很可能可以在硬盘中搜索到这个文件。当然你也可以使用其它</span><span><span>BMP</span></span><span>文件来代替，只要它是</span><span><span>24</span></span><span>位的</span><span><span>BMP</span></span><span>文件。注意需要修改代码开始部分的</span><span><span>FileName</span></span><span>的定义），先把该文件复制一份放到正确的位置，我们在程序开始时，就读取该文件，从而获得图象的大小后，根据该大小来创建合适的</span><span><span>OpenGL</span></span><span>窗口，并绘制像素。</span><span><br /></span><span>绘制像素本来是很简单的过程，但是这个程序在骨架上与前面的各种示例程序稍有不同，所以我还是打算给出一份完整的代码。</span></p><p align="left"><span><span>#include&nbsp;&lt;gl/glut.h&gt;<br /><br />#define&nbsp;FileName&nbsp;&quot;Bliss.bmp&quot;<br /><br />static&nbsp;GLint&nbsp;&nbsp;&nbsp;&nbsp;ImageWidth;<br />static&nbsp;GLint&nbsp;&nbsp;&nbsp;&nbsp;ImageHeight;<br />static&nbsp;GLint&nbsp;&nbsp;&nbsp;&nbsp;PixelLength;<br />static&nbsp;GLubyte*&nbsp;PixelData;<br /><br />#include&nbsp;&lt;stdio.h&gt;<br />#include&nbsp;&lt;stdlib.h&gt;<br /><br />void&nbsp;display(void)<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>清除屏幕并不必要</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>每次绘制时，画面都覆盖整个屏幕</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>因此无论是否清除屏幕，结果都一样</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;glClear(GL_COLOR_BUFFER_BIT);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>绘制像素</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glDrawPixels(ImageWidth,&nbsp;ImageHeight,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GL_BGR_EXT,&nbsp;GL_UNSIGNED_BYTE,&nbsp;PixelData);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>完成绘制</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glutSwapBuffers();<br />&#125;<br /><br />int&nbsp;main(int&nbsp;argc,&nbsp;char*&nbsp;argv[])<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>打开文件</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;FILE*&nbsp;pFile&nbsp;=&nbsp;fopen(&quot;Bliss.bmp&quot;,&nbsp;&quot;rb&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;pFile&nbsp;==&nbsp;0&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>读取图象的大小信息</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;fseek(pFile,&nbsp;0x0012,&nbsp;SEEK_SET);<br />&nbsp;&nbsp;&nbsp;&nbsp;fread(&amp;ImageWidth,&nbsp;sizeof(ImageWidth),&nbsp;1,&nbsp;pFile);<br />&nbsp;&nbsp;&nbsp;&nbsp;fread(&amp;ImageHeight,&nbsp;sizeof(ImageHeight),&nbsp;1,&nbsp;pFile);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>计算像素数据长度</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;PixelLength&nbsp;=&nbsp;ImageWidth&nbsp;*&nbsp;3;<br />&nbsp;&nbsp;&nbsp;&nbsp;while(&nbsp;PixelLength&nbsp;%&nbsp;4&nbsp;!=&nbsp;0&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++PixelLength;<br />&nbsp;&nbsp;&nbsp;&nbsp;PixelLength&nbsp;*=&nbsp;ImageHeight;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>读取像素数据</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;PixelData&nbsp;=&nbsp;(GLubyte*)malloc(PixelLength);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;PixelData&nbsp;==&nbsp;0&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;fseek(pFile,&nbsp;54,&nbsp;SEEK_SET);<br />&nbsp;&nbsp;&nbsp;&nbsp;fread(PixelData,&nbsp;PixelLength,&nbsp;1,&nbsp;pFile);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>关闭文件</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;fclose(pFile);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>初始化</span><span><span>GLUT</span></span><span>并运行</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glutInit(&amp;argc,&nbsp;argv);<br />&nbsp;&nbsp;&nbsp;&nbsp;glutInitDisplayMode(GLUT_DOUBLE&nbsp;&#124;&nbsp;GLUT_RGBA);<br />&nbsp;&nbsp;&nbsp;&nbsp;glutInitWindowPosition(100,&nbsp;100);<br />&nbsp;&nbsp;&nbsp;&nbsp;glutInitWindowSize(ImageWidth,&nbsp;ImageHeight);<br />&nbsp;&nbsp;&nbsp;&nbsp;glutCreateWindow(FileName);<br />&nbsp;&nbsp;&nbsp;&nbsp;glutDisplayFunc(&amp;display);<br />&nbsp;&nbsp;&nbsp;&nbsp;glutMainLoop();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>释放内存</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>实际上，</span><span><span>glutMainLoop</span></span><span>函数永远不会返回，这里也永远不会到达</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>这里写释放内存只是出于一种个人习惯</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>不用担心内存无法释放。在程序结束时操作系统会自动回收所有内存</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;free(PixelData);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;<br />&#125;</span></span></p><p align="left"><span><br /><br /></span><span>这里仅仅是一个简单的显示</span><span><span>24</span></span><span>位</span><span><span>BMP</span></span><span>图象的程序，如果读者对</span><span><span>BMP</span></span><span>文件格式比较熟悉，也可以写出适用于各种</span><span><span>BMP</span></span><span>图象的显示程序，在像素处理时，它们所使用的方法是类似的。</span><span><br /><span>OpenGL</span></span><span>在绘制像素之前，可以对像素进行若干处理。最常用的可能就是对整个像素图象进行放大</span><span><span>/</span></span><span>缩小。使用</span><span><span>glPixelZoom</span></span><span>来设置放大</span><span><span>/</span></span><span>缩小的系数，该函数有两个参数，分别是水平方向系数和垂直方向系数。例如设置</span><span><span>glPixelZoom(0.5f,&nbsp;0.8f);</span></span><span>则表示水平方向变为原来的</span><span><span>50%</span></span><span>大小，而垂直方向变为原来的</span><span><span>80%</span></span><span>大小。我们甚至可以使用负的系数，使得整个图象进行水平方向或垂直方向的翻转（默认像素从左绘制到右，但翻转后将从右绘制到左。默认像素从下绘制到上，但翻转后将从上绘制到下。因此，</span><span><span>glRasterPos*</span></span><span>函数设置的</span><span><span>&ldquo;</span></span><span>开始位置</span><span><span>&rdquo;</span></span><span>不一定就是矩形的左下角）。</span><span><br /><span><span>5</span></span></span><span>、</span><span><span>glCopyPixels</span></span><span>的用法和举例</span><span><br /></span><span>从效果上看，</span><span><span>glCopyPixels</span></span><span>进行像素复制的操作，等价于把像素读取到内存，再从内存绘制到另一个区域，因此可以通过</span><span><span>glReadPixels</span></span><span>和</span><span><span>glDrawPixels</span></span><span>组合来实现复制像素的功能。然而我们知道，像素数据通常数据量很大，例如一幅</span><span><span>1024*768</span></span><span>的图象，如果使用</span><span><span>24</span></span><span>位</span><span><span>BGR</span></span><span>方式表示，则需要至少</span><span><span>1024*768*3</span></span><span>字节，即</span><span><span>2.25</span></span><span>兆字节。这么多的数据要进行一次读操作和一次写操作，并且因为在</span><span><span>glReadPixels</span></span><span>和</span><span><span>glDrawPixels</span></span><span>中设置的数据格式不同，很可能涉及到数据格式的转换。这对</span><span><span>CPU</span></span><span>无疑是一个不小的负担。使用</span><span><span>glCopyPixels</span></span><span>直接从像素数据复制出新的像素数据，避免了多余的数据的格式转换，并且也可能减少一些数据复制操作（因为数据可能直接由显卡负责复制，不需要经过主内存），因此效率比较高。</span><span><br /><span>glCopyPixels</span></span><span>函数也通过</span><span><span>glRasterPos*</span></span><span>系列函数来设置绘制的位置，因为不需要涉及到主内存，所以不需要指定数据在内存中的格式，也不需要使用任何指针。</span><span><br /><span>glCopyPixels</span></span><span>函数有五个参数，第一、二个参数表示复制像素来源的矩形的左下角坐标，第三、四个参数表示复制像素来源的举行的宽度和高度，第五个参数通常使用</span><span><span>GL_COLOR</span></span><span>，表示复制像素的颜色，但也可以是</span><span><span>GL_DEPTH</span></span><span>或</span><span><span>GL_STENCIL</span></span><span>，分别表示复制深度缓冲数据或模板缓冲数据。</span><span><br /></span><span>值得一提的是，</span><span><span>glDrawPixels</span></span><span>和</span><span><span>glReadPixels</span></span><span>中设置的各种操作，例如</span><span><span>glPixelZoom</span></span><span>等，在</span><span><span>glCopyPixels</span></span><span>函数中同样有效。</span><span><br /></span><span>下面看一个简单的例子，绘制一个三角形后，复制像素，并同时进行水平和垂直方向的翻转，然后缩小为原来的一半，并绘制。绘制完毕后，调用前面的</span><span><span>grab</span></span><span>函数，将屏幕中所有内容保存为</span><span><span>grab.bmp</span></span><span>。其中</span><span><span>WindowWidth</span></span><span>和</span><span><span>WindowHeight</span></span><span>是表示窗口宽度和高度的常量。</span></p><p align="left"><span><span>void&nbsp;display(void)<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>清除屏幕</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glClear(GL_COLOR_BUFFER_BIT);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>绘制</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glBegin(GL_TRIANGLES);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;glColor3f(1.0f,&nbsp;0.0f,&nbsp;0.0f);&nbsp;&nbsp;&nbsp;&nbsp;glVertex2f(0.0f,&nbsp;0.0f);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;glColor3f(0.0f,&nbsp;1.0f,&nbsp;0.0f);&nbsp;&nbsp;&nbsp;&nbsp;glVertex2f(1.0f,&nbsp;0.0f);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;glColor3f(0.0f,&nbsp;0.0f,&nbsp;1.0f);&nbsp;&nbsp;&nbsp;&nbsp;glVertex2f(0.5f,&nbsp;1.0f);<br />&nbsp;&nbsp;&nbsp;&nbsp;glEnd();<br />&nbsp;&nbsp;&nbsp;&nbsp;glPixelZoom(-0.5f,&nbsp;-0.5f);<br />&nbsp;&nbsp;&nbsp;&nbsp;glRasterPos2i(1,&nbsp;1);<br />&nbsp;&nbsp;&nbsp;&nbsp;glCopyPixels(WindowWidth/2,&nbsp;WindowHeight/2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WindowWidth/2,&nbsp;WindowHeight/2,&nbsp;GL_COLOR);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;</span></span><span>完成绘制，并抓取图象保存为</span><span><span>BMP</span></span><span>文件</span><span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;glutSwapBuffers();<br />&nbsp;&nbsp;&nbsp;&nbsp;grab();<br />&#125;</span></span></p><p><span><br /><br /></span></p><p><span></span></p><p><span>小结：</span><span><br /></span><span>本课结合</span><span><span>Windows</span></span><span>系统常见的</span><span><span>BMP</span></span><span>图象格式，简单介绍了</span><span><span>OpenGL</span></span><span>的像素处理功能。包括使用</span><span><span>glReadPixels</span></span><span>读取像素、</span><span><span>glDrawPixels</span></span><span>绘制像素、</span><span><span>glCopyPixels</span></span><span>复制像素。</span><span><br /></span><span>本课仅介绍了像素处理的一些简单应用，但相信大家已经可以体会到，围绕这三个像素处理函数，还存在一些</span><span><span>&ldquo;</span></span><span>外围</span><span><span>&rdquo;</span></span><span>函数，比如</span><span><span>glPixelStore*</span></span><span>，</span><span><span>glRasterPos*</span></span><span>，以及</span><span><span>glPixelZoom</span></span><span>等。我们仅使用了这些函数的一少部分功能。</span><span><br /></span><span>本课内容并不多，例子足够丰富，三个像素处理函数都有例子，大家可以结合例子来体会。</span></p><p><span></span></p><p><span>附录</span><span><span>(</span></span><span>其它位色的</span><span><span>BMP</span></span><span>文件简介</span><span><span>):</span></span></p><p align="left"><span><span>BMP</span></span><span>文件组成</span><span><span>&nbsp;<br /></span></span><span>　　</span><span><span>BMP</span></span><span>文件由文件头、位图信息头、颜色信息和图形数据四部分组成。</span><span><span>&nbsp;<br /></span></span><span>　　</span><span><span>&nbsp;BMP</span></span><span>文件头</span><span><span>&nbsp;<br /></span></span><span>　　</span><span><span>BMP</span></span><span>文件头数据结构含有</span><span><span>BMP</span></span><span>文件的类型、文件大小和位图起始位置等信息。</span><span><span>&nbsp;<br /></span></span><span>　　其结构定义如下</span><span><span>:</span></span><span>　　</span><span><br /></span><span>　　</span><span><span>typedef&nbsp;struct&nbsp;tagBITMAPFILEHEADER<br /></span></span><span>　　</span><span><span>&#123;<br /></span></span><span>　　</span><span><span>WORDbfType;&nbsp;//&nbsp;</span></span><span>位图文件的类型，必须为</span><span><span>BM<br /></span></span><span>　　</span><span><span>DWORD&nbsp;bfSize;&nbsp;//&nbsp;</span></span><span>位图文件的大小，以字节为单位</span><span><br /></span><span>　　</span><span><span>WORDbfReserved1;&nbsp;//&nbsp;</span></span><span>位图文件保留字，必须为</span><span><span>0<br /></span></span><span>　　</span><span><span>WORDbfReserved2;&nbsp;//&nbsp;</span></span><span>位图文件保留字，必须为</span><span><span>0<br /></span></span><span>　　</span><span><span>DWORD&nbsp;bfOffBits;&nbsp;//&nbsp;</span></span><span>位图数据的起始位置，以相对于位图</span><span><br /></span><span>　　</span><span><span>//&nbsp;</span></span><span>文件头的偏移量表示，以字节为单位</span><span><br /></span><span>　　</span><span><span>&#125;&nbsp;BITMAPFILEHEADER;<br /></span></span><span>　　</span></p><p align="left"><span>位图信息头</span><span><span>&nbsp;<br /></span></span><span>　　</span><span><br /></span><span>　　</span><span><span>BMP</span></span><span>位图信息头数据用于说明位图的尺寸等信息。</span><span><br /></span><span>　　</span><span><span>typedef&nbsp;struct&nbsp;tagBITMAPINFOHEADER&#123;<br /></span></span><span>　　</span><span><span>DWORD&nbsp;biSize;&nbsp;//&nbsp;</span></span><span>本结构所占用字节数</span><span><br /></span><span>　　</span><span><span>LONGbiWidth;&nbsp;//&nbsp;</span></span><span>位图的宽度，以像素为单位</span><span><br /></span><span>　　</span><span><span>LONGbiHeight;&nbsp;//&nbsp;</span></span><span>位图的高度，以像素为单位</span><span><br /></span><span>　　</span><span><span>WORD&nbsp;biPlanes;&nbsp;//&nbsp;</span></span><span>目标设备的级别，必须为</span><span><span>1<br /></span></span><span>　　</span><span><span>WORD&nbsp;biBitCount//&nbsp;</span></span><span>每个像素所需的位数，必须是</span><span><span>1(</span></span><span>双色</span><span><span>),<br /></span></span><span>　　</span><span><span>//&nbsp;4(16</span></span><span>色</span><span><span>)</span></span><span>，</span><span><span>8(256</span></span><span>色</span><span><span>)</span></span><span>或</span><span><span>24(</span></span><span>真彩色</span><span><span>)</span></span><span>之一</span><span><br /></span><span>　　</span><span><span>DWORD&nbsp;biCompression;&nbsp;//&nbsp;</span></span><span>位图压缩类型，必须是</span><span><span>&nbsp;0(</span></span><span>不压缩</span><span><span>),<br /></span></span><span>　　</span><span><span>//&nbsp;1(BI_RLE8</span></span><span>压缩类型</span><span><span>)</span></span><span>或</span><span><span>2(BI_RLE4</span></span><span>压缩类型</span><span><span>)</span></span><span>之一</span><span><br /></span><span>　　</span><span><span>DWORD&nbsp;biSizeImage;&nbsp;//&nbsp;</span></span><span>位图的大小，以字节为单位</span><span><br /></span><span>　　</span><span><span>LONGbiXPelsPerMeter;&nbsp;//&nbsp;</span></span><span>位图水平分辨率，每米像素数</span><span><br /></span><span>　　</span><span><span>LONGbiYPelsPerMeter;&nbsp;//&nbsp;</span></span><span>位图垂直分辨率，每米像素数</span><span><br /></span><span>　　</span><span><span>DWORD&nbsp;biClrUsed;//&nbsp;</span></span><span>位图实际使用的颜色表中的颜色数</span><span><br /></span><span>　　</span><span><span>DWORD&nbsp;biClrImportant;//&nbsp;</span></span><span>位图显示过程中重要的颜色数</span><span><br /></span><span>　　</span><span><span>&#125;&nbsp;BITMAPINFOHEADER;<br /></span></span><span>　　</span></p><p align="left"><span>颜色表</span><span><span>&nbsp;<br /></span></span><span>　　颜色表用于说明位图中的颜色，它有若干个表项，每一个表项是一个</span><span><span>RGBQUAD</span></span><span>类型的结构，定义一种颜色。</span><span><span>RGBQUAD</span></span><span>结构的定义如下</span><span><span>:&nbsp;<br /></span></span><span>　　</span><span><br /></span><span>　　</span><span><span>typedef&nbsp;struct&nbsp;tagRGBQUAD&nbsp;&#123;<br /></span></span><span>　　</span><span><span>BYTErgbBlue;//&nbsp;</span></span><span>蓝色的亮度</span><span><span>(</span></span><span>值范围为</span><span><span>0-255)<br /></span></span><span>　　</span><span><span>BYTErgbGreen;&nbsp;//&nbsp;</span></span><span>绿色的亮度</span><span><span>(</span></span><span>值范围为</span><span><span>0-255)<br /></span></span><span>　　</span><span><span>BYTErgbRed;&nbsp;//&nbsp;</span></span><span>红色的亮度</span><span><span>(</span></span><span>值范围为</span><span><span>0-255)<br /></span></span><span>　　</span><span><span>BYTErgbReserved;//&nbsp;</span></span><span>保留，必须为</span><span><span>0<br /></span></span><span>　　</span><span><span>&#125;&nbsp;RGBQUAD;<br /></span></span><span>　　颜色表中</span><span><span>RGBQUAD</span></span><span>结构数据的个数有</span><span><span>biBitCount</span></span><span>来确定</span><span><span>:<br /></span></span><span>　　当</span><span><span>biBitCount=1,4,8</span></span><span>时，分别有</span><span><span>2,16,256</span></span><span>个表项</span><span><span>;<br /></span></span><span>　　当</span><span><span>biBitCount=24</span></span><span>时，没有颜色表项。</span><span><br /></span><span>　　位图信息头和颜色表组成位图信息，</span><span><span>BITMAPINFO</span></span><span>结构定义如下</span><span><span>:<br /></span></span><span>　　</span><span><span>typedef&nbsp;struct&nbsp;tagBITMAPINFO&nbsp;&#123;<br /></span></span><span>　　</span><span><span>BITMAPINFOHEADER&nbsp;bmiHeader;&nbsp;//&nbsp;</span></span><span>位图信息头</span><span><br /></span><span>　　</span><span><span>RGBQUAD&nbsp;bmiColors[1];&nbsp;//&nbsp;</span></span><span>颜色表</span><span><br /></span><span>　　</span><span><span>&#125;&nbsp;BITMAPINFO;</span></span></p><p align="left"><span>位图数据</span><span><span>&nbsp;<br /></span></span><span>　　位图数据记录了位图的每一个像素值，记录顺序是在扫描行内是从左到右</span><span><span>,</span></span><span>扫描行之间是从下到上。位图的一个像素值所占的字节数</span><span><span>:&nbsp;<br /></span></span><span>　　</span><span><br /></span><span>　　当</span><span><span>biBitCount=1</span></span><span>时，</span><span><span>8</span></span><span>个像素占</span><span><span>1</span></span><span>个字节</span><span><span>;<br /></span></span><span>　　当</span><span><span>biBitCount=4</span></span><span>时，</span><span><span>2</span></span><span>个像素占</span><span><span>1</span></span><span>个字节</span><span><span>;<br /></span></span><span>　　当</span><span><span>biBitCount=8</span></span><span>时，</span><span><span>1</span></span><span>个像素占</span><span><span>1</span></span><span>个字节</span><span><span>;<br /></span></span><span>　　当</span><span><span>biBitCount=24</span></span><span>时</span><span><span>,1</span></span><span>个像素占</span><span><span>3</span></span><span>个字节</span><span><span>;<br /></span></span><span>　　</span><span><span>Windows</span></span><span>规定一个扫描行所占的字节数必须是</span><span><br /></span><span>　　</span><span><span>4</span></span><span>的倍数</span><span><span>(</span></span><span>即以</span><span><span>long</span></span><span>为单位</span><span><span>),</span></span><span>不足的以</span><span><span>0</span></span><span>填充，</span><span><br /></span><span>　　一个扫描行所占的字节数计算方法</span><span><span>:<br /></span></span><span>　　</span><span><span>DataSizePerLine=&nbsp;(biWidth*&nbsp;biBitCount+31)/8;&nbsp;<br /></span></span><span>　　</span><span><span>//&nbsp;</span></span><span>一个扫描行所占的字节数</span><span><br /></span><span>　　</span><span><span>DataSizePerLine=&nbsp;DataSizePerLine/4*4;&nbsp;//&nbsp;</span></span><span>字节数必须是</span><span><span>4</span></span><span>的倍数</span><span><br /></span><span>　　位图数据的大小</span><span><span>(</span></span><span>不压缩情况下</span><span><span>):<br /></span></span><span>　　</span><span><span>DataSize=&nbsp;DataSizePerLine*&nbsp;biHeight;</span></span></p> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 81 ms, 6 Queries.</span>";
//]]>
</script></body>
</html>