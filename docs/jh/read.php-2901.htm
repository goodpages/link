<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>钩子基本概念 - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="read.php-2900.htm" tppabs="http://i.renjihe.com/blog/read.php?2900" title="上一篇 HOOK技术"><img src="toolbar_previous.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_previous.gif" alt='' border='0'/>HOOK技术</a></div>
	<div class="next-article"><a href="read.php-2902.htm" tppabs="http://i.renjihe.com/blog/read.php?2902" title="下一篇 Android操作系统安"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>Android操作系统安</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Aug</span>
	<span class="textbox-calendar-day">2</span>
	</div>
	<div class="textbox-title">
		<h4>
		钩子基本概念 <span id="starid2901"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 14:57 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-2901.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?2901#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb2901");'>引用(0)</a> , <a href="read.php-2901.htm" tppabs="http://i.renjihe.com/blog/read.php?2901">阅读(1)</a> ,  Via 本站原创 <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="字体大小" border='0'/> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="read.php-save_6750" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_2901"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="订阅本文" border='0'/></a> <a href="index.php-go=category_88&mode=2&page=1.htm" tppabs="http://i.renjihe.com/blog/read.php?save_2901"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="保存本文为文本文档" border='0'/></a></span>
		</div>
	</div>
	<div id="tb2901" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	<p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">基本概念<br />钩子(Hook)，是Windows消息处理机制的一个平台,应用程序可以在上面设置子程以监视指定窗口的某种消息，而且所监视的窗口可以是其他进程所创建的。当消息到达后，在目标窗口处理函数之前处理它。钩子机制允许应用程序截获处理window消息或特定事件。<br />钩子实际上是一个处理消息的程序段，通过系统调用，把它挂入系统。每当特定的消息发出，在没有到达目的窗口前，钩子程序就先捕获该消息，亦即钩子函数先得到控<br />制权。这时钩子函数即可以加工处理（改变）该消息，也可以不作处理而继续传递该消息，还可以强制结束消息的传递。<br />运行机制<br />1、钩子链表和钩子子程：<br />每一个Hook都有一个与之相关联的指针列表，称之为钩子链表，由系统来维护。这个列表的指针指向指定的，应用程序定义的，被Hook子程调用的回调函数，也就是该钩子的各个处理子程。当与指定的Hook类型关联的消息发生时，系统就把这个消息传递到Hook子程。一些Hook子程可以只监视消息，或者修改消息，或者停止消息的前进，避免这些消息传递到下一个Hook子程或者目的窗口。最近安装的钩子放在链的开始，而最早安装的钩子放在最后，也就是后加入的先获得控制权。<br />Windows 并不要求钩子子程的卸载顺序一定得和安装顺序相反。每当有一个钩子被卸载，Windows 便释放其占用的内存，并更新整个Hook链表。如果程序安装了钩子，但是在尚未卸载钩子之前就结束了，那么系统会自动为它做卸载钩子的操作。<br />钩子子程是一个应用程序定义的回调函数(CALLBACK Function),不能定义成某个类的成员函数，只能定义为普通的C函数。用以监视系统或某一特定类型的事件，这<br />些事件可以是与某一特定线程关联的，也可以是系统中所有线程的事件。<br />钩子子程必须按照以下的语法：<br />LRESULT CALLBACK HookProc<br />(<br />int nCode,<br />WPARAM wParam,<br />LPARAM lParam<br />);<br />当然上面是在C中的表达方式,意思是说这个直定义的钩子子程必须有3个参数,在易中应象这样表达:<br />.子程序 HookProc, 整数型, 公开, 钩子回调函数<br />.参数 ncode, 整数型<br />.参数 wParam, 整数型<br />.参数 lParam, 整数型<br />HookProc是应用程序定义的名字。<br />nCode参数是Hook代码，Hook子程使用这个参数来确定任务。这个参数的值依赖于Hook类型，每一种Hook都有自己的Hook代码特征字符集。<br />wParam和lParam参数的值依赖于Hook代码，但是它们的典型值是包含了关于发送或者接收消息的信息。<br />2、钩子的安装与释放：<br />&lt;1&gt;钩子的安装<br />使用API函数SetWindowsHookEx()把一个应用程序定义的钩子子程安装到钩子链表中。SetWindowsHookEx函数总是在Hook链的开头安装Hook子程。当指定类型的Hook监视的事件发生时，系统就调用与这个Hook关联的Hook链的开头的Hook子程。每一个Hook链中的Hook子程都决定是否把这个事件传递到下一个Hook子程。Hook子程传递事件到下一个Hook子程需要调用CallNextHookEx函数。<br />HHOOK SetWindowsHookEx(<br />　　　　　int idHook,&nbsp;&nbsp;&nbsp; //参数&lt;1&gt;<br />　　　　　<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HOOKPROC lpfn,&nbsp; //参数&lt;2&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HINSTANCE hMod,&nbsp;&nbsp; //参数&lt;3&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DWORD dwThreadId&nbsp; //参数&lt;4&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />　　　　　 );<br />&nbsp;&nbsp;&nbsp; 在易中则这样声明DLL:<br />.DLL命令 api_SetWindowsHookExA, 整数型, , &quot;SetWindowsHookExA&quot;<br />&nbsp;&nbsp;&nbsp; .参数 idHook, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 lpfn, 子程序指针<br />&nbsp;&nbsp;&nbsp; .参数 nMod, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 dwThreadID, 整数型<br />参数&lt;1&gt;idHook是钩子的类型，即它处理的消息类型<br />参数&lt;2&gt;lpfn是钩子子程的地址指针。如果dwThreadId参数为0,或是一个由别的进程创建的线程的标识<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lpfn必须指向DLL中的钩子子程。除此以外，lpfn可以指向当前进程的一段钩子子程代码。&nbsp;&nbsp;&nbsp; 参数&lt;3&gt;nMod是应用程序实例的句柄。标识包含lpfn所指的子程的DLL,如果dwThreadId 标识当前进程&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 创建的一个线程，而且子程代码位于当前进程，hMod必须为NULL。可以很简单的设定其为本&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 应用程序的实例句柄。<br />参数&lt;4&gt;dwThreadID:与安装的钩子子程相关联的线程的标识符, 如果为0，钩子子程与所有的线程关联&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 即为全局钩子。<br />函数成功则返回钩子子程的句柄，失败返回(NULL)0。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&lt;2&gt;钩子的循环<br />&nbsp; 以上所说的钩子子程与线程相关联是指在一钩子链表中发给该线程的消息同时发送给钩子子程，且被钩子子程先处理。在钩子子程中调用得到控制权的钩子函数在完成对消息的处理后，如果想要该消息继续传递，那么它必须调用另外一个SDK中<br />的API函数CallNextHookEx来传递它，以执行钩子链表所指的下一个钩子子程。这个函数成功时返回钩子链中下一个钩子过程的返回值，返回值的类型依赖于钩子的类型。这个函数的原型如下：<br />LRESULT CallNextHookEx<br />(<br />HHOOK hhook;<br />int nCode;<br />WPARAM wParam;<br />LPARAM lParam;<br />);<br />在易中则这样声明DLL:<br />.DLL命令 CallNextHookEx, 整数型, , &quot;CallNextHookEx&quot;<br />&nbsp;&nbsp;&nbsp; .参数 hhook, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 nCode, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 wParam, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 lParam, 整数型<br />hk为当前钩子的句柄，由SetWindowsHookEx()函数返回。<br />NCode为传给钩子过程的事件代码。<br />wParam和lParam 分别是传给钩子子程的wParam值，其具体含义与钩子类型有关。<br />钩子函数也可以通过直接返回(TRUE)真来丢弃该消息，并阻止该消息的传递。否则的话，其他安装了钩子的应用程序将不会接收到钩子的通知而且还有可能产生不正确的结果。<br />&lt;3&gt;钩子的卸载<br />&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp; 钩子在使用完之后需要用UnHookWindowsHookEx()卸载，否则会造成麻烦。释放<br />钩子比较简单，UnHookWindowsHookEx()只有一个参数。函数原型如下：<br />UnHookWindowsHookEx<br />(<br />HHOOK hhk;<br />);<br />在易中则这样声明DLL:<br />.DLL命令 api_UnhookWindowsHookEx, 逻辑型, , &quot;UnhookWindowsHookEx&quot;<br />&nbsp;&nbsp;&nbsp; .参数 hhook, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">函数成功返回(TRUE)真，否则返回(FALSE)假。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">3、一些运行机制：<br />在Win16环境中，DLL的全局数据对每个载入它的进程来说都是相同的；而在Win32<br />环境中，情况却发生了变化，DLL函数中的代码所创建的任何对象（包括变量）都<br />归调用它的线程或进程所有。当进程在载入DLL时，操作系统自动把DLL地址映射<br />到该进程的私有空间，也就是进程的虚拟地址空间，而且也复制该DLL的全局数据<br />的一份拷贝到该进程空间。也就是说每个进程所拥有的相同的DLL的全局数据，它<br />们的名称相同，但其值却并不一定是相同的，而且是互不干涉的。<br />因此，在Win32环境下要想在多个进程中共享数据，就必须进行必要的设置。在访<br />问同一个Dll的各进程之间共享存储器是通过存储器映射文件技术实现的。也可以<br />把这些需要共享的数据分离出来，放置在一个独立的数据段里，并把该段的属性设置为共享。必须给这些变量赋初值，否则编译器会把没有赋初始值的变量放在一个叫未被初始化的数据段中。<br />#pragma data_seg预处理指令用于设置共享数据段。例如：<br />#pragma data_seg(&quot;SharedDataName&quot;)<br />HHOOK hHook=NULL;<br />#pragma data_seg()<br />在#pragma data_seg(&quot;SharedDataName&quot;)和#pragma data_seg()之间的所有变量将被访问该Dll的所有进程看到和共享。再加上一条指令#pragma comment(linker,&quot;/section:.SharedDataName,rws&quot;),那么这个数据节中的数据可以在所有DLL的实例之间共享。所有对这些数据的操作都针对同一个实例的，而不是在每个<br />进程的地址空间中都有一份。<br />当进程隐式或显式调用一个动态库里的函数时，系统都要把这个动态库映射到这个进程的虚拟地址空间里(以下简称&quot;地址空间&quot;)。这使得DLL成为进程的一部分，以<br />这个进程的身份执行，使用这个进程的堆栈。<br />4、系统钩子与线程钩子：<br />SetWindowsHookEx()函数的最后一个参数决定了此钩子是系统钩子还是线程钩子。<br />线程勾子用于监视指定线程的事件消息。线程勾子一般在当前线程或者当前线程派生的线程内。<br />系统勾子监视系统中的所有线程的事件消息。因为系统勾子会影响系统中所有的应用程序，所以勾子函数必须放在独立的动态链接库(DLL) 中。系统自动将包含&quot;钩子回调函数&quot;的DLL映射到受钩子函数影响的所有进程的地址空间中，即将这个DLL注入了那些进程。<br />几点说明：<br />（1）如果对于同一事件（如鼠标消息）既安装了线程勾子又安装了系统勾子，那么系统会自动先调用线程勾子，然后调用系统勾子。<br />（2）对同一事件消息可安装多个勾子处理过程，这些勾子处理过程形成了勾子链。当前勾子处理结束后应把勾子信息传递给下一个勾子函数。<br />（3）勾子特别是系统勾子会消耗消息处理时间，降低系统性能。只有在必要的时候才安装勾子，在使用完毕后要及时卸载。<br />--------------------------------------------------------------------------------<br />钩子类型<br />每一种类型的Hook可以使应用程序能够监视不同类型的系统消息处理机制。下面描述所有可以利用的Hook类型。<br />1、WH_CALLWNDPROC(4)和WH_CALLWNDPROCRET Hooks(12)<br />WH_CALLWNDPROC和WH_CALLWNDPROCRET Hooks使你可以监视发送到窗口过程的消息。系统在消息发送到接收窗口过程之前调用WH_CALLWNDPROC Hook子程，并且在窗口过程处理完消息之后调用WH_CALLWNDPROCRET Hook子程。<br />WH_CALLWNDPROCRET Hook传递指针到CWPRETSTRUCT结构，再传递到Hook子程。<br />CWPRETSTRUCT结构包含了来自处理消息的窗口过程的返回值，同样也包括了与这个消息关联的消息参数。<br />2、WH_CBT(5) Hook<br />在以下事件之前，系统都会调用WH_CBT Hook子程，这些事件包括：<br />1. 激活，建立，销毁，最小化，最大化，移动，改变尺寸等窗口事件；<br />2. 完成系统指令；<br />3. 来自系统消息队列中的移动鼠标，键盘事件；<br />4. 设置输入焦点事件；<br />5. 同步系统消息队列事件。<br />Hook子程的返回值确定系统是否允许或者防止这些操作中的一个。<br />3、WH_DEBUG(9) Hook<br />在系统调用系统中与其他Hook关联的Hook子程之前，系统会调用WH_DEBUG Hook子程。你可以使用这个Hook来决定是否允许系统调用与其他Hook关联的Hook子程。<br />4、WH_FOREGROUNDIDLE(11) Hook<br />当应用程序的前台线程处于空闲状态时，可以使用WH_FOREGROUNDIDLE Hook执行低优先级的任务。当应用程序的前台线程大概要变成空闲状态时，系统就会调用WH_FOREGROUNDIDLE Hook子程。<br />5、WH_GETMESSAGE(3) Hook<br />应用程序使用WH_GETMESSAGE Hook来监视从GetMessage or PeekMessage函数返回的消息。你可以使用WH_GETMESSAGE Hook去监视鼠标和键盘输入，以及其他发送到消息队列中的消息。<br />6、WH_JOURNALPLAYBACK(1) Hook<br />WH_JOURNALPLAYBACK Hook使应用程序可以插入消息到系统消息队列。可以使用这个Hook回放通过使用WH_JOURNALRECORD Hook记录下来的连续的鼠标和键盘事件。只要WH_JOURNALPLAYBACK Hook已经安装，正常的鼠标和键盘事件就是无效的。<br />WH_JOURNALPLAYBACK Hook是全局Hook，它不能象线程特定Hook一样使用。<br />WH_JOURNALPLAYBACK Hook返回超时值，这个值告诉系统在处理来自回放Hook当前消息之前需要等待多长时间（毫秒）。这就使Hook可以控制实时事件的回放。<br />WH_JOURNALPLAYBACK是system-wide local hooks，它們不會被注射到任何行程位址空間。<br />7、WH_JOURNALRECORD(0) Hook<br />WH_JOURNALRECORD Hook用来监视和记录输入事件。典型的，可以使用这个Hook记录连续的鼠标和键盘事件，然后通过使用WH_JOURNALPLAYBACK Hook来回放。<br />WH_JOURNALRECORD Hook是全局Hook，它不能象线程特定Hook一样使用。<br />WH_JOURNALRECORD是system-wide local hooks，它們不會被注射到任何行程位址空間。<br />8、WH_KEYBOARD(2) Hook<br />在应用程序中，WH_KEYBOARD Hook用来监视WM_KEYDOWN and WM_KEYUP消息，这些消息通过GetMessage or PeekMessage function返回。可以使用这个Hook来监视输入到消息队列中的键盘消息。<br />9、WH_KEYBOARD_LL(13) Hook<br />WH_KEYBOARD_LL Hook监视输入到线程消息队列中的键盘消息。<br />10、WH_MOUSE(7) Hook<br />WH_MOUSE Hook监视从GetMessage 或者 PeekMessage 函数返回的鼠标消息。使用这个Hook监视输入到消息队列中的鼠标消息。<br />11、WH_MOUSE_LL(14) Hook&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />WH_MOUSE_LL Hook监视输入到线程消息队列中的鼠标消息。<br />12、WH_MSGFILTER(-1) 和 WH_SYSMSGFILTER(6) Hooks<br />WH_MSGFILTER 和 WH_SYSMSGFILTER Hooks使我们可以监视菜单，滚动条，消息框，对话框消息并且发现用户使用ALT+TAB or ALT+ESC 组合键切换窗口。WH_MSGFILTER Hook只能监视传递到菜单，滚动条，消息框的消息，以及传递到通过安装了Hook子程的应用程序建立的对话框的消息。WH_SYSMSGFILTER Hook监视所有应用程序消息。<br />WH_MSGFILTER 和 WH_SYSMSGFILTER Hooks使我们可以在模式循环期间过滤消息，这等价于在主消息循环中过滤消息。<br />通过调用CallMsgFilter function可以直接的调用WH_MSGFILTER Hook。通过使用这个函数，应用程序能够在模式循环期间使用相同的代码去过滤消息，如同在主消息循环里一样。<br />13、WH_SHELL Hook(10)<br />外壳应用程序可以使用WH_SHELL Hook去接收重要的通知。当外壳应用程序是激活的并且当顶层窗口建立或者销毁时，系统调用WH_SHELL Hook子程。<br />WH_SHELL 共有５钟情況：<br />1. 只要有个top-level、unowned 窗口被产生、起作用、或是被摧毁；<br />2. 当Taskbar需要重画某个按钮；<br />3. 当系统需要显示关于Taskbar的一个程序的最小化形式；<br />4. 当目前的键盘布局状态改变；<br />5. 当使用者按Ctrl+Esc去执行Task Manager（或相同级别的程序）。<br />按照惯例，外壳应用程序都不接收WH_SHELL消息。所以，在应用程序能够接收WH_SHELL消息之前，应用程序必须调用SystemParametersInfo function注册它自己。<br />========================================================================================<br />呵呵,有点昏昏的感觉吗?不要紧的,多看几次就会好的!<br />好了,这期的勾子基本概念就算讲完了,让我们来总结一下:<br />&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />1.钩子的基本概念及作用<br />钩子实际上是一个处理消息的程序段，通过系统调用，把它挂入系统。每当特定的消息发出，在没到达目的窗口前，钩子程序就先捕获该消息，亦即钩子函数先得到控制权。这时钩子函数即可以加工处理（改变）该消息，也可以不作处理而继续传递该消息，还可以强制结束消息的传递。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">2.使用API函数SetWindowsHookEx()安装钩子.<br />&nbsp; 在易中则这样声明DLL:<br />&nbsp; .DLL命令 SetWindowsHookExA, 整数型, , &quot;SetWindowsHookExA&quot;<br />&nbsp;&nbsp;&nbsp; .参数 idHook, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 lpfn, 子程序指针<br />&nbsp;&nbsp;&nbsp; .参数 nMod, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 dwThreadID, 整数型<br />&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />3.用API函数CallNextHookEx来传递钩子<br />&nbsp; .DLL命令 CallNextHookEx, 整数型, , &quot;CallNextHookEx&quot;<br />&nbsp;&nbsp;&nbsp; .参数 hhook, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 nCode, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 wParam, 整数型<br />&nbsp;&nbsp;&nbsp; .参数 lParam, 整数型<br />4.用API函数UnHookWindowsHookEx()来卸载钩子<br />&nbsp;&nbsp;&nbsp; .DLL命令 api_UnhookWindowsHookEx, 逻辑型, , &quot;UnhookWindowsHookEx&quot;<br />&nbsp;&nbsp;&nbsp; .参数 hhook, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">我们拿最常用的上面的第5个WH_GETMESSAGE(3) Hook 来说明一下:<br />看看下面这段易代码你就会明白的:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">hMod ＝ LoadLibraryA (取运行目录 () ＋ &ldquo;&#92;HookDLL.dll&rdquo; )&nbsp; '装载动态链接库<br />lpProc ＝GetProcAddress (hMod, &ldquo;GetMsgProc&rdquo;)&nbsp;&nbsp; '定位钩子回调函数函数<br />hhook ＝ SetWindowsHookExA (#WH_GETMESSAGE, lpProc, hMod, 0)&nbsp;&nbsp; '安装钩子<br />好了,这期的理论知识就到这了,请关注下期的精彩内容.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">下期预告:<br />下期我们将用易源码实例来讲解,怎样用钩子技术和内存文件映射共享技术来<br />实现远程线程插入资源管理器进程(explorer.exe),<br />敬请期待.....<br />end</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">上一期我们讲了勾子基本概念和一些简单的应用<span class="Apple-converted-space">&nbsp;</span><br />这一期我们就来学习用用钩子技术和内存文件映射共享技术来实现远程线程插入<br />&nbsp;<br />&nbsp; 现在网上关于这项编程技术的介绍满天飞,因为要想写出一个好的后门,该后门至少要达到高隐蔽.<br />防查杀,无端口,自启动等要求,而将木马以DLL的形式嵌入到系统进程中,基本上可以满足要求,而<br />这种远程线程注入技术也成为现代后门和木马程序的一项标准技术指标.<br />如果大家要想更为清晰地掌握该项编程技术,强烈推荐细读jeffery Richter的&lt;&lt;Windows核心技术&gt;&gt;.<br />该书个人觉得是每个学习Windows黑客编程技术爱好者的圣经.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">不过,由于易语言出来的时间不长,网上用易语言具体实现这项编程技术的资料廖廖无几</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">今天,我们就来用易语言来实现远程线程插入:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">大家知道,传统的远程线程插入是通过以下几个API来完成的;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&bull;OpenProcess - 用于打开要寄生的目标进程。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&bull;VirtualAllocEx/VirtualFreeEx - 用于在目标进程中分配/释放内存空间。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&bull;WriteProcessMemory - 用于在目标进程中写入要加载的DLL名称。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&bull;CreateRemoteThread - 远程加载DLL的核心内容，用于控制目标进程调用API函数。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&bull;LoadLibrary - 目标进程通过调用此函数来加载病毒DLL。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">这种方法虽然好,但有个缺点:只能在NT核心的系统上有效,在98中无效</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">并且由于易DLL的特殊性,上面的方法并不奏效,虽然可以用写入汇编码来解决问题</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">但也较不方便,钩子的出现为我们解决了这个难题</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">通过钩子实现远程线程插入的思路如下:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">通过安装windows 消息钩子WH_GETMESSAGE,把待插线程代码所在的DLL注入到其他进程里<br />在钩子回调函数中,判断当前进程ID是否是要插入的进程ID,如果是则创建一个新线程<br />这个新线程函数就是我们要执行的代码所在的函数,到这里也就达到了我们的目地.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">现在就产生了一个新问题,由于我们的要执行的代码是放在一个DLL里面的,创建新线程就需要加载<br />这个DLL,就需要知道DLL路径,还有判断当前进程ID是否是要插入的进程ID,首先也要知道要插入的<br />进程ID是多少等等这些信息,这就涉及到进程通讯,我们可以用文件映射技术来进行进程通讯.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">文件映射主要是通过以下几个API来完成的:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">*CreateFileMapping&nbsp;&nbsp;&nbsp; //创建文件映射对象 ,成功返回文件映射对象句柄<br />&nbsp;&nbsp; Dll命令名：CreateFileMapping<br />&nbsp;&nbsp;&nbsp; 所处动态链接库的文件名：kernel32<br />&nbsp;&nbsp;&nbsp; 在所处动态链接库中的命令名：CreateFileMappingA<br />&nbsp;&nbsp;&nbsp; 返回值类型：整数型<br />&nbsp;&nbsp;&nbsp; 参数&lt;1&gt;的名称为&ldquo;文件映射句柄&rdquo;，类型为&ldquo;整数型&rdquo;。注明：指定欲在其中创建映射的一个文&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 件句柄。&amp;HFFFFFFFF&amp;(-1)表示在内存中创建一个文件映射。<br />&nbsp;&nbsp;&nbsp; 参数&lt;2&gt;的名称为&ldquo;安全对象&rdquo;，类型为&ldquo;SECURITY_ATTRIBUTES&rdquo;。注明：SECURITY_ATTRIBUTES&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 指定一个安全对象，在创建文件映射时使用。如果为NULL（用ByVal As Long传递零），&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 表示使用默认安全对象。<br />&nbsp;&nbsp;&nbsp; 参数&lt;3&gt;的名称为&ldquo;打开映射方式&rdquo;，类型为&ldquo;整数型&rdquo;。注明：下述常数之一：;PAGE_READONLY&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 以只读方式打开映射;PAGE_READWRITE：以可读、可写方式打开映射;PAGE_WRITECOPY：为&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 写操作留下备份可组合使用下述一个或多个常数;SEC_COMMIT：为文件映射一个小节中的&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp;&nbsp; 所有页分配内存;SEC_IMAGE：文件是个可执行文件;SEC_RESERVE：为没有分配实际内存的&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp; 一个小节保留虚拟内存空间<br />&nbsp;&nbsp;&nbsp; 参数&lt;4&gt;的名称为&ldquo;文件映射最大长度&rdquo;，类型为&ldquo;整数型&rdquo;。注明：文件映射的最大长度（高32位</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">）。<br />&nbsp;&nbsp;&nbsp; 参数&lt;5&gt;的名称为&ldquo;文件映射的最小长度&rdquo;，类型为&ldquo;整数型&rdquo;。注明：文件映射的最小长度（低32</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">位）。如这个参数和dwMaximumSizeHigh都是零，就用磁盘文件的实际长度。<br />&nbsp;&nbsp;&nbsp; 参数&lt;6&gt;的名称为&ldquo;映射对象名&rdquo;，类型为&ldquo;文本型&rdquo;。注明：指定文件映射对象的名字。如存在这</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">个名字的一个映射，函数就会打开它。用vbNull创建一个无名的文件映射;。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">*OpenFileMappingA&nbsp;&nbsp; //打开一个已存在的文件映射对象,成功返回打开的文件映射对象句柄<br />&nbsp; Dll命令名:OpenFileMapping<br />&nbsp;&nbsp;&nbsp; 公开<br />&nbsp;&nbsp;&nbsp; 所处动态链接库的文件名：kernel32<br />&nbsp;&nbsp;&nbsp; 在所处动态链接库中的命令名：OpenFileMappingA<br />&nbsp;&nbsp;&nbsp; 返回值类型：整数型<br />&nbsp;&nbsp;&nbsp; 参数&lt;1&gt;的名称为&ldquo;常数&rdquo;，类型为&ldquo;整数型&rdquo;。注明：带有前缀FILE_MAP_???的一个常数。参考</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">MapViewOfFile函数的dwDesiredAccess参数的说明。<br />&nbsp;&nbsp;&nbsp; 参数&lt;2&gt;的名称为&ldquo;进程继承&rdquo;，类型为&ldquo;整数型&rdquo;。注明：如这个函数返回的句柄能由当前进程启</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">动的新进程继承，则这个参数为TRUE。<br />&nbsp;&nbsp;&nbsp; 参数&lt;3&gt;的名称为&ldquo;文件映射对象名称&rdquo;，类型为&ldquo;文本型&rdquo;。注明：指定要打开的文件映射对象名</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">称;。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">*MapViewOfFile /将一个文件映射对象映射到当前应用程序的地址空间<br />&nbsp;Dll命令名：MapViewOfFile<br />&nbsp;&nbsp;&nbsp; 将一个文件映射对象映射到当前应用程序的地址空间。MapViewOfFileEx允许我们指定一个基本地址</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">来进行映射文件映射在内存中的起始地址。零表示出错。会设置GetLastError<br />&nbsp;&nbsp;&nbsp; 所处动态链接库的文件名：kernel32<br />&nbsp;&nbsp;&nbsp; 在所处动态链接库中的命令名：MapViewOfFile<br />&nbsp;&nbsp;&nbsp; 返回值类型：整数型<br />&nbsp;&nbsp;&nbsp; 参数&lt;1&gt;的名称为&ldquo;hFileMappingObject&rdquo;，类型为&ldquo;整数型&rdquo;。<br />&nbsp;&nbsp;&nbsp; 参数&lt;2&gt;的名称为&ldquo;dwDesiredAccess&rdquo;，类型为&ldquo;整数型&rdquo;。<br />&nbsp;&nbsp;&nbsp; 参数&lt;3&gt;的名称为&ldquo;dwFileOffsetHigh&rdquo;，类型为&ldquo;整数型&rdquo;。<br />&nbsp;&nbsp;&nbsp; 参数&lt;4&gt;的名称为&ldquo;dwFileOffsetLow&rdquo;，类型为&ldquo;整数型&rdquo;。<br />&nbsp;&nbsp;&nbsp; 参数&lt;5&gt;的名称为&ldquo;dwNumberOfBytesToMap&rdquo;，类型为&ldquo;整数型&rdquo;。</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">通过以上API再结合易自带的写到内存(),指针到字节集(),指针到文本(),取字节集数据()等命令就可以</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">在进程间读写数据了.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />内存文件映射技术就介绍到这里,在下面的实例中有具体应用,我就不多说了.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />以资源管理器进程(explorer.exe)为例,我们来开始解析程序:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">程序基本原理:<br />start.exe 先在内存中创建一个映射文件,把自己的线程ID和查找到的 Explorer进程ID<br />以及HookDL.dll的路径写到映射文件,再安装 HookDL.dll 中的 WH_GETMESSAGE 钩子,<br />此时,start.exe进入消息循环,直到收到被插进程发来的线程退出消息WM_QUIT<br />&nbsp;&nbsp; 在钩子回调函数中,首先把start.exe在内存中创建的映射文件映射到当前进程,然后<br />判断当前进程ID是否先前 Start.exe 查找到的 Explorer进程ID, 是的话,则<br />再次LoadLibrary(HookDLL.dll),并定位到其中ThreadPro函数. 此时创建一个<br />新线程,线程函数就是ThreadPro,该新线程首先往Start.exe消息队列放置一个线<br />程退出消息 WM_QUIT,导致其消息循环结束.<br />&nbsp;&nbsp;&nbsp; 此时插入线程完成..可以看到屏幕左上角不断变化的数字..说明我们的代码正在执行.<br />进程列表却没有Start.exe,用进程管理观察,可发现Explorer进程,的确多了个线程,且来自<br />HookDLL.dll ..如果希望插入Explorer的线程结束,按 Alt+L 即可...&nbsp; :)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">现在我们来看看主程序代码,为照顾新手,我会逐行分析:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.版本 2<br />'系统核心支持库<br />.应用接口支持库</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.程序集 窗口程序集1<br />.程序集变量 Explorer_PID, 整数型<br />.程序集变量 hhook, 整数型<br />.程序集变量 FileMapH, 整数型<br />.程序集变量 DLLPath, 文本型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.子程序 __启动窗口_创建完毕<br />.局部变量 nil, SECURITY_ATTRIBUTES<br />.局部变量 TheNodeP, 整数型<br />.局部变量 ThreadMessage, MSG<br />.局部变量 MainPath, 字节集<br />.局部变量 ExplorerID, 字节集<br />.局部变量 MainThread, 字节集<br />.局部变量 Mainhhook, 字节集</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">' 指定DLL路径<br />DLLPath ＝ 取运行目录 () ＋ &ldquo;&#92;HookDLL.dll&rdquo;</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">' 检查插入线程是否已经存在<br />FileMapH ＝ api_OpenFileMapping (#FILE_MAP_ALL_ACCESS, 0, &ldquo;hacker0058Explorer8Mazi&rdquo;)<br />api_CloseHandle (FileMapH)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.如果真 (FileMapH ＝ 0)&nbsp; '如果插入线程不存在,开始插入<br />&nbsp;&nbsp;&nbsp; Explorer_PID ＝ 取进程PID (&ldquo;explorer.exe&rdquo;)&nbsp; ' 这里指定要插入的进程,用到了子程序:取进</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">程PID()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp; .如果真 (Explorer_PID ＝ 0)&nbsp;&nbsp;&nbsp; '查找explorer失败<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 信息框 (&ldquo;寻找指定进程出错!&rdquo;, 0, )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束 ()<br />&nbsp;&nbsp;&nbsp; .如果真结束<br />'创建内存映射文件<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;&nbsp; FileMapH ＝ api_CreateFileMapping (-1, nil, #PAGE_READWRITE, 0, 100,&ldquo;HookExplorer8Mazi</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&rdquo;)<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />'映射到本进程空间&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;TheNodeP ＝ api_MapViewOfFile (FileMapH, #FILE_MAP_ALL_ACCESS, 0, 0, 0)<br />&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />'写入共享数据<br />&nbsp;&nbsp;&nbsp; ExplorerID ＝ 到字节集 (Explorer_PID)<br />&nbsp;&nbsp;&nbsp; MainThread ＝ 到字节集 (当前线程标志符_ ())<br />&nbsp;&nbsp;&nbsp; MainPath ＝到字节集 (DLLPath) ＋ &#123; 0, 0, 0 &#125;&nbsp; ' 字符串是以两字节的0为结束标志的,所以这</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">里加上&#123; 0, 0, 0 &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;&nbsp; 写到内存 (ExplorerID ＋ MainThread ＋ MainPath, TheNodeP, )<br />&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />'关闭内存映射<br />&nbsp;&nbsp; API_UnmapViewOfFile (TheNodeP)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">'挂DLL跳板钩子&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp; hMod ＝ GetMsgHookOn ()<br />&nbsp;&nbsp;&nbsp; .如果真 (hMod ＝ 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 输出调试文本 (&ldquo;挂DLL跳板钩子失败!&rdquo;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_CloseHandle (FileMapH)&nbsp; ' 关闭映射文件<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结束 ()<br />&nbsp;&nbsp;&nbsp; .如果真结束<br />'等待插入Explorer的新线程发来消息&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp; api_GetMessage (ThreadMessage, 0, 0, 0)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">'脱DLL跳板钩子&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp; GetMsgHookOff ()<br />' 御载DLL&nbsp;&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;&nbsp;&nbsp; api_FreeLibrary (hMod)<br />' 关闭映射文件<br />&nbsp;&nbsp;&nbsp; api_CloseHandle (FileMapH)<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />.如果真结束<br />结束 ()</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.子程序 取进程PID, 整数型, , 成功返回进程PID,失败返回0<br />.参数 标志文本, 文本型, , 进程名或窗口名<br />.局部变量 进程, 进程信息, , &quot;0&quot;<br />.局部变量 PID, 整数型<br />.局部变量 i, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">PID ＝ 0<br />&nbsp;.如果真 (倒找文本 (标志文本, &ldquo;.&rdquo;, , 真) &ne; -1)<br />&nbsp;&nbsp;&nbsp; 进程 ＝取系统进程列表 ()<br />&nbsp;&nbsp;&nbsp; .计次循环首 (取数组成员数 (进程), i)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .如果真 (倒找文本 (进程 [i].进程名称, 标志文本, , 真) &ne; -1)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID ＝ 进程 [i].进程标识符<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 跳出循环 ()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .如果真结束</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp; .计次循环尾 ()<br />&nbsp;.如果真结束<br />&nbsp;.如果真 (PID ＝ 0)<br />&nbsp;&nbsp;&nbsp; API_取进程标识符 (api_FindWindow (0, 标志文本), PID)<br />&nbsp;.如果真结束<br />返回 (PID)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">现在主程序已经完成了它的任务,现在来看看我们执行的核心,HookDLL.dll的代码:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.版本 2</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.全局变量 TheNodeP, 整数型<br />.全局变量 hhook, 整数型, 公开<br />.全局变量 DLL, Main</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.程序集 HOOK程序集<br />.程序集变量 hMod, 整数型<br />.程序集变量 lpProc, 子程序指针</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />.程序集 DLL程序集<br />.版本 2<br />.子程序 _启动子程序, 整数型, , 请在本子程序中放置动态链接库初始化代码</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">复制共享数据 ()&nbsp; '初始化代码,只有在程序第一次加载DLL时才被执行<br />_临时子程序 ()<br />返回 (0)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">'先看看钩子回调函数:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.子程序 GetMsgProc, 整数型, 公开, 钩子回调函数<br />.参数 code, 整数型<br />.参数 wParam, 整数型<br />.参数 lParam, 整数型<br />.局部变量 lpThreadA, SECURITY_ATTRIBUTES<br />.局部变量 LibraryH, 整数型<br />.局部变量 ThreadPt, 整数型<br />.局部变量 ThreadID, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">' 截获到消息,开始执行下面的自定以代码(回调函数)<br />&nbsp;复制共享数据 ()<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;.如果真 (TheNodeP &ne; 0 且 pnode.ExplorerID &ne; 0 且 api_GetCurrentProcessId () ＝</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">pnode.ExplorerID)&nbsp; ' 是资源管理器<br />&nbsp;&nbsp;&nbsp; .如果真 (倒找文本 (MainPath, &ldquo;.dll&rdquo;, , 真) &ne; -1)&nbsp; ' DLL路径是否正确<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LibraryH ＝ api_LoadLibraryA (MainPath)&nbsp; ' 装载动态链接库<br />&nbsp;&nbsp;&nbsp; .如果真结束<br />&nbsp;&nbsp;&nbsp; .如果真 (LibraryH &ne; 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ThreadPt ＝ 到整数 (api_GetProcAddress (LibraryH, &ldquo;ThreadPro&rdquo;))&nbsp; ' 定位线程函数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .如果真 (ThreadPt &ne; 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; api_CreateThread (lpThreadA, 0, ThreadPt, 0, 0, ThreadID)&nbsp; ' 创建新线程<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .如果真结束</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;&nbsp; .如果真结束</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.如果真结束<br />返回 (api_CallNextHookEx (hhook, code, wParam, lParam))&nbsp; ' 钩子循环</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">再看看子程序:复制共享数据</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.子程序 复制共享数据, 逻辑型<br />.局部变量 i, 整数型<br />.局部变量 MainPath, 文本型<br />.局部变量 FileMapH, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">FileMapH ＝ api_OpenFileMapping (#FILE_MAP_ALL_ACCESS, 0, &ldquo;HookExplorer8Mazi&rdquo;)<br />.如果真 (FileMapH ＝ 0)<br />&nbsp;&nbsp;&nbsp; 输出调试文本 (&ldquo;打开内存映射文件出错!&rdquo;)<br />&nbsp;&nbsp;&nbsp; 返回 (假)<br />.如果真结束<br />TheNodeP ＝ api_MapViewOfFile (FileMapH, #FILE_MAP_ALL_ACCESS, 0, 0, 0)<br />.如果真 (TheNodeP ＝ 0)<br />&nbsp;&nbsp;&nbsp; api_CloseHandle (FileMapH)<br />&nbsp;&nbsp;&nbsp; 输出调试文本 (&ldquo;映射到本进程空间出错!&rdquo;)<br />&nbsp;&nbsp;&nbsp; 返回 (假)<br />.如果真结束</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">'取回共享数据<br />DLL.ExplorerID ＝ 取字节集数据 (指针到字节集 (TheNodeP, 4), 3, )'整数型数据尺寸大小是4<br />DLL.MainThread ＝ 取字节集数据 (指针到字节集 (TheNodeP ＋ 4, 4), 3, )&nbsp;&nbsp; '+4<br />DLL.MainPath ＝ 指针到文本 (TheNodeP ＋ 8)&nbsp;&nbsp; '+8<br />API_UnmapViewOfFile (TheNodeP)&nbsp; ' 关闭内存映射<br />api_CloseHandle (FileMapH)&nbsp; ' 关闭文件映射对象<br />返回 (真)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"></p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">'钩子回调函数完成,现在开始写待插线程代码,这里实现写文字到屏幕的功能</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.版本 2</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">.子程序 ThreadPro, , 公开, 待插线程代码<br />.局部变量 Count, 整数型<br />.局部变量 theMsg, MSG<br />.局部变量 FileMap, 整数型<br />.局部变量 nil, SECURITY_ATTRIBUTES<br />.局部变量 HotKeyID, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">api_PostThreadMessage (DLL.MainThread, #WM_QUIT, 0, 0)<br />FileMap ＝ api_OpenFileMapping (#FILE_MAP_ALL_ACCESS, 0, &ldquo;hacker0058Explorer8Mazi&rdquo;)&nbsp; ' 禁</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">止重复运行<br />api_CloseHandle (FileMap)<br />.如果真 (FileMap ＝ 0)<br />&nbsp;&nbsp;&nbsp; FileMap ＝ api_CreateFileMapping (-1, nil, 4, 0, 2, &ldquo;hacker0058Explorer8Mazi&rdquo;)<br />&nbsp;&nbsp;&nbsp; Count ＝ 0<br />&nbsp;&nbsp;&nbsp; HotKeyID ＝GlobalAddAtom(&ldquo;hacker0058andALT+L&rdquo;) ' 申请全局原子<br />&nbsp;&nbsp;&nbsp; RegisterHotKey (0, HotKeyID, 1, #L键)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '注册热键Alt+L<br />&nbsp;&nbsp;&nbsp; .判断循环首 (api_PeekMessage (theMsg, 0, 0, 0, #PM_REMOVE) ＝ 0 且 取反 (theMsg.message</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">＝ #WM_HOTKEY) 或 theMsg.message ＝ #WM_QUIT)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WriteScreen (&ldquo;&nbsp; &rdquo; ＋ Int2Hex (Count) ＋ &ldquo;&nbsp; [The Thread is From &rdquo; ＋ 取执行文件</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">名 () ＋ &ldquo; and Alt+L to Exit&nbsp; &rdquo;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Count ＝ Count ＋ 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 延时 (500)<br />&nbsp;&nbsp;&nbsp; .判断循环尾 ()<br />&nbsp;&nbsp;&nbsp; api_CloseHandle (FileMap)<br />&nbsp;&nbsp;&nbsp; UnregisterHotKey(0, HotKeyID)&nbsp;&nbsp; '撤销热键Alt+L<br />&nbsp;&nbsp;&nbsp; DeleteAtom (HotKeyID)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '释放全局原子</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />.子程序 WriteScreen, , , 写文字到屏幕<br />.参数 s, 文本型<br />.局部变量 hScreenDC, 整数型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">hScreenDC ＝ 取设备场景_ (0)<br />api_TextOut (hScreenDC, 0, 0, s, 取文本长度 (s))&nbsp; '写文字到屏幕<br />api_ReleaseDC (0, hScreenDC)&nbsp; '撤消写文字到屏幕</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />.子程序 Int2Hex, 文本型, , 数值转字符串<br />.参数 v, 整数型<br />.局部变量 i, 整数型<br />.局部变量 a, 文本型<br />.局部变量 b, 文本型</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">b ＝ 取十六进制文本 (v) '<br />.计次循环首 (8 － 取文本长度 (b), i)<br />&nbsp;&nbsp;&nbsp; a ＝ a ＋ &ldquo;0&rdquo;<br />.计次循环尾 ()<br />返回 (&ldquo;$&rdquo; ＋ a ＋ b)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />.子程序 GetMsgHookOff, 逻辑型, 公开, 关闭全局消息钩子</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp; 返回 (api_UnhookWindowsHookEx (hhook))</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />.子程序 GetMsgHookOn, 整数型, 公开, 安装全局消息钩子</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">hMod ＝ api_LoadLibraryA (MainPath) '加载DLL,返回模块地址</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">lpProc ＝ api_GetProcAddress (hMod, &ldquo;GetMsgProc&rdquo;) 'DLL中钩子回调函数地址</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />hhook ＝ api_SetWindowsHookExA (#WH_GETMESSAGE, lpProc, hMod, 0) '安装钩子</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">返回 (hMod)</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"></p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><br />好了,整个框架就这样了,由于篇幅原因,具体的不再细说了.附件里有完整的易程序源码,具体细节大家可</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">以参阅,源码在Windows xp+sp2 易4.02中测试通过.</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">下期预告:</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">下一期我们将介绍API Hook技术,API Hook技术应用广泛,常用于屏幕取词,网络防火墙,病毒木马,加壳<br />软件,串口红外通讯,游戏外挂,internet通信等领域.API HOOK的中文意思就是钩住API,对API进行预处理</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">,先执行我们的函数,例如我们用API Hook技挂接ExitWindowsEx API函数,使关机失效等等......</p><p style="widows: 2; text-transform: none; background-color: #fceacf; text-indent: 0px; font: 14px Arial; white-space: normal; orphans: 2; letter-spacing: normal; color: #333333; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">敬请期待</p> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 83 ms, 6 Queries.</span>";
//]]>
</script></body>
</html>