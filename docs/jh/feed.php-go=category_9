<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
<title><![CDATA[流浪的龙－个人知识管理]]></title> 
<link>http://i.renjihe.com/blog/index.php</link> 
<description><![CDATA[]]></description> 
<language>zh-cn</language> 
<copyright><![CDATA[流浪的龙－个人知识管理]]></copyright>
<item>
<link>http://i.renjihe.com/blog/read.php?7415</link>
<title><![CDATA[setjmp和longjmp函数使用详解]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Mon, 25 Jul 2016 04:53:30 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7415</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><span style="font-size: x-small"><span style="font-size: small">非局部跳转语句---setjmp和longjmp函数。非局部指的是，这不是由普通C语言goto，语句在一个函数内实施的跳转，而是在栈上跳过若干调用帧，返回到当前函数调用路径上的某一个函数中。<br />#include &lt;setjmp.h&gt;<br />Int setjmp(jmp_buf&nbsp; env);<br />&nbsp;&nbsp; 返回值：若直接调用则返回0，若从longjmp调用返回则返回非0值<br />Void longjmp(jmp_buf env,int val);<br />&nbsp;&nbsp;&nbsp; 在希望返回到的位置调用setjmp，此位置在main函数中，因为直接调用该函数，所以其返回值为0.setjmp参数evn的类型是一个特殊的类型jmp_buf，这一数据类型是某种形式的数组，其中存放在调用longjmp时能用来恢复栈状态的所有信息。因为需要在另一个函数中引用env变量，所以规范的处理方式是将env变量定义为全局变量。<br />&nbsp;&nbsp; 当检查到一个错误时,则以两个参数调用longjmp函数，第一个就是在调用setjmp时所用的env，第二个参数是具有非0值的val，它将成为从setjmp处返回的值。使用第二个参数的原因是对于一个setjmp可以有多个longjmp。<br />&nbsp;&nbsp;&nbsp; 下面我们可以看一个简单的例子</span>：</span><br /></p><table border="1" cellspacing="0" cellpadding="0" style="color: #000000; font-family: Arial; font-size: 14px; line-height: 26px; width: 896px" bgcolor="#f1f1f1" bordercolor="#999999"><tbody><tr><td><p style="margin: 0px; padding: 0px">#include&nbsp;&lt;stdio.h&gt;<br />#include&nbsp;&lt;stdlib.h&gt;<br />#include&nbsp;&lt;setjmp.h&gt;<br />#include&nbsp;&lt;string.h&gt;<br /><br />void&nbsp;fun1(void);<br />void&nbsp;fun2(void);<br />&nbsp;jmp_buf&nbsp;jmpbuffer;<br />void&nbsp;main(void)<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br />&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;j&nbsp;=&nbsp;0;<br />&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;setjmp(jmpbuffer);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(i==0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;first run/n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun1();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun2();<br />&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br />&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(i)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;In fun1 /n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;case&nbsp;2:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;In fun2/n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;unkown error/n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br />&nbsp;&nbsp;&nbsp;&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;<br />&#125;&nbsp;<br /><br />void&nbsp;fun1(void)<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*s&nbsp;=&nbsp;&quot;hello&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*s1&nbsp;=&nbsp;&quot;Hello&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(strcmp(s,s1)!=0)<br />&nbsp;&nbsp;&nbsp;&nbsp;longjmp(jmpbuffer,1);<br />&#125;<br /><br />void&nbsp;fun2(void)<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*s&nbsp;=&nbsp;&quot;world&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(strcmp(s,&quot;World&quot;)!=0)<br />&nbsp;&nbsp;&nbsp;&nbsp;longjmp(jmpbuffer,2);<br />&#125;</p></td></tr></tbody></table><span style="line-height: 26px; font-size: small; font-family: Arial">这个函数的运行结果是：</span><br /><table border="1" cellspacing="0" cellpadding="0" style="color: #000000; font-family: Arial; font-size: 14px; line-height: 26px; width: 896px" bgcolor="#f1f1f1" bordercolor="#999999"><tbody><tr><td><p style="margin: 0px; padding: 0px">root@root:~/program/test_program$&nbsp;./jmp_test<br />first run<br />In fun1</p></td></tr></tbody></table><span style="line-height: 26px; font-size: x-small; font-family: Arial">&nbsp;&nbsp;&nbsp;<span style="font-size: small">在使用longjmp跳转到setjmp中时，程序主动的退出了！相当于抛出一个异常退出！其实这两个函数可以模拟C++中的异常函数：<br />使用setjmp和longjmp要注意以下几点：<br /></span></span><span style="line-height: 26px; font-size: small; font-family: Arial">　　1、setjmp与longjmp结合使用时，它们必须有严格的先后执行顺序，也即先调用setjmp函数，之后再调用longjmp函数，以恢复到先前被保存的&ldquo;程序执行点&rdquo;。否则，如果在setjmp调用之前，执行longjmp函数，将导致程序的执行流变的不可预测，很容易导致程序崩溃而退出<br />　2、不要假设寄存器类型的变量将总会保持不变。在调用longjmp之后，通过setjmp所返回的控制流中，程序中寄存器类型的变量将不会被恢复。寄存器类型的变量，是指为了提高程序的运行效率，变量不被保存在内存中，而是直接被保存在寄存器中。寄存器类型的变量一般都是临时变量，在C语言中，通过register定义，或直接嵌入汇编代码的程序。这种类型的变量。<br />&nbsp;&nbsp;&nbsp;&nbsp; longjmp必须在setjmp调用之后，而且longjmp必须在setjmp的作用域之内。具体来说，在一个函数中使用setjmp来初始化一个全局标号，然后只要该函数未曾返回，那么在其它任何地方都可以通过longjmp调用来跳转到 setjmp的下一条语句执行。实际上setjmp函数将发生调用处的局部环境保存在了一个jmp_buf的结构当中，只要主调函数中对应的内存未曾释放 （函数返回时局部内存就失效了），那么在调用longjmp的时候就可以根据已保存的jmp_buf参数恢复到setjmp的地方执行。</span>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7391</link>
<title><![CDATA[linux-inject：注入代码到运行的Linux进程中]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 13:45:41 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7391</guid> 
<description>
<![CDATA[ 
	<div style="box-sizing: border-box; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px"><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">最近,我遇到了&nbsp;<a style="box-sizing: border-box; color: #ee6e50 !important; background-color: transparent" rel="nofollow,noindex" href="https://github.com/gaffe23/linux-inject/" target="_blank">linux-inject&nbsp;</a>,它是一个注入程序,可以注入一个.so文件到一个运行中的应用程序进程中。类似于LD_PRELOAD环境变量所实现的功能,但它可以在程序运行过程中进行动态注入,而LD_PRELOAD是定义在程序运行前优先加载的动态链接库。事实上,linux-inject并不取代任何功能。换句话说,可以看成是忽略了LP_PRELOAD.</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">它的文档很匮乏,理由可能是开发人员认为大多数使用这个程序的用户不会是这个领域的新手,他们应当知道该怎么做。然而可能部分人并不是目标受众,我当时花了很久才弄清楚需要做什么,因此我希望这篇文章能够帮助别人。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">我们首先需要克隆并且构建它:</p><div id="highlighter_40600" class="syntaxhighlighter&nbsp;&nbsp;" style="box-sizing: border-box; width: 623.688px; margin: 1em 0px !important; padding: 1px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: relative !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><div class="lines" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 459px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">1</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">git clone https://github.com/gaffe23/linux-inject.git</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 167px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">2</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">cd linux-inject</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 82px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">3</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">make</td></tr></tbody></table></div></div></div><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">完成后,我们就可以开始这个例子了。打开另一个终端(这样你有两个可以自由使用),cd到你克隆linux-inject的目录,然后</p><pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; margin-top: 0px; margin-bottom: 10px; line-height: 1.42857; word-break: break-all; word-wrap: break-word; border: 1px solid #cccccc; border-radius: 4px; background-color: #f5f5f5">cd ~/workspace/linux-inject,运行./sample-target。</pre><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">回到第一个终端,运行</p><pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; margin-top: 0px; margin-bottom: 10px; line-height: 1.42857; word-break: break-all; word-wrap: break-word; border: 1px solid #cccccc; border-radius: 4px; background-color: #f5f5f5">sudo ./inject -n sample-target sample-library.so。</pre><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">这些都是什么意思呢,注入sample-library.so到一个进程中,进程是通过-n&nbsp;name指定的sample-target。如果你需要注入到指定PID的进程,你可以使用-p&nbsp;PID的方式。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">但这有可能无法工作,因为Linux3.4中有一个名为&nbsp;<a style="box-sizing: border-box; color: #ee6e50 !important; background-color: transparent" rel="nofollow,noindex" href="https://www.kernel.org/doc/Documentation/security/Yama.txt" target="_blank">Yama&nbsp;</a>的安全模块可以禁用&nbsp;ptrace-based代码注入(或者是在代码注入期间有其他的拦截方式)。要想让它在这种情况下正常工作,你需要运行这些命令之一(出于安全考虑,我更喜欢第二个): 再次尝试注入,你会在sample-target输出的&ldquo;sleeping...&rdquo;中看到&ldquo;I&nbsp;just&nbsp;got&nbsp;loaded&rdquo;。</p><div id="highlighter_864712" class="syntaxhighlighter&nbsp;&nbsp;" style="box-sizing: border-box; width: 623.688px; margin: 1em 0px !important; padding: 1px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: relative !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><div class="lines" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 621px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">1</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">echo 0 &#124; sudo tee /proc/sys/kernel/yama/ptrace_scope&nbsp;# 允许任何进程注入代码到相同用户启动的进程中,root用户可以注入所有进程echo 2 &#124; sudo tee /proc/sys/kernel/yama/ptrace_scope # 只允许root用户注入代码</td></tr></tbody></table></div></div></div><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">如果你想注入自己写的代码,我必须要警告你:一些应用程序(例如VLC播放器)可能会发生段错误,因此你在编写代码的时候需要考虑到可能发生崩溃的情况。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">做个简单演示,我们可以尝试注入这段代码:</p><div id="highlighter_557879" class="syntaxhighlighter&nbsp;&nbsp;" style="box-sizing: border-box; width: 623.688px; margin: 1em 0px !important; padding: 1px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: relative !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><div class="lines" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 621px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">1</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;stdio.h&gt;__attribute__((constructor))void hello() &#123;&nbsp;&nbsp;&nbsp; puts(&quot;Hello world!&quot;);&#125;</td></tr></tbody></table></div></div></div><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">这段C语言代码应该很容易理解,__attribute__((constructor))可能会使人迷惑。它的意思是说在函数库加载之后尽快运行这个函数。换句话说,这个函数就是要注入到进程中的代码。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">编译是很简单的,没有什么特别的要求:</p><pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; margin-top: 0px; margin-bottom: 10px; line-height: 1.42857; word-break: break-all; word-wrap: break-word; border: 1px solid #cccccc; border-radius: 4px; background-color: #f5f5f5">gcc -shared -fPIC -o libhello.so hello.c</pre><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">首先需要运行sample-target,然后我们尝试注入:</p><pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; margin-top: 0px; margin-bottom: 10px; line-height: 1.42857; word-break: break-all; word-wrap: break-word; border: 1px solid #cccccc; border-radius: 4px; background-color: #f5f5f5">sudo ./inject -n sample-target libhello.so</pre><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">在长串的&ldquo;sleeping...&rdquo;中你应该会看到&ldquo;Hello&nbsp;world!&rdquo;。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">不过还有一个问题,注入会中断程序流程。如果你尝试循环puts(&quot;Hello&nbsp;world!&quot;);,它会不断打印&quot;Hello&nbsp;world!&quot;,主程序在注入的library结束之前不会恢复运行。也就是说,你不会再看到&ldquo;sleeping...&rdquo;。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">要解决这个问题,你可以将注入的代码运行在单独的线程中,例如下面这段修改的代码:</p><div id="highlighter_752747" class="syntaxhighlighter&nbsp;&nbsp;" style="box-sizing: border-box; width: 623.688px; margin: 1em 0px !important; padding: 1px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: relative !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><div class="lines" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 190px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">01</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;stdio.h&gt;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 198px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">02</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;unistd.h&gt;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 205px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">03</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;pthread.h&gt;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 229px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">04</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">void* thread(void* a) &#123;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 167px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">05</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(1) &#123;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 275px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">06</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;puts(&quot;Hello world!&quot;);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 236px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">07</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usleep(1000000);</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 90px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">08</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&#125;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 175px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">09</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NULL;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 59px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">10</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&#125;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 267px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">11</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">__attribute__((constructor))</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 159px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">12</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">void hello() &#123;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 175px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">13</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;pthread_t t;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 382px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">14</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;pthread_create(&amp;t, NULL, thread, NULL);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 59px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">15</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&#125;</td></tr></tbody></table></div></div></div><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">它应该可以正常工作。但如果你注入sample-target,因为sample-target并没有链接libpthread这个库,因此,任何使用pthread的函数都不能正常工作。当然,如果你通过添加参数-lpthread链接了libpthread,它会正常工作。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">如果我们不想重新编译目标程序,我们也可以使用一个linux-inject所依赖的函数:__libc_dlopen_mode()。为什么不是dlopen(),因为dlopen()需要链接libdl,而__libc_dlopen_mode()包含在标准C库中(这里是glibc).</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">这里是代码样例:</p><div id="highlighter_174350" class="syntaxhighlighter&nbsp;&nbsp;" style="box-sizing: border-box; width: 623.688px; margin: 1em 0px !important; padding: 1px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: relative !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><div class="lines" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 190px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">01</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;stdio.h&gt;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 198px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">02</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;unistd.h&gt;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 205px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">03</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;pthread.h&gt;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 190px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">04</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">#include &lt;dlfcn.h&gt;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 336px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">05</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">/* Forward declare these functions */</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 382px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">06</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">void* __libc_dlopen_mode(const char*, int);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 352px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">07</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">void* __libc_dlsym(void*, const char*);</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 267px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">08</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">int&nbsp;&nbsp; __libc_dlclose(void*);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 229px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">09</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">void* thread(void* a) &#123;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 167px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">10</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(1) &#123;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 275px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">11</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;puts(&quot;Hello world!&quot;);</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 236px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">12</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usleep(1000000);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 90px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">13</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&#125;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 59px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">14</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&#125;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 267px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">15</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">__attribute__((constructor))</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 159px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">16</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">void hello() &#123;</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 398px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">17</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;/* Note libpthread.so.0. For some reason,</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 536px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">18</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using the symbolic link (libpthread.so) will not work */</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 613px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">19</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;void* pthread_lib = __libc_dlopen_mode(&quot;libpthread.so.0&quot;, RTLD_LAZY);</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 544px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">20</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;int(*pthread_lib_create)(void*,void*,void*(*)(void*),void*);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 175px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">21</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;pthread_t t;</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 621px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">22</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;*(void**)(&amp;pthread_lib_create) = __libc_dlsym(pthread_lib,&quot;pthread_create&quot;);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 413px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">23</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;pthread_lib_create(&amp;t, NULL, thread, NULL);</td></tr></tbody></table></div><div class="line alt2" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none #f8f8f8 !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 298px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">24</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&nbsp;&nbsp;&nbsp;&nbsp;__libc_dlclose(pthread_lib);</td></tr></tbody></table></div><div class="line alt1" style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important"><table border="0" style="box-sizing: border-box; border-spacing: 0px; width: 59px; border-collapse: collapse !important; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><tbody><tr style="box-sizing: border-box; margin: 0px !important; padding: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: baseline !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-size: 1em !important; min-height: auto !important; background: none !important"><td class="number" style="box-sizing: border-box; padding: 0px !important; margin: 0px !important; border: 0px !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; color: #afafaf !important; background: none !important">25</td><td class="content" style="box-sizing: border-box; padding: 0px 0px 0px 0.5em !important; margin: 0px !important; border-width: 0px 0px 0px 3px !important; border-left-style: solid !important; border-left-color: #6ce26c !important; outline: 0px !important; float: none !important; vertical-align: top !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; min-height: auto !important; background: none !important">&#125;</td></tr></tbody></table></div></div></div><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">如果你没用过&nbsp;dl*函数,这段代码看起来会非常吃力。但你可以查阅&nbsp;<a style="box-sizing: border-box; color: #ee6e50 !important; background-color: transparent" rel="nofollow,noindex" href="http://linux.die.net/man/3/dlopen" target="_blank">相关文档&nbsp;</a>,自己去寻求解释当然会理解的更深。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">基于以上,你将可以注入自己的代码到运行中的Linux进程中。Have&nbsp;fun!</p><div style="box-sizing: border-box"><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">本文由 360安全播报 翻译，转载请注明&ldquo;转自360安全播报&rdquo;，并附上链接。</p><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px">原文链接：</p></div></div><p style="box-sizing: border-box; margin: 0px 0px 30px; font-size: 1.8rem; line-height: 31px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif">来自：&nbsp;<a style="box-sizing: border-box; color: #ee6e50 !important; background-color: transparent" rel="nofollow" href="http://bobao.360.cn/learning/detail/2601.html" target="_blank">http://bobao.360.cn/learning/detail/2601.html</a></p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7390</link>
<title><![CDATA[八大Linux/Unix服务器内存转储工具]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 13:28:32 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7390</guid> 
<description>
<![CDATA[ 
	<p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">话说工欲善其事必先利其器，当你对Linux/Unix服务器内存进行转储时，手边需要有得力的工具。国外媒体盘点了八款Linux/Unix服务器内存监控工具。一起来看看。</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">LiME（Linux Memory Extractor）</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　LiME（之 前叫DMD）是一种可加载内核模块（Loadable Kernel Module，LKM），可获得Linux和Linux设备中的易失性存储器。该工具支持从设备中的文件系统或者从网络中获取内存。LiME是第一个可以 从Android设备捕捉完整内存的工具，在抓取过程中减少了将用户和内核空间进程之间的互动。</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">LiME下载地址：http://code.google.com/p/lime-forensics/downloads/list</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">Draugr</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　使用/dev/(k)mem或者信息转储，Draugr可通过python语言访问、读写、搜索内存。还可以通过不同方式找到系统信息。另外，还可以找到内核符号（XML文件或EXPORT_SYMBOL）、进程，以及反汇编和转储内存。</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Draugr下载地址：http://code.google.com/p/draugr/downloads/list</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">Volatilitux</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　对Linux系统来说，Volatilitux相当于Volatility。Volatilitux支持以下物理内存转储架构：</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* ARM</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* x86</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* 支持PAE的x86</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">支持以下命令：</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* pslist: 打印所有进程列表</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* memmap: 打印一个进程的内存映射</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* memdmp: 转储进程的可寻址内存</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* filelist: 对于一个给定的进程，打印所有的开启文档</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">* filedmp: 转储开启文档</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Volatilitux下载地址：http://code.google.com/p/volatilitux/downloads/list</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">Memfetch</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　这是一款简单的工具，可将运行中的进程的所有内存进行转储，或者在发现故障状态时进行转储。安装Memfetch代码:</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">## FreeBSD ##<br />pkg_add -r -v memfetch</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">## other *nix user download it from the following url ##<br />wget http://lcamtuf.coredump.cx/soft/memfetch.tgz<br />tar xvf memfetch.tgz<br />cd memfetch &amp;&amp; make</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Memfetch下载地址：http://lcamtuf.coredump.cx/</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">红帽Crash</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　该核心分析套件是一个独立的工具，可以用来研究生态系统、在Netdump上创建的内核核心转储、支持Red Hat Linux上的diskdump和kdump软件包，可以用于内存取证。安装代码：</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">## RHEL / CentOS ##<br />yum install crash</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">## Novell / Suse / OpenSUSE ##<br />zypper install yast2-kdump</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Crash下载地址：http://people.redhat.com/anderson/</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">Memgrep</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　一款简单的工具，从运行中的进程和核心文件中搜索、替换、转储内存。安装：</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">## FreeBSD ##<br />pkg_add -r -v memgrep</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Memgrep下载地址：http://hick.org/</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Memdump</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">Memdump将系统内存转储到标准输出流，跳过内存映射。默认转储物理内存的内容。安装：</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">## Debian / ubuntu Linux ##<br />sudo apt-get install memdump<br />## FreeBSD ##<br />pkg_add -r -v memdupm</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　<strong style="word-wrap: break-word">foriana</strong></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px"><br /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">　　根据操作系统结构之间的逻辑关系从RAM映像提取进程和模块列表信息的工具。</p><p style="word-wrap: break-word; margin: 0px; padding: 0px; font-family: 'Microsoft YaHei', Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px">foriana下载地址：http://hysteria.sk/~niekt0/foriana/</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7389</link>
<title><![CDATA[如何使用gcore工具获取一个core文件而不重启应用？]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 13:28:11 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7389</guid> 
<description>
<![CDATA[ 
	<div class="resolution" style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">解决方法:</div><div style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><p style="line-height: 1.25em; margin-top: 5px">解决：</p><p style="line-height: 1.25em; margin-top: 5px">问题：</p><p style="line-height: 1.25em; margin-top: 5px">当调试一个程序的时候，理想状态是不重启应用程序就获取core文件。</p><p style="line-height: 1.25em; margin-top: 5px">解决：</p><p style="line-height: 1.25em; margin-top: 5px">gcore命令可以使用下面步骤来获取core文件：</p><p style="line-height: 1.25em; margin-top: 5px">1. 确认gdb软件包已经被正确安装。</p><p style="line-height: 1.25em; margin-top: 5px">2. 使用调试参数编译程序（例如： gcc中使用&quot;-g&quot;选项），编译后不要去除文件的调试符号信息。</p><p style="line-height: 1.25em; margin-top: 5px">3. 执行应用程序。</p><p style="line-height: 1.25em; margin-top: 5px">4. 执行gcore命令生成指定应用程序的core文件并且保存在当前目录下。</p><pre style="white-space: pre-wrap; word-wrap: break-word">$ gcore pid&nbsp;&nbsp; (进程号)</pre></div>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7388</link>
<title><![CDATA[Linux下pstack、strace和valgrind的使用]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 13:27:57 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7388</guid> 
<description>
<![CDATA[ 
	
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7387</link>
<title><![CDATA[提示ptrace不允许的操作解决办法]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 13:27:37 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7387</guid> 
<description>
<![CDATA[ 
	<div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">提示ptrace不允许的操作解决办法</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">在国外网站上找到的解决方法：</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">临时性的解决方法：</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">sudo echo 0 &gt; /proc/sys/kernel/yama/ptrace_scope&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">这样不过重启电脑之后就又恢复成原来的样子了，一劳永逸的方法：</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">sudo vi /etc/sysctl.d/10-ptrace.conf&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">kernel.yama.ptrace_scope = 0</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">&nbsp;</div><div style="border-width: 0px; padding: 0px; margin: 0px; list-style: none; color: #333333; font-family: 宋体; font-size: 14px; line-height: 28px; background-color: #f9f9f9">重启电脑就好了，据说在Ubuntu 11.04之后都会出现这种问题，貌似是为了安全</div>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7386</link>
<title><![CDATA[跨机器登陆mysql-ssh隧道]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 11:01:51 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7386</guid> 
<description>
<![CDATA[ 
	<p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">有时我们需要登陆<a style="color: #df3434; text-decoration: none; font-weight: bold" href="http://lib.csdn.net/base/14" target="_blank" title="undefined" class="replace_word">MySQL</a>,但是mysql-server可能对登陆做了ip授权，比如：mysql对A机器做了登陆授权，我们在这上边安装了php/<a style="color: #df3434; text-decoration: none; font-weight: bold" href="http://lib.csdn.net/base/11" target="_blank" title="undefined" class="replace_word">Python</a>的对应model，从而可以直接使用php/python脚本来进行sql操作. &nbsp;但是该台机器却没有安装mysql-client客户端！ &nbsp;此时如果我想在A机器上直接进行sql查询该怎么办呢？</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">最简单的：安装一个sql客户端.&nbsp;</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">那有木有办法不安装呢？可以的，我们可以找一台安装有sql客户端的未进行ip授权的B机器来进行操作， &nbsp;可是B机器毕竟没有ip授权，此时该如何操作呢？</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">实际有授权的是A机器，那我们可以建立一条B机器到A机器的ssh隧道，这样就可以在B机器上进行类似直接在A机器上进行的操作了.</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><span style="white-space: pre">ssh -fN -L&lt;local</span>-<span style="white-space: pre">ip&gt;:</span>local-<span style="white-space: pre">port:</span>remote-<span style="white-space: pre">ip:</span>remote-<span style="white-space: pre">port </span>&nbsp;<span style="white-space: pre">ssh</span>-<span style="white-space: pre">user@ssh</span>-<span style="white-space: pre">ip</span></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">如上:</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">local-ip: B机器的ip</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">local-port: B机器的port</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">remote-ip: A机器的ip</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">remote-pory: A机器的port</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">ssh-user : A机器的用户名</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">shh-ip: A机器的ip</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">那么该条语句的作用就是：在B机器的指定ip/port 映射为A机器上要操作的指定ip/port &nbsp;这样在B机器上对ip/port所做的操作就等同于在A机器上对映射的ip/port所做的操作</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">比如A机器上操作mysql的ip/port 是 &nbsp; 12.12.12.34:3306</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">那么我们需要在B机器上执行：<span style="white-space: pre">ssh -fN -L</span>43306<span style="white-space: pre">:</span>12.12.12.34<span style="white-space: pre">:</span>3306<span style="white-space: pre"> </span>&nbsp;A-<span style="white-space: pre">user@</span>A-<span style="white-space: pre">ip</span></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">这意味着：在B机器上对localhost:43306所做的操作就是 &nbsp;在A机器上对12.12.12.34:3306所做的操作一样</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">这样的话：我们要想在B机器上登陆mysql，只需要执行： mysql -h127.0.0.1 -P43306 -u** -p** 既可以登陆mysql</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">同理，ssh隧道的实际作用不止于此，也可以用于做http代理等.感兴趣的话可以查一下对应资料</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7385</link>
<title><![CDATA[通过SSH通道来访问MySQL]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Fri, 15 Jul 2016 11:01:38 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7385</guid> 
<description>
<![CDATA[ 
	<p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">许多时候当要使用Mysql时，会遇到如下情况：<br />1. 信息比较重要，希望通信被加密。<br />2. 一些端口，比如3306端口，被路由器禁用。</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">对第一个问题的一个比较直接的解决办法就是更改mysql的代码，或者是使用一些证书，不过这种办法显然不是很简单。</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">这里要介绍另外一种方法，就是利用SSH通道来连接远程的Mysql，方法相当简单。</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">一 建立SSH通道</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">只需要在本地键入如下命令：</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc"><strong>ssh -fNg -L 3307:127.0.0.1:3306&nbsp;</strong><strong>myuser@remotehost.com</strong></p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">The command tells ssh to log in to remotehost.com as myuser, go into the background (-f) and not execute any remote command (-N), and set up port-forwarding (-L localport:localhost:remoteport ). In this case, we forward port 3307 on localhost to port 3306 on remotehost.com.</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">二 连接Mysql</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">现在，你就可以通过本地连接远程的数据库了，就像访问本地的数据库一样。</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc"><strong>mysql -h 127.0.0.1 -P 3307 -u dbuser -p db</strong></p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">The command tells the local MySQL client to connect to localhost port 3307 (which is forwarded via ssh to remotehost.com:3306). The exchange of data between client and server is now sent over the encrypted ssh connection.</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">或者用Mysql Query Brower来访问Client的3307端口。</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">类似的，用PHP访问：</p><div class="quote" style="font-size: 14px; word-wrap: break-word; margin: 10px 10px 10px 2em; border-width: 1px 1px 1px 4px; border-style: solid; border-color: #eeeeee; padding: 5px; font-family: tahoma, 宋体; line-height: 22.4px; color: #333333; text-align: justify; background: #fcfcfc">&lt;?php<br />$smysql = mysql_connect( &quot;127.0.0.1:3307&quot;, &quot;dbuser&quot;, &quot;PASS&quot; );<br />mysql_select_db( &quot;db&quot;, $smysql );<br />?&gt;</div><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">Making It A Daemon</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">A quick and dirty way to make sure the connection runs on startup and respawns on failure is to add it to /etc/inittab and have the init process (the, uh, kernel) keep it going.</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">Add the following to /etc/inittab on each client:</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">sm:345:respawn:/usr/bin/ssh -Ng -L 3307:127.0.0.1:3306 myuser@remotehost.com</p><p style="color: #333333; font-family: tahoma, 宋体; font-size: 14px; line-height: 22.4px; text-align: justify; background-color: #fafafc">And that should be all you need to do. Send init the HUP signal ( kill -HUP 1 ) to make it reload the configuration. To turn it off, comment out the line and HUP init again.</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7384</link>
<title><![CDATA[Linux下配置ShadowSocks(ServerClient)]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Wed, 13 Jul 2016 14:04:50 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7384</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">由于一些大家都懂的原因，访问GitHub或者Google需要进行特殊的&rdquo;配置&rdquo;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">之前一直用ssh的方式，最近发现了ShadowSocks，折腾一下发现稳定性、速度都比ssh要好很多，推荐给大家使用。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">这个是一个Socks5代理本地映射+远程服务器的套件，写的非常好，具体可以见&nbsp;<a style="color: #949494; text-decoration: none; transition: 0.25s; outline: none 0px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #949494; font-style: italic; font-weight: bold" rel="nofollow,noindex" href="http://shadowsocks.cn/index.html">主页</a>&nbsp;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">1、服务器端安装</p><div style="font-size: 16px; line-height: 27.2px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><div style="line-height: 1.7em"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p></div></div><pre class="prettyprint sql" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">echo &quot;deb http://shadowsocks.org/debian squeeze main&quot; &gt;&gt; /etc/apt/sources.list su<span class="operator"><span style="font-weight: bold" class="keyword">do</span> apt-<span style="font-weight: bold" class="keyword">get</span> <span style="font-weight: bold" class="keyword">update</span> sudo apt-<span style="font-weight: bold" class="keyword">get</span> install shadowsocks</span></pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">如果你用的不是Debian，也可以用编译的方式（Server有Python、Node等等很多种） ，具体点&nbsp;<a style="color: #949494; text-decoration: none; transition: 0.25s; outline: none 0px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #949494; font-style: italic; font-weight: bold" rel="nofollow,noindex" href="http://shadowsocks.cn/servers.html">这里</a>&nbsp;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">2、服务器端配置</p><div style="font-size: 16px; line-height: 27.2px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><div style="line-height: 1.7em"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p></div></div><pre class="sql" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 0.75em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">su<span class="operator"><span style="font-weight: bold" class="keyword">do</span> vim /etc/shadowsocks/config.json</span></pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">形如：</p><div style="font-size: 16px; line-height: 27.2px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><div style="line-height: 1.7em"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p></div></div><pre class="prettyprint json" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">&#123;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span>&quot;<span style="color: #008080" class="attribute">server</span>&quot;:<span class="value"><span style="color: #dd1144" class="string">&quot;127.0.0.1&quot;</span></span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span>&quot;<span style="color: #008080" class="attribute">server_port</span>&quot;:<span class="value"><span style="color: #009999" class="number">8388</span></span>, <span class="indent">&nbsp;&nbsp;</span>&quot;<span style="color: #008080" class="attribute">local_port</span>&quot;:<span class="value"><span style="color: #009999" class="number">1080</span></span>, <span class="indent">&nbsp;&nbsp;</span>&quot;<span style="color: #008080" class="attribute">password</span>&quot;:<span class="value"><span style="color: #dd1144" class="string">&quot;barfoo!&quot;</span></span>, <span class="indent">&nbsp;&nbsp;</span>&quot;<span style="color: #008080" class="attribute">timeout</span>&quot;:<span class="value"><span style="color: #009999" class="number">60</span></span>, <span class="indent">&nbsp;&nbsp;</span>&quot;<span style="color: #008080" class="attribute">method</span>&quot;:<span class="value"><span class="literal">null</span> &#125;</span> </pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">除了method改成&rdquo;aes-256-cfb&rdquo; 、ip改成服务器的ip外，其他根据需要自己修改就可以了。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">最后启动</p><div style="font-size: 16px; line-height: 27.2px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><div style="line-height: 1.7em"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p></div></div><pre class="sql" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 0.75em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">su<span class="operator"><span style="font-weight: bold" class="keyword">do</span> /etc/init.d/shadowsocks <span style="font-weight: bold" class="keyword">start</span></span></pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">3、客户端配置</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">客户端支持Linux、Windows等，具体见&nbsp;<a style="color: #949494; text-decoration: none; transition: 0.25s; outline: none 0px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #949494; font-style: italic; font-weight: bold" rel="nofollow,noindex" href="http://shadowsocks.cn/clients.html">这里</a>&nbsp;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">下面以Linux为例。</p><div style="font-size: 16px; line-height: 27.2px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><div style="line-height: 1.7em"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p></div></div><pre class="prettyprint perl" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">wget dl.chenyufei.info/shadowsocks/shadowsocks-<span style="font-weight: bold" class="keyword">local</span>-linux64-<span style="color: #009999" class="number">1.1</span>.<span style="color: #009999" class="number">3</span>.gz gunzip shadowsocks-<span style="font-weight: bold" class="keyword">local</span>-linux64-<span style="color: #009999" class="number">1.1</span>.<span style="color: #009999" class="number">3</span>.gz <span style="font-weight: bold" class="keyword">chmod</span> a+<span style="font-weight: bold" class="keyword">x</span> shadowsocks-<span style="font-weight: bold" class="keyword">local</span>-linux64-<span style="color: #009999" class="number">1.1</span>.<span style="color: #009999" class="number">3</span></pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">然后运行客户端，配置要与服务器端设置的一致：</p><div style="font-size: 16px; line-height: 27.2px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><div style="line-height: 1.7em"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em"></p></div></div><pre class="prettyprint bash" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">./shadowsocks-local-linux64-1.1.3 -d=<span class="literal">true</span> -k=<span style="color: #dd1144" class="string">&quot;服务器的密码&quot;</span> -m=<span style="color: #dd1144" class="string">&quot;aes-256-cfb&quot;</span> -l=8700 -p=服务器的端口 -s=<span style="color: #dd1144" class="string">&quot;服务器的ip&quot;</span></pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">如果运行成功会有提示，最后就是设置本地浏览器的代理就可以了。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">PS：如果觉得client命令太长，也可以用 alias。</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?7383</link>
<title><![CDATA[Ubuntu14.04下搭建VPN服务]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[linux]]></category>
<pubDate>Wed, 13 Jul 2016 14:04:27 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?7383</guid> 
<description>
<![CDATA[ 
	<div class="blog-abstract" style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; padding: 10px 20px; margin: 15px 0px; line-height: 1.8; word-break: break-all; color: #333333; font-family: 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif; font-size: 14px; background: #f8f8f8"><strong style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; font-size: 1.6rem">摘要</strong><div style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; font-size: 1.4rem; color: #666666">手里刚好有海外/香港服务器的小伙伴们，搭个VPN吧，不用浪费了.</div></div><div class="blog-body" style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; font-size: 1.6rem; font-family: 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif; word-wrap: break-word; color: #3d464d; line-height: 30px; margin-top: 30px"><div class="BlogContent" style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; font-size: 12.5px">采用PPTP搭建VPN，优点是配置简单快捷。将亲身过程记录下来供亲们参考，并将过程中遇到的问题也一一列举出来解决方式。。。</span></p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">直接上步骤:</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">1.第一步需要安装PPTP，以用来提供VPN服务.</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent">sudo&nbsp;apt-<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #859900" class="hljs-keyword">get</span>&nbsp;install&nbsp;pptpd</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">如果有问题的话比如提示找不到之类的，apt-get update 一下应该就可以了，然后再来一次就会自动完成安装。</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">2.装好了之后我们需要进行配置一下以让它可以使用.</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span>&nbsp;vi&nbsp;/etc/pptpd.conf</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">取消掉以下 2 行的注释：</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-tag">localip</span>&nbsp;192<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.168</span><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.0</span><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.1</span> <span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-tag">remoteip</span>&nbsp;192<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.168</span><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.0</span><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.234-238</span>,192<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.168</span><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.0</span><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent" class="hljs-selector-class">.245</span></pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">分别是通过VPN连接后主机和客户端所使用的IP，可以自行修改。注意这个IP在下面还会用的到。</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">3.然后我们需要分配账号给自己使用.</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span>&nbsp;vi&nbsp;/etc/ppp/chap-secrets</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">这个是用户列表文件</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">在里面添加账户按如下格式</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">username</span>&nbsp;&nbsp;pptpd&nbsp;&nbsp;<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #2aa198" class="hljs-string">&quot;password&quot;</span>&nbsp;&nbsp;*</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">username为你的用户名password为你的密码，密码用引号引起,最后的*号表示允许在任意IP连接到服务</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">4.至此服务弄好了，如果你sudo service pptpd restart一下，就应该已经能连接到该VPN了，但是连接了之后会发现还访问不了外网。然后我们需要让他能访问外网。首先，</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span>&nbsp;vi&nbsp;/etc/ppp/pptpd-options</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">找到ms-dns，取消掉注释，改成你喜欢的DNS比如8.8.8.8,8.8.4.4</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">5.然后我们要开启内核IP转发</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span>&nbsp;vi&nbsp;/etc/sysctl.conf</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">取消掉 net.ipv4.ip_forward=1 这一行的注释.</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">然后执行</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span> sysctl -p</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">使修改后的文件配置立即生效。</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">6.然后我们需要安装iptables，用来实现请求的NAT转发</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent">sudo&nbsp;apt-<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #859900" class="hljs-keyword">get</span>&nbsp;install&nbsp;iptables</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">然后开启NAT转发.</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span>&nbsp;iptables&nbsp;-t&nbsp;nat&nbsp;-A&nbsp;POSTROUTING&nbsp;-s&nbsp;<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #2aa198" class="hljs-number">192.168.0.0</span>/<span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #2aa198" class="hljs-number">24</span>&nbsp;-o&nbsp;eth0&nbsp;-j&nbsp;MASQUERADE</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">192.168.0.0/24是你在上面设置的IP段，让这个段转发</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">注意eth0是你连接外网的那块网卡，不一定是0也有可能是1或者看你的机器哪块网卡连的外网了。这样就以NAT的方式请求外网的东西了。不知道你的机器哪块网卡连的外网的话ifconfig一下看看哪个网卡是外网IP就知道了。</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">7.最后，我们需要重启服务，让配置生效 .</p><pre style="box-sizing: inherit; -webkit-tap-highlight-color: transparent"><span style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; color: #b58900" class="hljs-attribute">sudo</span>&nbsp;service&nbsp;pptpd&nbsp;restart</pre><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">&nbsp;</p><p style="box-sizing: inherit; -webkit-tap-highlight-color: transparent; margin-bottom: 16px">现在你已经可以连接到VPN在真实的世界翱翔了，玩去吧。</p></div></div>
]]>
</description>
</item>
</channel>
</rss>