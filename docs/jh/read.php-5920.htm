<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="æµæµªçš„é¾™ï¼ä¸ªäººçŸ¥è¯†ç®¡ç†" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="æµæµªçš„é¾™ï¼ä¸ªäººçŸ¥è¯†ç®¡ç†" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>SURFæºç å…³é”®æ­¥éª¤æ³¨é‡Š - æµæµªçš„é¾™ï¼ä¸ªäººçŸ¥è¯†ç®¡ç† - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="æœç´¢ æµæµªçš„é¾™ï¼ä¸ªäººçŸ¥è¯†ç®¡ç†" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">æµæµªçš„é¾™ï¼ä¸ªäººçŸ¥è¯†ç®¡ç†</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">é¦–é¡µ</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">ä¸ªæ€§é¦–é¡µ</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">ç½‘å€å¯¼èˆª</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">æ ‡ç­¾</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">ç•™è¨€</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="read.php-5914.htm" tppabs="http://i.renjihe.com/blog/read.php?5914" title="ä¸Šä¸€ç¯‡ KNNç®—æ³•ä»‹ç» "><img src="toolbar_previous.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_previous.gif" alt='' border='0'/>KNNç®—æ³•ä»‹ç» </a></div>
	<div class="next-article"><a href="read.php-5921.htm" tppabs="http://i.renjihe.com/blog/read.php?5921" title="ä¸‹ä¸€ç¯‡ SIFTç³»åˆ—01--SI"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>SIFTç³»åˆ—01--SI</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Mar</span>
	<span class="textbox-calendar-day">12</span>
	</div>
	<div class="textbox-title">
		<h4>
		SURFæºç å…³é”®æ­¥éª¤æ³¨é‡Š <span id="starid5920"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="æœªåŠ æ˜Ÿæ ‡" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="ä¸æŒ‡å®š" title="ä¸æŒ‡å®š"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 16:39 , <a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="æŸ¥çœ‹åˆ†ç±»ï¼š ç†è®º">ç†è®º</a> &raquo; <a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="æŸ¥çœ‹åˆ†ç±»ï¼š CV&amp;Graphic">CV&amp;Graphic</a> , <a href="read.php-5920.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?5920#reply" title="å‘è¡¨æ‚¨çš„è¯„è®º">è¯„è®º(0)</a> , <a href='javascript: void(0);' title="æŸ¥çœ‹å¼•ç”¨åœ°å€" onclick='showhidediv("tb5920");'>å¼•ç”¨(0)</a> , <a href="read.php-5920.htm" tppabs="http://i.renjihe.com/blog/read.php?5920">é˜…è¯»(1)</a> ,  Via æœ¬ç«™åŸåˆ› <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="å­—ä½“å¤§å°" border='0'/> <a href="javascript: doZoom(16);">å¤§</a> | <a href="javascript: doZoom(14);">ä¸­</a> | <a href="javascript: doZoom(12);">å°</a> <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?2859  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ²»¿ÉÓÃ, »ò·ÅÆúÁËÏÂÔØ, »òÏîÄ¿¼´½«Í£Ö¹¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://i.renjihe.com/blog/read.php?2859'" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_5920"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="è®¢é˜…æœ¬æ–‡" border='0'/></a> <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?2777  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ²»¿ÉÓÃ, »ò·ÅÆúÁËÏÂÔØ, »òÏîÄ¿¼´½«Í£Ö¹¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://i.renjihe.com/blog/read.php?2777'" tppabs="http://i.renjihe.com/blog/read.php?save_5920"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="ä¿å­˜æœ¬æ–‡ä¸ºæ–‡æœ¬æ–‡æ¡£" border='0'/></a></span>
		</div>
	</div>
	<div id="tb5920" style="display: none;" class="textbox-tburl"><strong>å¼•ç”¨åŠŸèƒ½è¢«å…³é—­äº†ã€‚</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	<div>SURFæ˜¯SIFTç®—æ³•çš„åŠ é€Ÿç‰ˆæœ¬ï¼Œæ”¹è¿›çš„åœ°æ–¹ä¸»è¦æ˜¯ç”¨åˆ°äº†ç›’æ»¤æ³¢ä»£æ›¿é«˜æ–¯æ»¤æ³¢ã€é€šè¿‡æ”¹å˜ç›’æ»¤æ³¢å™¨å°ºå¯¸èŠ‚çœäº†ä¸‹é‡‡æ ·çš„æ—¶é—´ã€ç”¨è¿‘ä¼¼hessianè¡Œåˆ—å¼çŸ©é˜µé‡‘å­—å¡”ï¼ˆç›¸å½“äºsifté«˜æ–¯å·®åˆ†é‡‘å­—å¡”ï¼‰æ¥æ±‚å–æå¤§å€¼ç‚¹ã€å…³é”®ç‚¹çš„æ–¹å‘å’Œæè¿°å­ä¹Ÿå’Œsiftä¸åŒï¼Œå…·ä½“çš„è¿‡ç¨‹èµ„æ–™ä¹Ÿå¾ˆå¤šï¼Œè¿™é‡ŒåªæŠŠopencvé‡Œçš„surfæºç å…³é”®æ­¥éª¤æ³¨é‡Šä¸‹ï¼Œå…·ä½“çš„è¿‡ç¨‹ä¸åœ¨è¿™é‡Œè¯¦è¿°ã€‚</div><div><br /></div><div><br /></div><div>#include &quot;precomp.hpp&quot;</div><div><br /></div><div>namespace cv</div><div>&#123;</div><div><br /></div><div>static const int &nbsp; SURF_ORI_SEARCH_INC = 5;</div><div>static const float SURF_ORI_SIGMA &nbsp; &nbsp; &nbsp;= 2.5f;</div><div>static const float SURF_DESC_SIGMA &nbsp; &nbsp; = 3.3f;</div><div><br /></div><div>// Wavelet size at first layer of first octave.</div><div>static const int SURF_HAAR_SIZE0 = 9;</div><div><br /></div><div>// Wavelet size increment between layers. This should be an even number,</div><div>// such that the wavelet sizes in an octave are either all even or all odd.</div><div>// This ensures that when looking for the neighbours of a sample, the layers</div><div>// above and below are aligned correctly.</div><div>static const int SURF_HAAR_SIZE_INC = 6;</div><div><br /></div><div><br /></div><div>struct SurfHF</div><div>&#123;</div><div>&nbsp; &nbsp; int p0, p1, p2, p3;</div><div>&nbsp; &nbsp; float w;</div><div><br /></div><div>&nbsp; &nbsp; SurfHF(): p0(0), p1(0), p2(0), p3(0), w(0) &#123;&#125;</div><div>&#125;;</div><div><br /></div><div>inline float calcHaarPattern( const int* origin, const SurfHF* f, int n )</div><div>&#123;</div><div>&nbsp; &nbsp; double d = 0;</div><div>&nbsp; &nbsp; for( int k = 0; k &lt; n; k++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; d += (origin[f[k].p0] + origin[f[k].p3] - origin[f[k].p1] - origin[f[k].p2])*f[k].w;</div><div>&nbsp; &nbsp; return (float)d;</div><div>&#125;</div><div><br /></div><div>static void</div><div>resizeHaarPattern( const int src[][5], SurfHF* dst, int n, int oldSize, int newSize, int widthStep )</div><div>&#123;</div><div>&nbsp; &nbsp; float ratio = (float)newSize/oldSize;</div><div>&nbsp; &nbsp; for( int k = 0; k &lt; n; k++ )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; int dx1 = cvRound( ratio*src[k][0] );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; int dy1 = cvRound( ratio*src[k][1] );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; int dx2 = cvRound( ratio*src[k][2] );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; int dy2 = cvRound( ratio*src[k][3] );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dst[k].p0 = dy1*widthStep + dx1;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dst[k].p1 = dy2*widthStep + dx1;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dst[k].p2 = dy1*widthStep + dx2;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dst[k].p3 = dy2*widthStep + dx2;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dst[k].w = src[k][4]/((float)(dx2-dx1)*(dy2-dy1));</div><div>&nbsp; &nbsp; &#125;</div><div>&#125;</div><div><br /></div><div>//sumä¸ºç§¯åˆ†å›¾ï¼Œsizeä¸ºç›’çš„å¤§å°</div><div>static void calcLayerDetAndTrace( const Mat&amp; sum, int size, int sampleStep,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mat&amp; det, Mat&amp; trace )</div><div>&#123;</div><div>&nbsp; &nbsp; const int NX=3, NY=3, NXY=4;</div><div>&nbsp; &nbsp; const int dx_s[NX][5] = &#123; &#123;0, 2, 3, 7, 1&#125;, &#123;3, 2, 6, 7, -2&#125;, &#123;6, 2, 9, 7, 1&#125; &#125;;</div><div>&nbsp; &nbsp; const int dy_s[NY][5] = &#123; &#123;2, 0, 7, 3, 1&#125;, &#123;2, 3, 7, 6, -2&#125;, &#123;2, 6, 7, 9, 1&#125; &#125;;</div><div>&nbsp; &nbsp; const int dxy_s[NXY][5] = &#123; &#123;1, 1, 4, 4, 1&#125;, &#123;5, 1, 8, 4, -1&#125;, &#123;1, 5, 4, 8, -1&#125;, &#123;5, 5, 8, 8, 1&#125; &#125;;</div><div><br /></div><div>//3ä¸ªä¸åŒæ–¹å‘çš„ç›’æ»¤æ³¢å™¨</div><div>&nbsp; &nbsp; SurfHF Dx[NX], Dy[NY], Dxy[NXY];</div><div><br /></div><div>&nbsp; &nbsp; if( size &gt; sum.rows-1 &#124;&#124; size &gt; sum.cols-1 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp;return;</div><div><br /></div><div>//æ›´æ–°ç›’æ»¤æ³¢å™¨çš„å°ºå¯¸</div><div>&nbsp; &nbsp; resizeHaarPattern( dx_s , Dx , NX , 9, size, sum.cols );</div><div>&nbsp; &nbsp; resizeHaarPattern( dy_s , Dy , NY , 9, size, sum.cols );</div><div>&nbsp; &nbsp; resizeHaarPattern( dxy_s, Dxy, NXY, 9, size, sum.cols );</div><div><br /></div><div>&nbsp; &nbsp;</div><div>//ç§¯åˆ†å›¾çš„å°ºå¯¸æ¯”åŸå›¾å¤§1ä¸ªåƒç´ </div><div>//æ¯å±‚è®¡ç®—hessianè¡Œåˆ—å¼å’Œè¿¹æ—¶çš„å¾ªç¯æ¬¡æ•°</div><div>&nbsp; &nbsp; int samples_i = 1+(sum.rows-1-size)/sampleStep;</div><div>&nbsp; &nbsp; int samples_j = 1+(sum.cols-1-size)/sampleStep;</div><div><br /></div><div>&nbsp; &nbsp;</div><div>&nbsp; &nbsp; int margin = (size/2)/sampleStep;</div><div><br /></div><div>&nbsp; &nbsp; for( int i = 0; i &lt; samples_i; i++ )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const int* sum_ptr = sum.ptr(i*sampleStep); &nbsp; &nbsp; &nbsp; //ç§¯åˆ†å›¾è¡ŒæŒ‡é’ˆ</div><div>&nbsp; &nbsp; &nbsp; &nbsp; float* det_ptr = &amp;det.at(i+margin, margin); &nbsp; &nbsp; &nbsp;//è¡Œåˆ—å¼çŸ©é˜µè¡ŒæŒ‡é’ˆï¼Œå·²ç»å»é™¤è¾¹ç¼˜</div><div>&nbsp; &nbsp; &nbsp; &nbsp; float* trace_ptr = &amp;trace.at(i+margin, margin); &nbsp;//è¿¹çŸ©é˜µè¡ŒæŒ‡é’ˆï¼Œå·²ç»å»é™¤è¾¹ç¼˜</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int j = 0; j &lt; samples_j; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float dx &nbsp;= calcHaarPattern( sum_ptr, Dx , 3 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float dy &nbsp;= calcHaarPattern( sum_ptr, Dy , 3 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float dxy = calcHaarPattern( sum_ptr, Dxy, 4 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sum_ptr += sampleStep; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //ç§¯åˆ†å›¾æ­¥é•¿æ ¹æ®é‡‡æ ·æ­¥é•¿å¢åŠ </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; det_ptr[j] = dx*dy - 0.81f*dxy*dxy; &nbsp; &nbsp; &nbsp; &nbsp; //è®¡ç®—è¡Œåˆ—å¼</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trace_ptr[j] = dx + dy; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//è®¡ç®—è¿¹</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &#125;</div><div>&#125;</div><div><br /></div><div><br /></div><div>//ç”¨ä¸‰ç»´äºŒæ¬¡æ‹Ÿåˆçš„æ–¹æ³•ç²¾ç¡®å®šä½æå€¼ç‚¹çš„åæ ‡ï¼Œå’Œsiftæ–¹æ³•ä¸€æ ·</div><div>static int</div><div>interpolateKeypoint( float N9[3][9], int dx, int dy, int ds, KeyPoint&amp; kpt )</div><div>&#123;</div><div>//è®¡ç®—ä¸€é˜¶åå¯¼æ•°</div><div>&nbsp; &nbsp; Vec3f b(-(N9[1][5]-N9[1][3])/2, &nbsp;// Negative 1st deriv with respect to x</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -(N9[1][7]-N9[1][1])/2, &nbsp;// Negative 1st deriv with respect to y</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -(N9[2][4]-N9[0][4])/2); // Negative 1st deriv with respect to s</div><div><br /></div><div>//äºŒé˜¶åå¯¼æ•°çŸ©é˜µ</div><div>&nbsp; &nbsp; Matx33f A(</div><div>&nbsp; &nbsp; &nbsp; &nbsp; N9[1][3]-2*N9[1][4]+N9[1][5], &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 2nd deriv x, x</div><div>&nbsp; &nbsp; &nbsp; &nbsp; (N9[1][8]-N9[1][6]-N9[1][2]+N9[1][0])/4, // 2nd deriv x, y</div><div>&nbsp; &nbsp; &nbsp; &nbsp; (N9[2][5]-N9[2][3]-N9[0][5]+N9[0][3])/4, // 2nd deriv x, s</div><div>&nbsp; &nbsp; &nbsp; &nbsp; (N9[1][8]-N9[1][6]-N9[1][2]+N9[1][0])/4, // 2nd deriv x, y</div><div>&nbsp; &nbsp; &nbsp; &nbsp; N9[1][1]-2*N9[1][4]+N9[1][7], &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 2nd deriv y, y</div><div>&nbsp; &nbsp; &nbsp; &nbsp; (N9[2][7]-N9[2][1]-N9[0][7]+N9[0][1])/4, // 2nd deriv y, s</div><div>&nbsp; &nbsp; &nbsp; &nbsp; (N9[2][5]-N9[2][3]-N9[0][5]+N9[0][3])/4, // 2nd deriv x, s</div><div>&nbsp; &nbsp; &nbsp; &nbsp; (N9[2][7]-N9[2][1]-N9[0][7]+N9[0][1])/4, // 2nd deriv y, s</div><div>&nbsp; &nbsp; &nbsp; &nbsp; N9[0][4]-2*N9[1][4]+N9[2][4]); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 2nd deriv s, s</div><div><br /></div><div>//æ±‚è§£åç§»é‡x</div><div>&nbsp; &nbsp; Vec3f x = A.solve(b, DECOMP_LU);</div><div><br /></div><div>&nbsp; &nbsp; bool ok = (x[0] != 0 &#124;&#124; x[1] != 0 &#124;&#124; x[2] != 0) &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; std::abs(x[0]) &lt;= 1 &amp;&amp; std::abs(x[1]) &lt;= 1 &amp;&amp; std::abs(x[2]) &lt;= 1;</div><div><br /></div><div>&nbsp; &nbsp; if( ok )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; kpt.pt.x += x[0]*dx;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; kpt.pt.y += x[1]*dy;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; kpt.size = (float)cvRound( kpt.size + x[2]*ds );</div><div>&nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; return ok;</div><div>&#125;</div><div><br /></div><div>#ifdef HAVE_TBB</div><div>static tbb::mutex findMaximaInLayer_m;</div><div>#endif</div><div><br /></div><div>//åœ¨å°ºåº¦ç©ºé—´é‡‘å­—å¡”çš„æ¯å±‚ï¼ˆå³è¡Œåˆ—å¼çŸ©é˜µï¼‰å¯»æ‰¾æœ€å¤§å€¼</div><div>static void</div><div>findMaximaInLayer( const Mat&amp; sum, const Mat&amp; mask_sum,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const vector&amp; dets, const vector&amp; traces,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const vector&amp; sizes, vector&amp; keypoints,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int octave, int layer, float hessianThreshold, int sampleStep )</div><div>&#123;</div><div>&nbsp; &nbsp; // Wavelet Data</div><div>&nbsp; &nbsp; const int NM=1;</div><div>&nbsp; &nbsp; const int dm[NM][5] = &#123; &#123;0, 0, 9, 9, 1&#125; &#125;;</div><div>&nbsp; &nbsp; SurfHF Dm;</div><div><br /></div><div>&nbsp; &nbsp; int size = sizes[layer];</div><div><br /></div><div>&nbsp; &nbsp; // The integral image 'sum' is one pixel bigger than the source image</div><div>&nbsp; &nbsp; int layer_rows = (sum.rows-1)/sampleStep;</div><div>&nbsp; &nbsp; int layer_cols = (sum.cols-1)/sampleStep;</div><div><br /></div><div>&nbsp; &nbsp; // Ignore pixels without a 3x3x3 neighbourhood in the layer above</div><div>&nbsp; &nbsp; int margin = (sizes[layer+1]/2)/sampleStep+1;</div><div><br /></div><div>&nbsp; &nbsp; if( !mask_sum.empty() )</div><div>&nbsp; &nbsp; &nbsp; &nbsp;resizeHaarPattern( dm, &amp;Dm, NM, 9, size, mask_sum.cols );</div><div><br /></div><div>&nbsp; &nbsp; int step = (int)(dets[layer].step/dets[layer].elemSize());</div><div><br /></div><div>&nbsp; &nbsp; for( int i = margin; i &lt; layer_rows - margin; i++ )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const float* det_ptr = dets[layer].ptr(i);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const float* trace_ptr = traces[layer].ptr(i);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int j = margin; j &lt; layer_cols-margin; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float val0 = det_ptr[j];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( val0 &gt; hessianThreshold )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int sum_i = sampleStep*(i-(size/2)/sampleStep);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int sum_j = sampleStep*(j-(size/2)/sampleStep);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>//æå€¼ç‚¹å‘¨å›´3x3x3é‚»åŸŸç‚¹çŸ©é˜µ</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const float *det1 = &amp;dets[layer-1].at(i, j);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const float *det2 = &amp;dets[layer].at(i, j);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const float *det3 = &amp;dets[layer+1].at(i, j);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float N9[3][9] = &#123; &#123; det1[-step-1], det1[-step], det1[-step+1],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;det1[-1] &nbsp;, det1[0] , det1[1],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;det1[step-1] , det1[step] , det1[step+1] &nbsp;&#125;,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#123; det2[-step-1], det2[-step], det2[-step+1],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;det2[-1] &nbsp;, det2[0] , det2[1],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;det2[step-1] , det2[step] , det2[step+1] &nbsp;&#125;,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#123; det3[-step-1], det3[-step], det3[-step+1],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;det3[-1] &nbsp;, det3[0] , det3[1],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;det3[step-1] , det3[step] , det3[step+1] &nbsp;&#125; &#125;;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( !mask_sum.empty() )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const int* mask_ptr = &amp;mask_sum.at(sum_i, sum_j);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float mval = calcHaarPattern( mask_ptr, &amp;Dm, 1 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( mval &lt; 0.5 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>//åœ¨å‘¨å›´26ä¸ªç‚¹å¯»æ‰¾æå¤§å€¼</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( val0 &gt; N9[0][0] &amp;&amp; val0 &gt; N9[0][1] &amp;&amp; val0 &gt; N9[0][2] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[0][3] &amp;&amp; val0 &gt; N9[0][4] &amp;&amp; val0 &gt; N9[0][5] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[0][6] &amp;&amp; val0 &gt; N9[0][7] &amp;&amp; val0 &gt; N9[0][8] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[1][0] &amp;&amp; val0 &gt; N9[1][1] &amp;&amp; val0 &gt; N9[1][2] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[1][3] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;&amp; val0 &gt; N9[1][5] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[1][6] &amp;&amp; val0 &gt; N9[1][7] &amp;&amp; val0 &gt; N9[1][8] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[2][0] &amp;&amp; val0 &gt; N9[2][1] &amp;&amp; val0 &gt; N9[2][2] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[2][3] &amp;&amp; val0 &gt; N9[2][4] &amp;&amp; val0 &gt; N9[2][5] &amp;&amp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; val0 &gt; N9[2][6] &amp;&amp; val0 &gt; N9[2][7] &amp;&amp; val0 &gt; N9[2][8] )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float center_i = sum_i + (size-1)*0.5f;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float center_j = sum_j + (size-1)*0.5f;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; KeyPoint kpt( center_j, center_i, (float)sizes[layer],</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -1, val0, octave, CV_SIGN(trace_ptr[j]) );</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>//åœ¨æå¤§å€¼ç‚¹3*3*3é¢†åŸŸæ’å€¼ï¼Œç²¾ç¡®å®šä½æå€¼ç‚¹ä½ç½®</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int ds = size - sizes[layer-1];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int interp_ok = interpolateKeypoint( N9, sampleStep, sampleStep, ds, kpt );</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( interp_ok &nbsp;)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>#ifdef HAVE_TBB</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tbb::mutex::scoped_lock lock(findMaximaInLayer_m);</div><div>#endif</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; keypoints.push_back(kpt);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &#125;</div><div>&#125;</div><div><br /></div><div><br /></div><div>// Multi-threaded construction of the scale-space pyramid</div><div>struct SURFBuildInvoker</div><div>&#123;</div><div>&nbsp; &nbsp; SURFBuildInvoker( const Mat&amp; _sum, const vector&amp; _sizes,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const vector&amp; _sampleSteps,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vector&amp; _dets, vector&amp; _traces )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sum = &amp;_sum;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sizes = &amp;_sizes;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sampleSteps = &amp;_sampleSteps;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dets = &amp;_dets;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; traces = &amp;_traces;</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>//é‡è½½æ“ä½œç¬¦()</div><div>//æ ¹æ®ç§¯åˆ†å›¾ã€é‡‡æ ·æ­¥é•¿å’Œç›’å°ºå¯¸ï¼Œè®¡ç®—æ¯å±‚æ¯ä¸ªç‚¹çš„è¡Œåˆ—å¼å’Œè¿¹</div><div>//è®¡ç®—æ¯å±‚çš„è¡Œåˆ—å¼å’Œè¿¹ï¼Œ(*sizes)[i]ä¸ºç›’çš„å°ºå¯¸,(*sampleSteps)[i]ä¸ºé‡‡æ ·æ­¥é•¿</div><div>&nbsp; &nbsp; void operator()(const BlockedRange&amp; range) const</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int i=range.begin(); i</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; calcLayerDetAndTrace( *sum, (*sizes)[i], (*sampleSteps)[i], (*dets)[i], (*traces)[i] );</div><div>//std::ofstream fout(&quot;dets.txt&quot;);</div><div>//for( int i=range.begin(); i</div><div>//&#123;</div><div>// fout&lt;&lt;&quot;dets[&quot;&lt;&lt;i&lt;&lt;&quot;]:&quot;&lt;&lt;'&#92;n';</div><div>// //std::cout&lt;&lt;(*dets)[i]&lt;&lt;std::endl;</div><div>// fout&lt;&lt;(*dets)[i];</div><div>//&#125;</div><div>//fout&lt;&lt;'&#92;n';</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; const Mat *sum;</div><div>&nbsp; &nbsp; const vector *sizes;</div><div>&nbsp; &nbsp; const vector *sampleSteps;</div><div>&nbsp; &nbsp; vector* dets;</div><div>&nbsp; &nbsp; vector* traces;</div><div>&#125;;</div><div><br /></div><div>// Multi-threaded search of the scale-space pyramid for keypoints</div><div>struct SURFFindInvoker</div><div>&#123;</div><div>&nbsp; &nbsp; SURFFindInvoker( const Mat&amp; _sum, const Mat&amp; _mask_sum,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const vector&amp; _dets, const vector&amp; _traces,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const vector&amp; _sizes, const vector&amp; _sampleSteps,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const vector&amp; _middleIndices, vector&amp; _keypoints,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int _nOctaveLayers, float _hessianThreshold )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sum = &amp;_sum;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mask_sum = &amp;_mask_sum;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dets = &amp;_dets;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; traces = &amp;_traces;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sizes = &amp;_sizes;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sampleSteps = &amp;_sampleSteps;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; middleIndices = &amp;_middleIndices;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; keypoints = &amp;_keypoints;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; nOctaveLayers = _nOctaveLayers;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; hessianThreshold = _hessianThreshold;</div><div><br /></div><div>#ifdef HAVE_TBB</div><div>&nbsp; &nbsp; &nbsp; &nbsp; //touch the mutex to ensure that it's initialization is finished</div><div>&nbsp; &nbsp; &nbsp; &nbsp; CV_Assert(&amp;findMaximaInLayer_m &gt; 0);</div><div>#endif</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; void operator()(const BlockedRange&amp; range) const</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int i=range.begin(); i</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int layer = (*middleIndices)[i]; &nbsp;//ä¸­é—´å±‚çš„åºå·</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int octave = i / nOctaveLayers; &nbsp;//ç»„å·</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; findMaximaInLayer( *sum, *mask_sum, *dets, *traces, *sizes,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*keypoints, octave, layer, hessianThreshold,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(*sampleSteps)[layer] );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; const Mat *sum;</div><div>&nbsp; &nbsp; const Mat *mask_sum;</div><div>&nbsp; &nbsp; const vector* dets;</div><div>&nbsp; &nbsp; const vector* traces;</div><div>&nbsp; &nbsp; const vector* sizes;</div><div>&nbsp; &nbsp; const vector* sampleSteps;</div><div>&nbsp; &nbsp; const vector* middleIndices;</div><div>&nbsp; &nbsp; vector* keypoints;</div><div>&nbsp; &nbsp; int nOctaveLayers;</div><div>&nbsp; &nbsp; float hessianThreshold;</div><div>&#125;;</div><div><br /></div><div>struct KeypointGreater</div><div>&#123;</div><div>&nbsp; &nbsp; inline bool operator()(const KeyPoint&amp; kp1, const KeyPoint&amp; kp2) const</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.response &gt; kp2.response) return true;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.response &lt; kp2.response) return false;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.size &gt; kp2.size) return true;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.size &lt; kp2.size) return false;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.octave &gt; kp2.octave) return true;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.octave &lt; kp2.octave) return false;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.pt.y &lt; kp2.pt.y) return false;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(kp1.pt.y &gt; kp2.pt.y) return true;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; return kp1.pt.x &lt; kp2.pt.y;</div><div>&nbsp; &nbsp; &#125;</div><div>&#125;;</div><div><br /></div><div><br /></div><div>&nbsp;static void fastHessianDetector( const Mat&amp; sum, const Mat&amp; mask_sum, vector&amp; keypoints,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int nOctaves, int nOctaveLayers, float hessianThreshold )</div><div>&#123;</div><div>&nbsp; &nbsp;</div><div><br /></div><div>//std::ofstream fout(&quot;parameters.txt&quot;);</div><div>&nbsp; &nbsp; const int SAMPLE_STEP0 = 1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //é‡‡æ ·æ­¥é•¿</div><div><br /></div><div>&nbsp; &nbsp; int nTotalLayers = (nOctaveLayers+2)*nOctaves; &nbsp; &nbsp;//(2+2)*4ï¼Œæ€»çš„å±‚æ•°</div><div>&nbsp; &nbsp; int nMiddleLayers = nOctaveLayers*nOctaves; &nbsp; &nbsp; &nbsp; //2*4 &nbsp; &nbsp; &nbsp;æ€»çš„ä¸­é—´å±‚æ•°</div><div><br /></div><div>&nbsp; &nbsp; vector dets(nTotalLayers); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//åˆ›å»º16ä¸ªç©ºçš„mat,å­˜å‚¨æ¯ä¸ªç‚¹çš„è¡Œåˆ—å¼</div><div>&nbsp; &nbsp; vector traces(nTotalLayers); &nbsp; &nbsp; &nbsp;//è¿¹çŸ©é˜µ</div><div>&nbsp; &nbsp; vector sizes(nTotalLayers); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//ç›’æ»¤æ³¢çš„ç›’å­å°ºå¯¸</div><div>&nbsp; &nbsp; vector sampleSteps(nTotalLayers); &nbsp; //é‡‡æ ·æ­¥é•¿</div><div>&nbsp; &nbsp; vector middleIndices(nMiddleLayers); &nbsp; //æ¯ç»„ä¸­é—´å±‚çš„åºå·</div><div><br /></div><div>&nbsp; &nbsp; // Allocate space and calculate properties of each layer</div><div>&nbsp; &nbsp; int index = 0, middleIndex = 0, step = SAMPLE_STEP0;</div><div><br /></div><div>&nbsp; &nbsp; for( int octave = 0; octave &lt; nOctaves; octave++ )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int layer = 0; layer &lt; nOctaveLayers+2; layer++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>//æ¯ç»„(octave)çš„è¡Œåˆ—å¼å’Œè¿¹çŸ©é˜µï¼Œå¤§å°</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dets[index].create( (sum.rows-1)/step, (sum.cols-1)/step, CV_32F );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; traces[index].create( (sum.rows-1)/step, (sum.cols-1)/step, CV_32F );</div><div><br /></div><div>//SURF_HAAR_SIZE0=9ï¼ŒSURF_HAAR_SIZE_INC=6</div><div>//ç¬¬0ç»„å°ºå¯¸ä¸º9,15,21,27ï¼Œç¬¬1ç»„18,30,42,54ã€‚ç¬¬2ç»„(octave):36 60 84 108 ï¼Œç¬¬3ç»„(octave):72 120 168 216&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sizes[index] = (SURF_HAAR_SIZE0 + SURF_HAAR_SIZE_INC*layer) &lt;&lt; octave;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sampleSteps[index] = step;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( 0 &lt; layer &amp;&amp; layer &lt;= nOctaveLayers )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; middleIndices[middleIndex++] = index;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; index++;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; step *= 2;</div><div>&nbsp; &nbsp; &#125;</div><div>//fout&lt;&lt;&quot;ç»„æ•°(octaves):&quot;&lt;&lt;nOctaves&lt;&lt;'&#92;n';</div><div>//fout&lt;&lt;&quot;æ¯ç»„çš„å±‚æ•°(layers):&quot;&lt;&lt;nOctaveLayers+2&lt;&lt;'&#92;n';</div><div>//fout&lt;&lt;'&#92;n';</div><div><br /></div><div>//fout&lt;&lt;&quot;æ¯ç»„çš„ä¸­é—´å±‚åºå·(middleIndices):&quot;&lt;&lt;'&#92;n';</div><div>//for (int i=0;i</div><div>//&#123;</div><div>// fout&lt;&lt;middleIndices[i]&lt;&lt;&quot; &quot;;</div><div>//&#125;</div><div>//fout&lt;&lt;'&#92;n';</div><div>//fout&lt;&lt;'&#92;n';</div><div><br /></div><div>//index=0;</div><div>//fout&lt;&lt;&quot;è¡Œåˆ—å¼å’Œè¿¹çŸ©é˜µçš„å°ºå¯¸:&quot;&lt;&lt;'&#92;n';</div><div>//for( int octave = 0; octave &lt; nOctaves; octave++ )</div><div>//&#123;</div><div>// fout&lt;&lt;&quot;ç¬¬&quot;&lt;&lt;octave&lt;&lt;&quot;ç»„(octave)è¡Œåˆ—å¼å’Œè¿¹çŸ©é˜µçš„å°ºå¯¸:&quot;;</div><div>// for( int layer = 0; layer &lt; nOctaveLayers+2; layer++ )</div><div>// &#123;</div><div>// fout&lt;&lt;dets[index++].rows&lt;&lt;&quot; &quot;;</div><div>// &#125;</div><div>// fout&lt;&lt;'&#92;n';</div><div>//&#125;</div><div>//fout&lt;&lt;'&#92;n';</div><div><br /></div><div>//fout&lt;&lt;&quot;é‡‡æ ·æ­¥é•¿ï¼š&quot;;</div><div>//for (int i=0;i</div><div>//&#123;</div><div>// fout&lt;&lt;sampleSteps[i]&lt;&lt;&quot; &quot;;</div><div>//&#125;</div><div>//fout&lt;&lt;'&#92;n';</div><div>//fout&lt;&lt;'&#92;n';</div><div><br /></div><div>//index=0;</div><div>//fout&lt;&lt;&quot;ç›’æ»¤æ³¢çš„ç›’å­å°ºå¯¸:&quot;&lt;&lt;'&#92;n';</div><div>//for( int octave = 0; octave &lt; nOctaves; octave++ )</div><div>//&#123;</div><div>// fout&lt;&lt;&quot;ç¬¬&quot;&lt;&lt;octave&lt;&lt;&quot;ç»„(octave):&quot;;</div><div>// for( int layer = 0; layer &lt; nOctaveLayers+2; layer++ )</div><div>// &#123;</div><div>// fout&lt;&lt;sizes[index++]&lt;&lt;&quot; &quot;;</div><div>// &#125;</div><div>// fout&lt;&lt;'&#92;n';</div><div>//&#125;</div><div>//fout&lt;&lt;'&#92;n';</div><div><br /></div><div><br /></div><div><br /></div><div>&nbsp; &nbsp; // Calculate hessian determinant and trace samples in each layer</div><div>//æ ¹æ®ç§¯åˆ†å›¾ã€é‡‡æ ·æ­¥é•¿å’Œç›’å°ºå¯¸ï¼Œè®¡ç®—æ¯å±‚æ¯ä¸ªç‚¹çš„è¡Œåˆ—å¼å’Œè¿¹</div><div>&nbsp; &nbsp; parallel_for( BlockedRange(0, nTotalLayers),</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SURFBuildInvoker(sum, sizes, sampleSteps, dets, traces) );</div><div><br /></div><div>&nbsp; &nbsp; // Find maxima in the determinant of the hessian</div><div>//ä»hessianè¡Œåˆ—å¼ä¸­æ‰¾æå€¼</div><div>&nbsp; &nbsp; parallel_for( BlockedRange(0, nMiddleLayers),</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SURFFindInvoker(sum, mask_sum, dets, traces, sizes,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sampleSteps, middleIndices, keypoints,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nOctaveLayers, hessianThreshold) );</div><div><br /></div><div>&nbsp; &nbsp; std::sort(keypoints.begin(), keypoints.end(), KeypointGreater());</div><div>&#125;</div><div><br /></div><div><br /></div><div>struct SURFInvoker</div><div>&#123;</div><div>&nbsp; &nbsp; enum &#123; ORI_RADIUS = 6, ORI_WIN = 60, PATCH_SZ = 20 &#125;;</div><div><br /></div><div>&nbsp; &nbsp; SURFInvoker( const Mat&amp; _img, const Mat&amp; _sum,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vector&amp; _keypoints, Mat&amp; _descriptors,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bool _extended, bool _upright )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; keypoints = &amp;_keypoints;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; descriptors = &amp;_descriptors;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; img = &amp;_img;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; sum = &amp;_sum;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; extended = _extended;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; upright = _upright;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; // Simple bound for number of grid points in circle of radius ORI_RADIUS</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const int nOriSampleBound = (2*ORI_RADIUS+1)*(2*ORI_RADIUS+1);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; // Allocate arrays</div><div>&nbsp; &nbsp; &nbsp; &nbsp; apt.resize(nOriSampleBound);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; aptw.resize(nOriSampleBound);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; DW.resize(PATCH_SZ*PATCH_SZ);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; Mat G_ori = getGaussianKernel( 2*ORI_RADIUS+1, SURF_ORI_SIGMA, CV_32F );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; nOriSamples = 0;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int i = -ORI_RADIUS; i &lt;= ORI_RADIUS; i++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( int j = -ORI_RADIUS; j &lt;= ORI_RADIUS; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( i*i + j*j &lt;= ORI_RADIUS*ORI_RADIUS )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; apt[nOriSamples] = cvPoint(i,j);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aptw[nOriSamples++] = G_ori.at(i+ORI_RADIUS,0) * G_ori.at(j+ORI_RADIUS,0);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; CV_Assert( nOriSamples &lt;= nOriSampleBound );</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; Mat G_desc = getGaussianKernel( PATCH_SZ, SURF_DESC_SIGMA, CV_32F );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( int i = 0; i &lt; PATCH_SZ; i++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( int j = 0; j &lt; PATCH_SZ; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DW[i*PATCH_SZ+j] = G_desc.at(i,0) * G_desc.at(j,0);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; void operator()(const BlockedRange&amp; range) const</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const int NX=2, NY=2;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const int dx_s[NX][5] = &#123;&#123;0, 0, 2, 4, -1&#125;, &#123;2, 0, 4, 4, 1&#125;&#125;;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const int dy_s[NY][5] = &#123;&#123;0, 0, 4, 2, 1&#125;, &#123;0, 2, 4, 4, -1&#125;&#125;;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; // Optimisation is better using nOriSampleBound than nOriSamples for</div><div>&nbsp; &nbsp; &nbsp; &nbsp; // array lengths. &nbsp;Maybe because it is a constant known at compile time</div><div>&nbsp; &nbsp; &nbsp; &nbsp; const int nOriSampleBound =(2*ORI_RADIUS+1)*(2*ORI_RADIUS+1);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; float X[nOriSampleBound], Y[nOriSampleBound], angle[nOriSampleBound];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; uchar PATCH[PATCH_SZ+1][PATCH_SZ+1];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; float DX[PATCH_SZ][PATCH_SZ], DY[PATCH_SZ][PATCH_SZ];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; CvMat matX = cvMat(1, nOriSampleBound, CV_32F, X);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; CvMat matY = cvMat(1, nOriSampleBound, CV_32F, Y);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; CvMat _angle = cvMat(1, nOriSampleBound, CV_32F, angle);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; Mat _patch(PATCH_SZ+1, PATCH_SZ+1, CV_8U, PATCH);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; int dsize = extended ? 128 : 64;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; int k, k1 = range.begin(), k2 = range.end();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; float maxSize = 0;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( k = k1; k &lt; k2; k++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; maxSize = std::max(maxSize, (*keypoints)[k].size);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; int imaxSize = std::max(cvCeil((PATCH_SZ+1)*maxSize*1.2f/9.0f), 1);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; Ptr winbuf = cvCreateMat( 1, imaxSize*imaxSize, CV_8U );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( k = k1; k &lt; k2; k++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int i, j, kk, nangle;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float* vec;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SurfHF dx_t[NX], dy_t[NY];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; KeyPoint&amp; kp = (*keypoints)[k];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float size = kp.size;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Point2f center = kp.pt;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float s = size*1.2f/9.0f;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int grad_wav_size = 2*cvRound( 2*s );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( sum-&gt;rows &lt; grad_wav_size &#124;&#124; sum-&gt;cols &lt; grad_wav_size )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kp.size = -1;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float descriptor_dir = 90.f;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (upright == 0)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; resizeHaarPattern( dx_s, dx_t, NX, 4, grad_wav_size, sum-&gt;cols );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; resizeHaarPattern( dy_s, dy_t, NY, 4, grad_wav_size, sum-&gt;cols );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( kk = 0, nangle = 0; kk &lt; nOriSamples; kk++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int x = cvRound( center.x + apt[kk].x*s - (float)(grad_wav_size-1)/2 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int y = cvRound( center.y + apt[kk].y*s - (float)(grad_wav_size-1)/2 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( y &lt; 0 &#124;&#124; y &gt;= sum-&gt;rows - grad_wav_size &#124;&#124;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x &lt; 0 &#124;&#124; x &gt;= sum-&gt;cols - grad_wav_size )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const int* ptr = &amp;sum-&gt;at(y, x);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float vx = calcHaarPattern( ptr, dx_t, 2 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float vy = calcHaarPattern( ptr, dy_t, 2 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X[nangle] = vx*aptw[kk];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Y[nangle] = vy*aptw[kk];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nangle++;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( nangle == 0 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // No gradient could be sampled because the keypoint is too</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // near too one or more of the sides of the image. As we</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // therefore cannot find a dominant direction, we skip this</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // keypoint and mark it for later deletion from the sequence.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kp.size = -1;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; matX.cols = matY.cols = _angle.cols = nangle;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cvCartToPolar( &amp;matX, &amp;matY, 0, &amp;_angle, 1 );</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float bestx = 0, besty = 0, descriptor_mod = 0;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( i = 0; i &lt; 360; i += SURF_ORI_SEARCH_INC )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float sumx = 0, sumy = 0, temp_mod;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( j = 0; j &lt; nangle; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int d = std::abs(cvRound(angle[j]) - i);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( d &lt; ORI_WIN/2 &#124;&#124; d &gt; 360-ORI_WIN/2 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sumx += X[j];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sumy += Y[j];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_mod = sumx*sumx + sumy*sumy;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( temp_mod &gt; descriptor_mod )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; descriptor_mod = temp_mod;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bestx = sumx;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; besty = sumy;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; descriptor_dir = fastAtan2( -besty, bestx );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kp.angle = descriptor_dir;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( !descriptors &#124;&#124; !descriptors-&gt;data )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int win_size = (int)((PATCH_SZ+1)*s);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CV_Assert( winbuf-&gt;cols &gt;= win_size*win_size );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mat win(win_size, win_size, CV_8U, winbuf-&gt;data.ptr);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( !upright )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; descriptor_dir *= (float)(CV_PI/180);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float sin_dir = std::sin(descriptor_dir);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float cos_dir = std::cos(descriptor_dir);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Nearest neighbour version (faster)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float win_offset = -(float)(win_size-1)/2;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float start_x = center.x + win_offset*cos_dir + win_offset*sin_dir;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float start_y = center.y - win_offset*sin_dir + win_offset*cos_dir;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uchar* WIN = win.data;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( i = 0; i &lt; win_size; i++, start_x += sin_dir, start_y += cos_dir )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float pixel_x = start_x;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float pixel_y = start_y;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( j = 0; j &lt; win_size; j++, pixel_x += cos_dir, pixel_y -= sin_dir )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int x = std::min(std::max(cvRound(pixel_x), 0), img-&gt;cols-1);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int y = std::min(std::max(cvRound(pixel_y), 0), img-&gt;rows-1);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WIN[i*win_size + j] = img-&gt;at(y, x);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // extract rect - slightly optimized version of the code above</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TODO: find faster code, as this is simply an extract rect operation,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; &nbsp; &nbsp; e.g. by using cvGetSubRect, problem is the border processing</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // descriptor_dir == 90 grad</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // sin_dir == 1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // cos_dir == 0</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float win_offset = -(float)(win_size-1)/2;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int start_x = cvRound(center.x + win_offset);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int start_y = cvRound(center.y - win_offset);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uchar* WIN = win.data;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( i = 0; i &lt; win_size; i++, start_x++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int pixel_x = start_x;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int pixel_y = start_y;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( j = 0; j &lt; win_size; j++, pixel_y-- )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int x = MAX( pixel_x, 0 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int y = MAX( pixel_y, 0 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x = MIN( x, img-&gt;cols-1 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y = MIN( y, img-&gt;rows-1 );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WIN[i*win_size + j] = img-&gt;at(y, x);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Scale the window to size PATCH_SZ so each pixel's size is s. This</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // makes calculating the gradients with wavelets of size 2s easy</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; resize(win, _patch, _patch.size(), 0, 0, INTER_AREA);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Calculate gradients in x and y with wavelets of size 2s</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( i = 0; i &lt; PATCH_SZ; i++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( j = 0; j &lt; PATCH_SZ; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float dw = DW[i*PATCH_SZ + j];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float vx = (PATCH[i][j+1] - PATCH[i][j] + PATCH[i+1][j+1] - PATCH[i+1][j])*dw;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float vy = (PATCH[i+1][j] - PATCH[i][j] + PATCH[i+1][j+1] - PATCH[i][j+1])*dw;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DX[i][j] = vx;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DY[i][j] = vy;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Construct the descriptor</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec = descriptors-&gt;ptr(k);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( kk = 0; kk &lt; dsize; kk++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[kk] = 0;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; double square_mag = 0;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( extended )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 128-bin descriptor</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( i = 0; i &lt; 4; i++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( j = 0; j &lt; 4; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(int y = i*5; y &lt; i*5+5; y++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(int x = j*5; x &lt; j*5+5; x++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float tx = DX[y][x], ty = DY[y][x];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( ty &gt;= 0 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[0] += tx;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[1] += (float)fabs(tx);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125; else &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[2] += tx;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[3] += (float)fabs(tx);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( tx &gt;= 0 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[4] += ty;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[5] += (float)fabs(ty);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125; else &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[6] += ty;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[7] += (float)fabs(ty);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( kk = 0; kk &lt; 8; kk++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; square_mag += vec[kk]*vec[kk];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec += 8;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 64-bin descriptor</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( i = 0; i &lt; 4; i++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( j = 0; j &lt; 4; j++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(int y = i*5; y &lt; i*5+5; y++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(int x = j*5; x &lt; j*5+5; x++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float tx = DX[y][x], ty = DY[y][x];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[0] += tx; vec[1] += ty;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[2] += (float)fabs(tx); vec[3] += (float)fabs(ty);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( kk = 0; kk &lt; 4; kk++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; square_mag += vec[kk]*vec[kk];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec+=4;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // unit vector is essential for contrast invariance</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec = descriptors-&gt;ptr(k);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float scale = (float)(1./(sqrt(square_mag) + DBL_EPSILON));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( kk = 0; kk &lt; dsize; kk++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vec[kk] *= scale;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; // Parameters</div><div>&nbsp; &nbsp; const Mat* img;</div><div>&nbsp; &nbsp; const Mat* sum;</div><div>&nbsp; &nbsp; vector* keypoints;</div><div>&nbsp; &nbsp; Mat* descriptors;</div><div>&nbsp; &nbsp; bool extended;</div><div>&nbsp; &nbsp; bool upright;</div><div><br /></div><div>&nbsp; &nbsp; // Pre-calculated values</div><div>&nbsp; &nbsp; int nOriSamples;</div><div>&nbsp; &nbsp; vector apt;</div><div>&nbsp; &nbsp; vector aptw;</div><div>&nbsp; &nbsp; vector DW;</div><div>&#125;;</div><div><br /></div><div><br /></div><div>SURF::SURF()</div><div>&#123;</div><div>&nbsp; &nbsp; //hessianThreshold = 100;</div><div>hessianThreshold = 400;</div><div>&nbsp; &nbsp; extended = true;</div><div>&nbsp; &nbsp; upright = false;</div><div>&nbsp; &nbsp; nOctaves = 4;</div><div>&nbsp; &nbsp; nOctaveLayers = 2;</div><div>&#125;</div><div><br /></div><div>SURF::SURF(double _threshold, int _nOctaves, int _nOctaveLayers, bool _extended, bool _upright)</div><div>&#123;</div><div>&nbsp; &nbsp; hessianThreshold = _threshold;</div><div>&nbsp; &nbsp; extended = _extended;</div><div>&nbsp; &nbsp; upright = _upright;</div><div>&nbsp; &nbsp; nOctaves = _nOctaves;</div><div>&nbsp; &nbsp; nOctaveLayers = _nOctaveLayers;</div><div>&#125;</div><div><br /></div><div>int SURF::descriptorSize() const &#123; return extended ? 128 : 64; &#125;</div><div>int SURF::descriptorType() const &#123; return CV_32F; &#125;</div><div><br /></div><div>void SURF::operator()(InputArray imgarg, InputArray maskarg,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CV_OUT vector&amp; keypoints) const</div><div>&#123;</div><div>&nbsp; &nbsp; (*this)(imgarg, maskarg, keypoints, noArray(), false);</div><div>&#125;</div><div><br /></div><div>void SURF::operator()(InputArray _img, InputArray _mask,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CV_OUT vector&amp; keypoints,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OutputArray _descriptors,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bool useProvidedKeypoints) const</div><div>&#123;</div><div>&nbsp; &nbsp; Mat img = _img.getMat(), mask = _mask.getMat(), mask1, sum, msum;</div><div>&nbsp; &nbsp; bool doDescriptors = _descriptors.needed();</div><div><br /></div><div>&nbsp; &nbsp; CV_Assert(!img.empty() &amp;&amp; img.depth() == CV_8U);</div><div>&nbsp; &nbsp; if( img.channels() &gt; 1 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; cvtColor(img, img, COLOR_BGR2GRAY); &nbsp; //è½¬ç°åº¦</div><div><br /></div><div>&nbsp; &nbsp; CV_Assert(mask.empty() &#124;&#124; (mask.type() == CV_8U &amp;&amp; mask.size() == img.size()));</div><div>&nbsp; &nbsp; CV_Assert(hessianThreshold &gt;= 0);</div><div>&nbsp; &nbsp; CV_Assert(nOctaves &gt; 0);</div><div>&nbsp; &nbsp; CV_Assert(nOctaveLayers &gt; 0);</div><div><br /></div><div>//è®¡ç®—ç§¯åˆ†å›¾ï¼Œå­˜å‚¨åœ¨sumä¸­</div><div>&nbsp; &nbsp; integral(img, sum, CV_32S);</div><div><br /></div><div>&nbsp; &nbsp; // Compute keypoints only if we are not asked for evaluating the descriptors are some given locations:</div><div>&nbsp; &nbsp; if( !useProvidedKeypoints )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if( !mask.empty() )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cv::min(mask, 1, mask1);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; integral(mask1, msum, CV_32S);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; fastHessianDetector( sum, msum, keypoints, nOctaves, nOctaveLayers, (float)hessianThreshold );</div><div>&nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; int i, j, N = (int)keypoints.size();</div><div>&nbsp; &nbsp; if( N &gt; 0 )</div><div>&nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; Mat descriptors;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; bool _1d = false;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; int dcols = extended ? 128 : 64;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; size_t dsize = dcols*sizeof(float);</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; if( doDescriptors )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _1d = _descriptors.kind() == _InputArray::STD_VECTOR &amp;&amp; _descriptors.type() == CV_32F;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( _1d )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _descriptors.create(N*dcols, 1, CV_32F);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; descriptors = _descriptors.getMat().reshape(1, N);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _descriptors.create(N, dcols, CV_32F);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; descriptors = _descriptors.getMat();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; // we call SURFInvoker in any case, even if we do not need descriptors,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; // since it computes orientation of each feature.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; parallel_for(BlockedRange(0, N), SURFInvoker(img, sum, keypoints, descriptors, extended, upright) );</div><div><br /></div><div>&nbsp; &nbsp; &nbsp; &nbsp; // remove keypoints that were marked for deletion</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for( i = j = 0; i &lt; N; i++ )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( keypoints[i].size &gt; 0 )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( i &gt; j )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; keypoints[j] = keypoints[i];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( doDescriptors )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; memcpy( descriptors.ptr(j), descriptors.ptr(i), dsize);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; j++;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if( N &gt; j )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; N = j;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; keypoints.resize(N);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( doDescriptors )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mat d = descriptors.rowRange(0, N);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( _1d )</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; d = d.reshape(1, N*dcols);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; d.copyTo(_descriptors);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &#125;</div><div>&nbsp; &nbsp; &#125;</div><div>&#125;</div><div><br /></div><div><br /></div><div>void SURF::detectImpl( const Mat&amp; image, vector&amp; keypoints, const Mat&amp; mask) const</div><div>&#123;</div><div>&nbsp; &nbsp; (*this)(image, mask, keypoints, noArray(), false);</div><div>&#125;</div><div><br /></div><div>void SURF::computeImpl( const Mat&amp; image, vector&amp; keypoints, Mat&amp; descriptors) const</div><div>&#123;</div><div>&nbsp; &nbsp; (*this)(image, Mat(), keypoints, descriptors, true);</div><div>&#125;</div><div><br /></div><div>&#125;</div> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">æ—¥å¿—æ ‡é¢˜</option><option value="2">æ—¥å¿—å…¨æ–‡</option><option value="3">è¯„è®ºå¼•ç”¨</option><option value="4">æ‰€æœ‰ç•™è¨€</option></select>
	<input value="æœç´¢" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>åˆ†ç±»</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="ç¡¬ä»¶">ç¡¬ä»¶</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="æ¨¡ç”µä¸ç”µè·¯">æ¨¡ç”µä¸ç”µè·¯</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="ç¡¬ä»¶çŸ¥è¯†">ç¡¬ä»¶çŸ¥è¯†</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3Dæ‰“å°">3Dæ‰“å°</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="èµ„è®¯">èµ„è®¯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="æ ‘è“æ´¾">æ ‘è“æ´¾</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="è½¯ä»¶">è½¯ä»¶</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lispã€Erlang">Erlangã€Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="æµ‹è¯•">æµ‹è¯•</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="æºç åˆ†æ">æºç åˆ†æ</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="ç¼–è¯‘åŸç†">ç¼–è¯‘åŸç†</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="é»‘å®¢">é»‘å®¢</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPUç¼–ç¨‹">GPUç¼–ç¨‹</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="éŸ³è§†é¢‘ä¸æµåª’ä½“">éŸ³è§†é¢‘ä¸æµåª’ä½“</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="æ¸¸æˆ">æ¸¸æˆ</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="ç¼–ç¨‹æ‚é¡¹">ç¼–ç¨‹æ‚é¡¹</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="ç½‘ç»œå®‰å…¨">ç½‘ç»œå®‰å…¨</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="è½¯ä»¶å·¥ç¨‹">è½¯ä»¶å·¥ç¨‹</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="å¹¶è¡Œç¼–ç¨‹">å¹¶è¡Œç¼–ç¨‹</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="å¤§æ•°æ®">å¤§æ•°æ®</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="ç†è®º">ç†è®º</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="æ•°å­¦">æ•°å­¦</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="ç‰©ç†">ç‰©ç†</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="ç®—æ³•">ç®—æ³•</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="éŸ³é¢‘å¤„ç†">éŸ³é¢‘å¤„ç†</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&æ¨¡å¼è¯†åˆ«">AR&amp;AI&amp;æ¨¡å¼è¯†åˆ«</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="å·¥å…·">å·¥å…·</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="æ–°é²œç©æ„">æ–°é²œç©æ„</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="è¡Œä¸šåº”ç”¨">è¡Œä¸šåº”ç”¨</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="èµ„è®¯">èµ„è®¯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="ç½‘æ–‡">ç½‘æ–‡</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="ç‚¹å­æ­£ä¼ ">ç‚¹å­æ­£ä¼ </a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="ç†è´¢">ç†è´¢</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="æ”¶é›†">æ”¶é›†</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="åˆ›ä¸š">åˆ›ä¸š</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="å…±äº«è½¯ä»¶">å…±äº«è½¯ä»¶</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="åˆ›æ„">åˆ›æ„</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="æ˜Ÿè±¡å‘½ç†">æ˜Ÿè±¡å‘½ç†</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="æ‚é¡¹">æ‚é¡¹</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="è®°å½•">è®°å½•</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="å¿ƒçµé¸¡æ±¤">å¿ƒçµé¸¡æ±¤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="æ–‡å­¦">æ–‡å­¦</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="å…¶å®ƒå·¥ç¨‹èµ„æ–™">å…¶å®ƒå·¥ç¨‹èµ„æ–™</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="å“²å­¦">å“²å­¦</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="æœ‰è¨€">æœ‰è¨€</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="å¾®è¯­å½•">å¾®è¯­å½•</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="ç½®é¡¶">ç½®é¡¶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="åŠ±å¿—">åŠ±å¿—</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="èµ„æºç®¡ç†">èµ„æºç®¡ç†</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="è¿½è¸ªè¿™ä¸ªåˆ†ç±»çš„RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>æ—¥å†</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">æ—¥</td>
	<td class="calendar-weekday-cell">ä¸€</td>
	<td class="calendar-weekday-cell">äºŒ</td>
	<td class="calendar-weekday-cell">ä¸‰</td>
	<td class="calendar-weekday-cell">å››</td>
	<td class="calendar-weekday-cell">äº”</td>
	<td class="calendar-weekday-cell">å…­</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>ç»Ÿè®¡</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
è®¿é—®æ¬¡æ•° 133640<br/>ä»Šæ—¥è®¿é—® 1<br/>æ—¥å¿—æ•°é‡ 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">ç•™è¨€æ•°é‡ 2</a><br/>åœ¨çº¿äººæ•° 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>æœ€æ–°æ—¥å¿—</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysqlä¼˜åŒ–ä¹‹ç´¢å¼•ä¼˜åŒ–">mysqlä¼˜åŒ–ä¹‹ç´¢å¼•ä¼˜åŒ–</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit ä¼˜åŒ–ï¼Œç™¾ä¸‡è‡³åƒä¸‡çº§å¿«é€Ÿåˆ†é¡µï¼Œ--å¤åˆç´¢å¼•çš„å¼•ç”¨å¹¶åº”ç”¨äºè½»é‡çº§æ¡†æ¶&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sqlè¯­å¥æ‰§è¡Œæ—¶é—´æŸ¥è¯¢">mysql sqlè¯­å¥æ‰§...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHashæ ¸å¿ƒåŸç†è§£æ">GeoHashæ ¸å¿ƒåŸç†è§£...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="å¦‚ä½•å®ç°æŒ‰è·ç¦»æ’åºã€èŒƒå›´æŸ¥æ‰¾">å¦‚ä½•å®ç°æŒ‰è·ç¦»æ’åºã€èŒƒå›´...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>é“¾æ¥</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>åä¼š</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraphä¸­å›½ - ">siggraphä¸­å›½</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="ç‹¬ç«‹æ¸¸æˆèŠ‚ - ">ç‹¬ç«‹æ¸¸æˆèŠ‚</a></li><li><strong>é¡¹ç›®</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="æœ‰é±¼ - ">æœ‰é±¼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="è½¯ä»¶é¡¹ç›®äº¤æ˜“ç½‘ - ">è½¯ä»¶é¡¹ç›®äº¤æ˜“ç½‘</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="ç•¥æ™“ - ">ç•¥æ™“</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="é›…ç‰¹å£«å¤–åŒ…ç½‘  - ">é›…ç‰¹å£«å¤–åŒ…ç½‘ </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="è½¯è¡Œå¤©ä¸‹  - ">è½¯è¡Œå¤©ä¸‹ </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="ä¸­å›½å…±äº«è½¯ä»¶æ³¨å†Œä¸­å¿ƒ - ">ä¸­å›½å…±äº«è½¯ä»¶æ³¨å†Œä¸­å¿ƒ</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="è½¯ä»¶å•†åŠ¡ç½‘ - ">è½¯ä»¶å•†åŠ¡ç½‘</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="æ ‘è“æ´¾å•†åº— - ">æ ‘è“æ´¾å•†åº—</a></li><li><strong>æ‚é¡¹</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="è‹±ç‰¹å°”å‡ºç‰ˆç¤¾ - ">è‹±ç‰¹å°”å‡ºç‰ˆç¤¾</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="å°ä¼—è½¯ä»¶ - ">å°ä¼—è½¯ä»¶</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoeboxå·¥å…· - ">shoeboxå·¥å…·</a></li><li><strong>ä¸ªäºº</strong></li><li><strong>é˜…è¯»</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="èŠ±ç“£ç½‘ - ">èŠ±ç“£ç½‘</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="è‹±è¯­å£è¯­å­¦ä¹ ç½‘ - ">è‹±è¯­å£è¯­å­¦ä¹ ç½‘</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>åœ¨çº¿æ–‡æ¡£</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flexç§»åŠ¨å¼€å‘ - ">Flexç§»åŠ¨å¼€å‘</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobeå¼€å‘è€…ä¸­å¿ƒ - ">Adobeå¼€å‘è€…ä¸­å¿ƒ</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0å‚è€ƒ - ">ActionScript3.0å‚è€ƒ</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="çš®çš®ä¹¦å±‹ - ">çš®çš®ä¹¦å±‹</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="å››å¶ç§‘å­¦ç™¾ç§‘ - ">å››å¶ç§‘å­¦ç™¾ç§‘</a></li><li><strong>ä¸´æ—¶</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="ä¼˜è®¾ - ">ä¼˜è®¾</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>å…¶ä»–</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">ç™»å…¥</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">æ³¨å†Œ</a><br/>RSSï¼š <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">æ—¥å¿—</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">è¯„è®º</a><br/>ç¼–ç ï¼šUTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 104 ms, 6 Queries.</span>";
//]]>
</script></body>
</html>