<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>网格沉思-游戏中的网格系统 - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="read.php-7355.htm" tppabs="http://i.renjihe.com/blog/read.php?7355" title="上一篇 Amit&#039;s "><img src="toolbar_previous.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_previous.gif" alt='' border='0'/>Amit&#039;s </a></div>
	<div class="next-article"><a href="read.php-7357.htm" tppabs="http://i.renjihe.com/blog/read.php?7357" title="下一篇 六角网格大观"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>六角网格大观</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jun</span>
	<span class="textbox-calendar-day">29</span>
	</div>
	<div class="textbox-title">
		<h4>
		网格沉思-游戏中的网格系统 <span id="starid7356"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 21:08 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7356.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7356#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7356");'>引用(0)</a> , <a href="read.php-7356.htm" tppabs="http://i.renjihe.com/blog/read.php?7356">阅读(1)</a> ,  Via 本站原创 <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="字体大小" border='0'/> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?569  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?569'" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_7356"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="订阅本文" border='0'/></a> <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?479  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?479'" tppabs="http://i.renjihe.com/blog/read.php?save_7356"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="保存本文为文本文档" border='0'/></a></span>
		</div>
	</div>
	<div id="tb7356" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	http://www-cs-students.stanford.edu/~amitp/gameprog.html<br />http://theory.stanford.edu/~amitp/GameProgramming/<br /><br />http://www.indienova.com/indie-game-development/game-programming-grids/<br /><br /><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 0px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">介绍</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">本文原作者 Amit Patel 撰写过一系列有关游戏算法的可交互教程。本文为其六角网格系列中的一篇。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">引言</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">用网格系统来呈现与区域相关的要素的例子在电子游戏中不胜枚举。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">具体来说：譬如有文明系列与魔兽争霸系列中的<span style="box-sizing: border-box; font-weight: 700">地图</span>；撞球、台球和德州扑克中的<span style="box-sizing: border-box; font-weight: 700">游戏界面</span>；一些球类游戏中的<span style="box-sizing: border-box; font-weight: 700">交互范围</span>；象棋，大富翁和四联消除游戏中的<span style="box-sizing: border-box; font-weight: 700">游戏面板</span>，抑或俄罗斯方块用方格表示的<span style="box-sizing: border-box; font-weight: 700">抽象空间</span>。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">这篇文章里，我将与大家分享一些关于网格系统的思考：我将尽量避免谈及实现细节（这样就可以少来点不易理解的代码），着力表述概念与算法。我曾在策略类游戏和模拟类游戏中实现过基于网格的地图系统，尽管网格系统能够在游戏的诸多方面大显神威，但本文中只涉及我感兴趣的那一部分内容。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">常见的网格系统</h4><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">方格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9108" src="read-1.php-461" tppabs="http://m.indienova.com/farm/2016/04/square-grid.png" border="0" alt="square-grid" width="181" height="181" /></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图1. 方形网格</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">正方形网格自然最为常见。它直观易用，也非常适合显示在计算机屏幕上。当然，使用它最大的好处还在于简单：用轴正交的&nbsp;(x, y)&nbsp;坐标系就能表示出每个网格的位置。即使在游戏画面中，网格以等轴斜视的形式呈现，也还是使用相同的坐标轴系统。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">六角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9109" src="read-1.php-460" tppabs="http://m.indienova.com/farm/2016/04/hexagon-grid.png" border="0" alt="hexagon-grid" width="163" height="261" /></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图2. 六角网格</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">有时我们也会使用六角网格（尤其是某些桌面游戏和策略类游戏）。相比正方形网格它有一个明显的优势，由于六角网格对角方向与邻边方向的格子等距，因此不会造成各方向的移动间出现距离偏差。此外，六角网格的样式优雅美观，自然界中的蜂巢就是六角网格的形状。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">三角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9110" src="read-1.php-442" tppabs="http://m.indienova.com/farm/2016/04/triangle-grid.png" border="0" alt="triangle-grid" width="313" height="181" /></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图3. 三角网格</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">3d建模中会用到三角网格，但很少有人将它们用于游戏地图：最主要的原因是，这样的网格系统边很多，但每一格面积却很少：而格子过小意味着难以完整地呈现游戏素材。3d建模则主要使用三角网格，这是由于三角网格的每一格能保证处于同一平面中，而正方形网格与六角网格可能会扭曲成自然界不可能出现的样子。为方便计算，本文中涉及到三角网格的数学演绎都默认三角形以某条中垂线竖直的方式放置，对于某条中垂线水平的情况则同理可证。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">网格的组成要素</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9111" src="read-1.php-339" tppabs="http://m.indienova.com/farm/2016/04/grid-parts.png" border="0" alt="grid-parts" width="299" height="173" /></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图4. 网格的要素</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">网格有三大组成要素：面，边与顶点。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">面是由边围成的闭合平面；边是以顶为端点的线段；顶点则就是零维的点。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">具体到游戏，则往往只侧重于其中的某一方面：一些西方的游戏，以国际象棋和国际跳棋为例，使用了网格中的面，而一些东方的游戏，例如围棋和跳棋，则使用网格中的顶。而某些游戏，比方说俄罗斯轮盘赌博，则使用了所有这三种要素。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">面，边与顶也能呈现在多边形地图中。即使没有网格坐标系统，也能对其运用相关的算法：</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9112" src="read-1.php-250" tppabs="http://m.indienova.com/farm/2016/04/voronoi-grid-parts.png" border="0" alt="voronoi-grid-parts" width="250" height="237" /></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图4b. 多边形网格依然包含三大要素</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">用节点表示每个面，节点连线表示邻边，我们就能将网格与多边形地图转换为图形拓扑结构。这样一来，一些适用于图的算法（例如最小路径算法）就可以用于网格地图了。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">游戏中的应用</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">电子游戏对这三种要素都有所应用，其中面的应用最为普遍。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">面常被用于表示建筑物和地形地块（草地，沙漠，沙砾等等），也经常被用于表示玩家所有的领地范围；<br />边常用来表示领地边境，有时也会用在一些模拟水流，人流和货物运输的算法中；<br />顶常用来表示海拔高度和水深等信息。<br />道路与铁路网络有时会使用面来实现（以模拟人生系列游戏为例），有时也会考虑使用边（例如我曾实现过的这个机车系统：http://theory.stanford.edu/~amitp/game-programming/road-applet/roads.html）。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">相关计算</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">我们来计算一下需要多少面，边与顶点才能构成网格。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">基本的思路是观察相邻的要素，考虑共用的情况。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">先来计算相对简单的三角网格（参见图4）相关数据。三角形有三个边，因此，假如不考虑共用的情况，边的数量会是面的三倍，但每条边都会由两个面分享，所以每有三个边就有两个面；同理，三角形的顶点由六个面分享，所以每2个顶点就对应一个面。这些关系在设计坐标系统时非常重要。正方形网格中一个面对应一个顶点。六角网格中顶点则比面多。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">相关的数据参见下表：</p><div class="col_one_fifth nobottommargin" style="box-sizing: border-box; margin-bottom: 50px; width: 134.391px; position: relative; margin-right: 32px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">&nbsp;</div><div class="col_three_fifth nobottommargin" style="box-sizing: border-box; margin-bottom: 50px; width: 467.188px; position: relative; margin-right: 32px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><table border="0" class="table table-bordered" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-bottom: 20px; width: 467px; max-width: 100%; border: 1px solid #dddddd; background-color: transparent"><thead><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">形状</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">面(F)</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">边(E)</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">顶点(V)</th></tr></thead><tbody><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">方形网格</th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">2</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">六角网格</th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">3</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">2</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">三角网格</th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">2</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">3</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1</td></tr></tbody></table></div><div class="col_one_fifth col_last nobottommargin" style="box-sizing: border-box; margin-bottom: 50px; width: 134.391px; position: relative; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4">&nbsp;</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">为方便起见，我们用 FEV 来表示这组数据。方形网格的 FEV 为 1，2，1；六角网格为 1，3，2；三角网格则为 2，3，1。注意，六角网格与三角网格数据很类似，只是面与顶点的数据是反过来的。这是因为六角网格与三角网格存在对耦关系：如果你在三角网格每个面的中心增加一个顶点就能得到一个六角网格，反之亦然。类似的，我们会发现方形网格与自身对耦。如果在方形网格每个面的中心增加顶点会得到另一个方形网格。相关知识可以参见：<a style="box-sizing: border-box; color: #0088cc; text-decoration: none !important; background-color: transparent" href="javascript:if(confirm('http://en.wikipedia.org/wiki/List_of_uniform_planar_tilingshttp://en.wikipedia.org/wiki/feed.php?go=entry_7524  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://en.wikipedia.org/wiki/List_of_uniform_planar_tilingshttp://en.wikipedia.org/wiki/feed.php?go=entry_7524'" tppabs="http://en.wikipedia.org/wiki/List_of_uniform_planar_tilingshttp://en.wikipedia.org/wiki/List_of_uniform_planar_tilings" target="_blank">http://en.wikipedia.org/wiki/List_of_uniform_planar_tilings</a></p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">六角网格与三角网格的衍生方法</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">可以使用方形网格来衍生六角网格或者三角网格。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">你可以先尝试一下 demo：<br /></p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">方形网格的坐标系统非常直观，而下面的方法则将演示如何设计六角网格与三角网格的坐标轴。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">用方形网格衍生六角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">将方形网格转换为六角网格需要历经两个步骤：第一步，使方形网格竖直边长度加倍，然后偏移某些列（当然行也可以）；第二步，划分方形网格的边，并将格子变形成六边形。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="col_half" style="box-sizing: border-box; width: 384px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9114" src="read-1.php-save_7524" tppabs="http://m.indienova.com/farm/2016/04/square-to-hexagon-1.png" border="0" alt="square-to-hexagon-1" width="181" height="191" /></div><div class="col_half col_last" style="box-sizing: border-box; width: 384px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9115" src="7178f37ejw1emyk4vz60oj20930793z3-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/square-to-hexagon-2.png" border="0" alt="square-to-hexagon-2" width="157" height="261" /></div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图5. 方形网格的偏移方法</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">这里给出两种偏移列的方法(参见图5)：比如我们可以用代码来判别列数的奇偶性，遇偶数列就将其向上偏移半格。更简单的方法是让每一列都相比前一列向上偏移半格，这样坐标的计算方法能够相对保持一致，但地图形状会显得没有那么四四方方，略有不便，尽管如此，在本文中我还是选择使用这套方案。它更容易实现，而且也能用于三角网格中（未来也许我也会撰写关于第一种方案实现的教程）。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="col_half" style="box-sizing: border-box; width: 384px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9118" src="7178f37ejw1emyk4wbz4bj206i06lt9b-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/square-to-hexagon-3.png" border="0" alt="square-to-hexagon-3" width="160" height="261" /></div><div class="col_half col_last" style="box-sizing: border-box; width: 384px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9109" src="read-1.php-460" tppabs="http://m.indienova.com/farm/2016/04/hexagon-grid.png" border="0" alt="hexagon-grid" width="163" height="261" /></div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="text-center" style="box-sizing: border-box; text-align: center; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图6. 方形网格变形为六角网格</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">接着，我们将原方形网格竖直方形的边都一分为二，并以分割点为顶点弯折它们。当角度由180度达到120度时我们会得到一个正六边形的网格。这种分割方式会增加两条边（平均到每个面则多了一条边）与两个点（平均到每个面则多了一个点），因此，FEV 由 1，2，1 变为 1，3，2。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">用方形网格衍生三角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="col_half" style="box-sizing: border-box; width: 384px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9119" src="7178f37ejw1emyk4wmjhsj208z065aad-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/rhombus-grid-small.png" border="0" alt="rhombus-grid-small" width="174" height="101" /></div><div class="col_half col_last" style="box-sizing: border-box; width: 384px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9120" src="7178f37ejw1emyk4wyfg1j206i06lt9b-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/triangle-grid-small.png" border="0" alt="triangle-grid-small" width="174" height="101" /></div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图7. 方形网格转换为三角网格</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">将方形网格转换为三角网格也需经历两步：首先，&ldquo;挤压&rdquo;方形网格让每个格子变为菱形。接着，将菱形一分为二得到两个三角形，分割面意味着面数会加倍，边数平均到每个面则增加了一条，顶点数没有变化。因此，FEV 由 1，2，1 变为 2，3，1。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">坐标轴系统</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">我们需要用坐标来表示网格的各个要素。我先使用简单的数字坐标来表示网格的轴，而 FEV 则能告诉我们有多少网格要素会使用相同的坐标表示。如果数字坐标数字完全相同，我会在后面加上代表方向的字母（W：西；E：东；N：北；S：南；L：左；R：右）作为补充信息。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">方形网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9121" src="7178f37ejw1emyk4xfxhfj206006s0t6-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/square-grid-face-coordinates.png" border="0" alt="square-grid-face-coordinates" width="211" height="211" /></div><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9122" src="7178f37ejw1emyk4xsu0sj208h06nt94-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/square-grid-edge-coordinates.png" border="0" alt="square-grid-edge-coordinates" width="211" height="211" /></div><div class="col_one_third col_last" style="box-sizing: border-box; width: 245.031px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9123" src="7178f37ejw1emyk4yfexpj20hj04tmy1-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/square-grid-vertex-coordinates.png" border="0" alt="square-grid-vertex-coordinates" width="211" height="211" /></div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图8. 方形网格的坐标系统：面，边与顶点</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">方形网格非常简单，它的 FEV 为 1，2，1，这意味着只有在表示边时才会用到作为补充信息的字母。对于每一个面，我们可以用面的某个顶点坐标来表示它的位置，我选用了西南角的顶点坐标作为面坐标：读者可以对比面坐标图与顶点坐标图来查看它们的关系。而对于每一个边，我们都可以指定用它某一侧的面的坐标来表示它的位置，我选用了西面和南面的边，并分别用字母 W 和字母 S 表示坐标的补充信息：读者也可以对比面坐标图和边坐标图来查看它们的关系。这样下来，有一个面，两条边和一个顶点使用同一坐标数字，恰好对应方形网格的要素向量 FEV。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">六角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9125" src="Geohash" tppabs="http://m.indienova.com/farm/2016/04/hexagon-grid-face-coordinates.png" border="0" alt="hexagon-grid-face-coordinates" width="203" height="281" /></div><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9126" src="7178f37ejw1emyk4yr021j20dc09omy4-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/hexagon-grid-edge-coordinates.png" border="0" alt="hexagon-grid-edge-coordinates" width="203" height="281" /></div><div class="col_one_third col_last" style="box-sizing: border-box; width: 245.031px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9127" src="7178f37ejw1emyk4z1nk0j20ip07z0ta-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/hexagon-grid-vertex-coordinates.png" border="0" alt="hexagon-grid-vertex-coordinates" width="203" height="281" /></div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图9. 六角网格的坐标系统：面，边与顶点</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">我们的六角网格是基于方形网格创建的。因此六角网格的面坐标同转换前的方形网格保持一致。对比图8与图9你能够看出转换前后的面坐标关系。我们选取三条边与两个顶点与面分享一样的坐标。我选取的是 NW，N，NE 三条边，并分别用 W，N，E 作为坐标补充信息。至于顶点，则使用 L,R 来区分是面左边的顶点还是面右侧的顶点。其他选择方案当然也是可行的。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">三角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9128" src="7178f37ejw1emyk4zds00j20e908igmv-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/triangle-grid-face-coordinates.png" border="0" alt="triangle-grid-face-coordinates" width="365" height="211" /></div><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9129" src="7178f37ejw1emyk4zpab1j205l062gm1-1.jpg" tppabs="http://m.indienova.com/farm/2016/04/triangle-grid-edge-coordinates.png" border="0" alt="triangle-grid-edge-coordinates" width="365" height="211" /></div><div class="col_one_third col_last" style="box-sizing: border-box; width: 245.031px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9130" src="feed-1.php-go=entry_7523" tppabs="http://m.indienova.com/farm/2016/04/triangle-grid-vertex-coordinates.png" border="0" alt="triangle-grid-vertex-coordinates" width="365" height="211" /></div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图10. 三角网格的坐标系统：面，边与顶点</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">我们的三角网格也是基于方形网格创建的，并且我们把方形网格的面划分为了两个三角网格的面。这意味着我们需要在面坐标后加上 L，R 作为补充信息区别左右两个面。边的坐标与方形网格中保持一致，新增的边则采用左下角的顶点坐标，并用字母 E 作为补充信息。由于三角网格并没有新增顶点，所以顶点坐标与方形网格保持一致即可。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">网格要素之间的关系</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">三大网格要素两两之间可以建立9组关系。还有许多其他的关系可以建立，但本文中就只研究这9组关系。我不是很熟悉该用什么标准的术语，因此这里可能杜撰了一些名词(译者按，此处的中译也使用的是杜撰的名词，如果有更合适的称呼，烦请读者告知，不胜感激)。</p><table border="0" class="table table-bordered" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-bottom: 20px; width: 800px; max-width: 100%; border: 1px solid #dddddd; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><thead><tr style="box-sizing: border-box"><th rowspan="2" style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">网格要素A(黑色)</th><th colspan="3" style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">网格要素B(红色)</th></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: #dddddd">面(Face)</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: #dddddd">边(Edge)</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: #dddddd">顶点(Vertex)</th></tr></thead><tbody><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">面(Face)</th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">接壤(Neighbors):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="read-1.php-save_7523" tppabs="http://m.indienova.com/farm/2016/04/square-rel-face-face.png" border="0" alt="square-rel-face-face" /></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">围边(Borders):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="14" tppabs="http://m.indienova.com/farm/2016/04/square-rel-face-edge.png" border="0" alt="square-rel-face-edge" /></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">围角(Corners):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="spatial4j" tppabs="http://m.indienova.com/farm/2016/04/square-rel-face-vertex.png" border="0" alt="square-rel-face-vertex" /></td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">边(Edge)</th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">连接(Joins):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="3310455.html" tppabs="http://m.indienova.com/farm/2016/04/square-rel-edge-face.png" border="0" alt="square-rel-edge-face" /></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">连续(Continues):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="20160715101657127-1" tppabs="http://m.indienova.com/farm/2016/04/square-rel-edge-edge.png" border="0" alt="square-rel-edge-edge" /></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">端点(Endpoints):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="geohash-java" tppabs="http://m.indienova.com/farm/2016/04/square-rel-edge-vertex.png" border="0" alt="square-rel-edge-vertex" /></td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">顶点(Vertex)</th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">相聚(Touches):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="7243540" tppabs="http://m.indienova.com/farm/2016/04/square-rel-vertex-face.png" border="0" alt="square-rel-vertex-face" /></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">共焦(Protrudes):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="depth-study-of-Symfony2" tppabs="http://m.indienova.com/farm/2016/04/square-rel-vertex-edge.png" border="0" alt="square-rel-vertex-edge" /></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">邻点(Adjacent):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="lucene-distance.html" tppabs="http://m.indienova.com/farm/2016/04/square-rel-vertex-vertex.png" border="0" alt="square-rel-vertex-vertex" /></td></tr></tbody></table><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">在游戏设计中，你实际使用的可能是上述变种之一。比方说，<span style="box-sizing: border-box; font-weight: 700">接壤</span>与<span style="box-sizing: border-box; font-weight: 700">邻点</span>这两种关系也可能会将对角线包含在内。而<span style="box-sizing: border-box; font-weight: 700">连续</span>关系也可能涵盖两个边不在一条直线上的情况。我有选择性地列举了最简单的关系。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">算法</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">如下表所示，根据我列出的这9种关系，每一种都能够写出一组由某一要素坐标向相邻要素坐标转换的算法关系(A -&gt; B), 我简单地将其表示为了坐标映射关系，方便读者选择用自己喜欢的编程语言来实现它们。由于在某些形状的格子中，被转换的要素可能处于不同的位置（即有多种 A 的情况），因此我将所有可能的类型都列举了出来。例如，三角格子会有居左(L)或者(居右)两种情况：</p><table border="0" class="table table-bordered" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-bottom: 20px; width: 800px; max-width: 100%; border: 1px solid #dddddd; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><thead><tr style="box-sizing: border-box"><th rowspan="2" style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">关系</th><th colspan="3" style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">形状</th></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: #dddddd">方格</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: #dddddd">六角</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: #dddddd">三角</th></tr></thead><tbody><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">接壤(Neighbors):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="read-1.php-save_7523" tppabs="http://m.indienova.com/farm/2016/04/square-rel-face-face.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v+1) (u+1,v) (u,v-1) (u-1,v)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v+1) (u+1,v) (u+1,v-1) (u,v-1) (u-1,v) (u-1,v+1)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,L) &rarr; (u,v,R) (u,v-1,R) (u-1,v,R)&nbsp;<br /><br />(u,v,R) &rarr; (u,v+1,L) (u+1,v,L) (u,v,L)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">围边(Borders):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="14" tppabs="http://m.indienova.com/farm/2016/04/square-rel-face-edge.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v+1,S) (u+1,v,W) (u,v,S) (u,v,W)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v,N) (u,v,E) (u+1,v-1,W) (u,v-1,N) (u-1,v,E) (u,v,W)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,L) &rarr; (u,v,E) (u,v,S) (u,v,W)&nbsp;<br /><br />(u,v,R) &rarr; (u,v+1,S) (u+1,v,W) (u,v,E)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">围角(Corners):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="spatial4j" tppabs="http://m.indienova.com/farm/2016/04/square-rel-face-vertex.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u+1,v+1) (u+1,v) (u,v) (u,v+1)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u+1,v,L) (u,v,R) (u+1,v-1,L) (u-1,v,R) (u,v,L) (u-1,v+1,R)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,L) &rarr; (u,v+1) (u+1,v) (u,v)&nbsp;<br /><br />(u,v,R) &rarr; (u+1,v+1) (u+1,v) (u,v+1)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">连接(Joins):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="3310455.html" tppabs="http://m.indienova.com/farm/2016/04/square-rel-edge-face.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,W) &rarr; (u,v) (u-1,v)&nbsp;<br /><br />(u,v,S) &rarr; (u,v) (u,v-1)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,N) &rarr; (u,v+1) (u,v)&nbsp;<br /><br />(u,v,E) &rarr; (u+1,v) (u,v)&nbsp;<br /><br />(u,v,W) &rarr; (u,v) (u-1,v+1)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,S) &rarr; (u,v,L) (u,v-1,R)&nbsp;<br /><br />(u,v,E) &rarr; (u,v,R) (u,v,L)&nbsp;<br /><br />(u,v,W) &rarr; (u,v,L) (u-1,v,R)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">连续(Continues):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="20160715101657127-1" tppabs="http://m.indienova.com/farm/2016/04/square-rel-edge-edge.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,W) &rarr; (u,v+1,W) (u,v-1,W)&nbsp;<br /><br />(u,v,S) &rarr; (u+1,v,S) (u-1,v,S)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">六角网格中没有边是连续关系</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,W) &rarr; (u,v+1,W) (u,v-1,W)&nbsp;<br /><br />(u,v,E) &rarr; (u+1,v-1,E) (u-1,v+1,E)&nbsp;<br /><br />(u,v,S) &rarr; (u+1,v,S) (u-1,v,S)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">端点(Endpoints):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="geohash-java" tppabs="http://m.indienova.com/farm/2016/04/square-rel-edge-vertex.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,W) &rarr; (u,v+1) (u,v)&nbsp;<br /><br />(u,v,S) &rarr; (u+1,v) (u,v)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,N) &rarr; (u+1,v,L) (u-1,v+1,R)&nbsp;<br /><br />(u,v,E) &rarr; (u,v,R) (u+1,v,L)&nbsp;<br /><br />(u,v,W) &rarr; (u-1,v+1,R) (u,v,L)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,W) &rarr; (u,v+1) (u,v)&nbsp;<br /><br />(u,v,E) &rarr; (u+1,v) (u,v+1)&nbsp;<br /><br />(u,v,S) &rarr; (u+1,v) (u,v)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">相聚(Touches):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="7243540" tppabs="http://m.indienova.com/farm/2016/04/square-rel-vertex-face.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v) (u,v-1) (u-1,v-1) (u-1,v)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,L) &rarr; (u,v) (u-1,v) (u-1,v+1)&nbsp;<br /><br />(u,v,R) &rarr; (u+1,v) (u+1,v-1) (u,v)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u-1,v,R) (u,v,L) (u,v-1,R) (u,v-1,L) (u-1,v-1,R) (u-1,v,L)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">共焦(Protrudes):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="depth-study-of-Symfony2" tppabs="http://m.indienova.com/farm/2016/04/square-rel-vertex-edge.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v,W) (u,v,S) (u,v-1,W) (u-1,v,S)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,L) &rarr; (u,v,W) (u-1,v,E) (u-1,v,N)&nbsp;<br /><br />(u,v,R) &rarr; (u+1,v-1,N) (u+1,v-1,W) (u,v,E)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v,W) (u,v,S) (u,v-1,E) (u,v-1,W) (u-1,v,S) (u-1,v,E)</td></tr><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">邻点(Adjacent):<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; height: auto" src="lucene-distance.html" tppabs="http://m.indienova.com/farm/2016/04/square-rel-vertex-vertex.png" border="0" /></th><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v+1) (u+1,v) (u,v-1) (u-1,v)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v,L) &rarr; (u-1,v+1,R) (u-1,v,R) (u-2,v+1,R)&nbsp;<br /><br />(u,v,R) &rarr; (u+2,v-1,L) (u+1,v-1,L) (u+1,v,L)</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(u,v) &rarr; (u,v+1) (u+1,v) (u+1,v-1) (u,v-1) (u-1,v) (u-1,v+1)</td></tr></tbody></table><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">关系对</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">(*本节内容允许跳过)</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">上面列出了网格要素关系自身之间也存在关系。例如，由面到边的围边(borders)关系与由边到面的连接(joins)关系互为逆反。假如边B是面A的一个相邻边，那么面A也是边B的一个相邻面。因此，这9种关系实则可以精简为6种关系对。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">如果你为这些坐标建立了数据库，则可以直接表示出这些关系对。比如，在1X2的方形网格中，面边坐标关系对如下所示：</p><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">&nbsp;</div><div class="col_one_third" style="box-sizing: border-box; width: 245.031px; position: relative; margin-right: 32px; margin-bottom: 50px; float: left; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><table border="0" class="table table-bordered" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-bottom: 20px; width: 245px; max-width: 100%; border: 1px solid #dddddd; background-color: transparent"><thead><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">面</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">边</th></tr></thead><tbody><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,0,S</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,0,W</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,1,S</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">0,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0,W</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0,S</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0,W</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,1,S</td></tr><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">1,0</td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">2,0,W</td></tr></tbody></table></div><div class="col_one_third col_last" style="box-sizing: border-box; width: 245.031px; position: relative; margin-bottom: 50px; float: left; clear: right; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; margin-right: 0px !important; background-color: #f4f4f4">&nbsp;</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"></p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">给定关系对后，查看对应的列即可。比如在上表中，坐标为&nbsp;(0, 0)&nbsp;的面对应着4条边，符合围边(<span style="box-sizing: border-box; font-weight: 700">border</span>)关系的公式表达的结果。而坐标为&nbsp;(1, 0, W)&nbsp;对应2个面，也符合连接(<span style="box-sizing: border-box; font-weight: 700">join</span>)关系公式的结果。关系对的含义更宽泛，包含许多种对应关系；而具体到某一种关系，则会有特定的数学表达式。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">既然有6种关系对，理应有12种关系才对啊，为什么我们只列出了9种关系呢？理由是面/面关系，边/边关系与顶点/顶点关系是对称的，所以其逆反就是本身，因此，12种关系中有三种关系是冗余的，我们一共有9种要素关系。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">实现</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">上面列出的算法非常直观。那么我们如何在具体的代码中实现它们呢？首先，你需要从三种要素坐标中选出一种来创建数据结构。我推荐选用最为简洁透明的方式。无论哪种要素，我都会使用用整数向量&nbsp;(u, v)&nbsp;来表示其坐标，必要时包含L&nbsp;或者&nbsp;W&nbsp;这样的辅助记号。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">像这样的数据结构，如果用&nbsp;Ruby&nbsp;可以表示为附带&nbsp;public attrs&nbsp;的类；用&nbsp;lisp&nbsp;的话可以表示为&nbsp;list；若用&nbsp;C&nbsp;则struct&nbsp;正好合用; 使用&nbsp;Java&nbsp;则可以表示为包含&nbsp;public fields&nbsp;的类；而假如使用的是&nbsp;Python&nbsp;，则表示为一个简单的对象或者字典就好。辅助标记的画，&nbsp;lisp&nbsp;和&nbsp;Ruby&nbsp;中可以考虑用&nbsp;symbol('L/:L)；C中用字符('L')或者枚举变量(L);Java中用字符;Python中则可以用长度为1的字符串。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">接下来实现我们的算法。最简单的当然是写一个以 A 为参数返回值为 B 的列表的函数（或者方法）。如果 A 的情况不唯一，用&nbsp;switch/case&nbsp;分别处理即可。这种方法最简单，但并不是最快的办法。想要进一步优化，还可以考虑在调用时预先分配可能返回的列表，或者提供内联的回调函数（比如 C++ 的 STL 函数对象）。在某些情况下，你可能会需要一次查看多个A对应的关系，这时你可能会需要设计一种能够以A的列表为参数，返回B的列表的算法。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">我尽量避免给出具体的实现，因为这取决于每个游戏的具体需要，但我还是在下表中列出了使用&nbsp;ruby&nbsp;编写的三角网格转换的一种范例。为选择使用 list 作为最基本的数据结构，并且使用&nbsp;Ruby symbol(:L)&nbsp;来表示附带记号。</p><table border="0" class="table table-bordered" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-bottom: 20px; width: 800px; max-width: 100%; border: 1px solid #dddddd; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4"><thead><tr style="box-sizing: border-box"><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">算法</th><th style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: bottom; border-width: 0px 1px 2px; border-bottom-style: solid; border-bottom-color: #dddddd; border-right-style: solid; border-left-style: solid; border-right-color: #dddddd; border-left-color: #dddddd">Ruby 代码</th></tr></thead><tbody><tr style="box-sizing: border-box"><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd">(<span style="box-sizing: border-box; background-color: #eeddff">u,v</span>,<span style="box-sizing: border-box; background-color: #ffaacc">L</span>) &rarr;&nbsp;<br />&nbsp; &nbsp;&nbsp;<span style="box-sizing: border-box; background-color: #ffffdd">(u,v+1) (u+1,v) (u,v)</span><br /><br /><br /><br />(<span style="box-sizing: border-box; background-color: #eeddff">u,v</span>,<span style="box-sizing: border-box; background-color: #ccffaa">R</span>) &rarr;&nbsp;<br />&nbsp; &nbsp;&nbsp;<span style="box-sizing: border-box; background-color: #ddffff">(u+1,v+1) (u+1,v) (u,v+1)</span></td><td style="box-sizing: border-box; padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid #dddddd"><pre class="prettyprint" style="box-sizing: border-box; overflow: auto; font-size: 13px; line-height: 20px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; padding: 10px 15px; margin-bottom: 20px; word-break: break-all; word-wrap: break-word; border: 1px solid #e1e1e8; border-radius: 4px; white-space: pre-wrap; margin-top: 0px !important; background-color: #ffffff"><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">def</span><span style="box-sizing: border-box" class="pln"> corners</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">(</span><span style="box-sizing: border-box" class="pln">face</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">)</span><span style="box-sizing: border-box" class="pln">&nbsp;&nbsp; </span><span style="box-sizing: border-box; background-color: #eeddff"><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span></span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> side </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> face&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">case</span><span style="box-sizing: border-box" class="pln"> side&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">when</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">:</span><span style="box-sizing: border-box; background-color: #ffaacc"><span style="box-sizing: border-box" class="pln">L</span></span><span style="box-sizing: border-box" class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box; background-color: #ffffdd"><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box; color: #195f91" class="lit">1</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">],</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box; color: #195f91" class="lit">1</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">],</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">]</span></span><span style="box-sizing: border-box; color: #93a1a1" class="pun">]</span><span style="box-sizing: border-box" class="pln">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">when</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">:</span><span style="box-sizing: border-box; background-color: #ccffaa"><span style="box-sizing: border-box" class="pln">R</span></span><span style="box-sizing: border-box" class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box; background-color: #ddffff"><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box; color: #195f91" class="lit">1</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box; color: #195f91" class="lit">1</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">],</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box; color: #195f91" class="lit">1</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">],</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">[</span><span style="box-sizing: border-box" class="pln">u</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">,</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box; color: #195f91" class="lit">1</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">]</span></span><span style="box-sizing: border-box; color: #93a1a1" class="pun">]</span><span style="box-sizing: border-box" class="pln">&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">end</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">end</span></pre></td></tr></tbody></table><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">就是这么容易。每一个变种使用一种分支情况处理即可。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">坐标转换</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">无论是 2D 还是 3D 的图形系统，我们都需要在&ldquo;世界&rdquo;坐标与&ldquo;屏幕&rdquo;坐标间相互转换。使用网格系统后也不例外。这一节我们就来处理这个问题。从网格坐标往世界坐标转换时，我们选取顶点或者面的中心；从世界坐标往网格坐标转换时，我们则选取包含坐标点的面坐标，离坐标点最近的边坐标或顶点坐标。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">方形网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">方形网格的情形比较容易处理。假设方格边长为s，且方格边缘与x, y轴对齐，那么只需要将网格坐标乘以s就能得到对应的世界坐标。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">如果是其他情况(坐标轴没有与网格对齐)，我们则需要确定哪个顶点是距离世界坐标最近的。只需要将世界坐标除以s再圆整(round)就能得到最近的顶点坐标。若你希望得到的不是顶点坐标而是面坐标，使用向下取整(floor)即可。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">六角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4"><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px auto; float: none; clear: both; height: auto" class="aligncenter wp-image-9430" src="8553926" tppabs="http://m.indienova.com/farm/2016/04/hex-grid-metrics-labeled.png" border="0" alt="hex-grid-metrics-labeled" width="373" height="346" /></p><div class="text-center image-caption" style="box-sizing: border-box; text-align: center; margin-bottom: 16px; margin-top: -10px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; line-height: 24px; background-color: #f4f4f4">图11. 六角网格度量</div><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">六角网格的情形只稍微比方形网格复杂一点。计算面心很容易，参见图11，右下角标有矢量i与矢量j。从六角网格坐标向世界坐标转换，只需要做简单的矩阵乘法即可，关系如下：<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 30px auto; float: none; height: auto" class="alignnone size-full wp-image-9432" src="LatitudeLongitudeBoundingCoordinates" tppabs="http://m.indienova.com/farm/2016/04/CodeCogsEqn1.gif" border="0" alt="CodeCogsEqn1" width="210" height="45" /></p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">展开后即表示为：</p><pre class="prettyprint" style="box-sizing: border-box; overflow: auto; font-size: 13px; line-height: 20px; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; padding: 10px 15px; margin-bottom: 20px; word-break: break-all; word-wrap: break-word; border: 1px solid #e1e1e8; border-radius: 4px; white-space: pre-wrap; margin-top: 0px !important"><span style="box-sizing: border-box" class="pln">x </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> ix </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> u </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box" class="pln"> jx </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> v y </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> iy </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> u </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box" class="pln"> jy </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> v</span></pre><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">如图所示，i&nbsp;即&nbsp;(hexagon_narrow_width, 0.5*hexagon_height)&nbsp;而&nbsp;j&nbsp;即&nbsp;(0, hexagon_height), 将其带入公式，结果为：</p><pre class="prettyprint" style="box-sizing: border-box; overflow: auto; font-size: 13px; line-height: 20px; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; padding: 10px 15px; margin-bottom: 20px; word-break: break-all; word-wrap: break-word; border: 1px solid #e1e1e8; border-radius: 4px; white-space: pre-wrap; margin-top: 0px !important"><span style="box-sizing: border-box; color: #999999" class="com"># 面心</span><span style="box-sizing: border-box" class="pln"> x </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> hexagon_narrow_width </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> u y </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> hexagon_height </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">(</span><span style="box-sizing: border-box" class="pln">u </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #195f91" class="lit">0.5</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+</span><span style="box-sizing: border-box" class="pln"> v</span><span style="box-sizing: border-box; color: #93a1a1" class="pun">)</span></pre><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">计算顶点也相当简单。在下文中，我会用L或R标记六边形的顶点。这两个顶点位于从六边形面心往左或往右横跨半个六边形的宽处（具体可参见图9），因此我们只需要加上或者减去一个&nbsp;hexagon_wide_width * 0.5就能得到x坐标:</p><pre class="prettyprint" style="box-sizing: border-box; overflow: auto; font-size: 13px; line-height: 20px; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; padding: 10px 15px; margin-bottom: 20px; word-break: break-all; word-wrap: break-word; border: 1px solid #e1e1e8; border-radius: 4px; white-space: pre-wrap; margin-top: 0px !important"><span style="box-sizing: border-box; color: #999999" class="com"># 如果面心坐标为 (x, y), 则顶点坐标为：</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">case</span><span style="box-sizing: border-box" class="pln"> side&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">when</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">:</span><span style="box-sizing: border-box" class="pln">L&nbsp;&nbsp;&nbsp;&nbsp; x </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">-=</span><span style="box-sizing: border-box" class="pln"> hexagon_wide_width </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #195f91" class="lit">0.5</span><span style="box-sizing: border-box" class="pln">&nbsp;&nbsp; </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">when</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">:</span><span style="box-sizing: border-box" class="pln">R&nbsp;&nbsp;&nbsp;&nbsp; x </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">+=</span><span style="box-sizing: border-box" class="pln"> hexagon_wide_width </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #195f91" class="lit">0.5</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #2f6f9f" class="kwd">end</span></pre><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">在处理六角网格时，以面心坐标作为主要坐标，顶点坐标则放在相对次要的位置。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">从六角网格坐标(u, v)转换为世界坐标(x, y)也需要做一次矩阵乘法（即之前的矩阵乘法的逆运算）。这里我直接给出计算结果：</p><pre class="prettyprint" style="box-sizing: border-box; overflow: auto; font-size: 13px; line-height: 20px; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; padding: 10px 15px; margin-bottom: 20px; word-break: break-all; word-wrap: break-word; border: 1px solid #e1e1e8; border-radius: 4px; white-space: pre-wrap; margin-top: 0px !important"><span style="box-sizing: border-box" class="pln">u </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> x </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">/</span><span style="box-sizing: border-box" class="pln"> hexagon_narrow_width v </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">=</span><span style="box-sizing: border-box" class="pln"> y </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">/</span><span style="box-sizing: border-box" class="pln"> hexagon_height </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">-</span><span style="box-sizing: border-box" class="pln"> u </span><span style="box-sizing: border-box; color: #93a1a1" class="pun">*</span><span style="box-sizing: border-box" class="pln"> </span><span style="box-sizing: border-box; color: #195f91" class="lit">0.5</span></pre><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">要使以上公式成立，需要将(x, y)落在面心位置上。如果(x, y)处于任意位置，还需要一点额外费一点功夫。最简单（但并不是最高效）的方案是算出浮点坐标(u, v)后比较与其相邻的整点坐标，看哪一个距离原来的世界坐标最近。这种方法适用于所有类型的坐标系统。用这种算法来实现鼠标点选，速度是足够满足要求的。通过查找最近的多边形，它还能再进一步地优化。</p><h5 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 14px; background-color: #f4f4f4">三角网格</h5><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">三角网格是经过挤压和分割的方形网格。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">将三角网格的顶点坐标转换为世界坐标只需乘上一个轴矢量(即坐标轴的单位向量)，正如六角网格中提到的公式：<br /><img style="box-sizing: border-box; border: 0px; vertical-align: middle; max-width: 100%; display: block; margin: 10px 0px; float: none; height: auto" class="alignnone wp-image-9432" src="LatitudeLongitudeBoundingCoordinates" tppabs="http://m.indienova.com/farm/2016/04/CodeCogsEqn1.gif" border="0" alt="CodeCogsEqn1" width="210" height="45" /></p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">将三角网格的面坐标转换为世界坐标则需要做一点调整。居于左下，标记为L的三角网格面心为(0.25*i, 0.25*j)，而居于右上，标记为R的三角网格面心则为(0.75*i, 0.75*j)。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">由世界坐标转换为三角顶点坐标很容易。用代数知识算出(u, v)即可。可以通过划分左右三角网格的边(标注为E的那条)的位置来判断世界坐标落在了哪一个面中。如果点位于边的左侧，则点落在L面中，否则落在R面中。位于R面时，frac(u) + frac(v) &gt;= 0.5将成立，也可以利用这个性质来判断点在哪一侧(译注：frac(...)函数用来可以取得浮点数的小数部分)。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">处理三角网格时，着重于处理顶点，面心坐标相对次要。这和六角网格中的处理方式恰好相反。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">相关内容</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">这篇文档是否还有什么需要补充的内容呢？有什么解释得不清楚的地方吗？还不够完善？有谬误之处？请反馈给我吧(原作者邮箱：redblobgames@gmail.com)。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">文中使用的图表(此处指原文)是我先用ruby写好算法，通过程序生成SVG格式文件，最后再使用inkscape转换成PNG格式的。我还使用inkscape手动往某些图表中添加了标注。我使用的ruby代码可以在<a style="box-sizing: border-box; color: #0088cc; text-decoration: none !important; background-color: transparent" href="javascript:if(confirm('http://www-cs-students.stanford.edu/~amitp/game-programming/grids/ghsau  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www-cs-students.stanford.edu/~amitp/game-programming/grids/ghsau'" tppabs="http://www-cs-students.stanford.edu/~amitp/game-programming/grids/draw_grid.rb" target="_blank">这里</a>找到。在原文中，你可以通过将图片的url地址中的.png后缀改为.svg后缀来找到svg格式的文件。如果需要在其他地方使用它们，请给我发邮件（邮箱地址参见上一段）。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">文章的最后，再列出一些我颇感兴趣，但一时想不到用途的东西：<br />比如<a style="box-sizing: border-box; color: #0088cc; text-decoration: none !important; background-color: transparent" href="javascript:if(confirm('http://en.wikipedia.org/wiki/50591932  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://en.wikipedia.org/wiki/50591932#Lattices_in_two_dimensions:_detailed_discussion'" tppabs="http://en.wikipedia.org/wiki/Lattice_%28group%29#Lattices_in_two_dimensions:_detailed_discussion" target="_blank">&nbsp;2D 空间中的网格</a>有五种类系，分别是：方形，三角，六角，长方形与平行四边形，然而只有方形，三角和六角是正多边形。漩涡蜂巢镶嵌图(<a style="box-sizing: border-box; color: #777777; outline: 0px; background-color: transparent" href="javascript:if(confirm('http://masters.donntu.edu.ua/2009/fvti/hodus/library/article4/feed.php?go=entry_7522  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://masters.donntu.edu.ua/2009/fvti/hodus/library/article4/feed.php?go=entry_7522'" tppabs="http://masters.donntu.edu.ua/2009/fvti/hodus/library/article4/article4.html" target="_blank">Spiral Honeycomb Mosaic</a>，此处链接为原链接，已损坏，这里再提供一份<a style="box-sizing: border-box; color: #0088cc; text-decoration: none !important; background-color: transparent" href="javascript:if(confirm('http://paulbourke.net/texture_colour/tilingplane/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://paulbourke.net/texture_colour/tilingplane/'" tppabs="http://paulbourke.net/texture_colour/tilingplane/" target="_blank">镜像链接</a>)是一种有趣的为六角网格标数方式。它具有一些颇为奇特的属性。</p><h4 style="box-sizing: border-box; font-family: Raleway, sans-serif; line-height: 1.5; color: #444444; margin: 0px 0px 20px; font-size: 18px; padding-top: 30px; padding-bottom: 15px; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #0088cc; background-color: #f4f4f4">原文链接与版权说明</h4><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">对原文感兴趣的可以查看<a style="box-sizing: border-box; color: #0088cc; text-decoration: none !important; background-color: transparent" href="javascript:if(confirm('http://www-cs-students.stanford.edu/~amitp/game-programming/grids/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www-cs-students.stanford.edu/~amitp/game-programming/grids/'" tppabs="http://www-cs-students.stanford.edu/~amitp/game-programming/grids/">这里</a>。</p><p style="box-sizing: border-box; margin: 0px 0px 15px; line-height: 24px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 15px; background-color: #f4f4f4">indienova 获得原作者授权同意，将陆续为大家翻译他的其他教程，相关反馈可以提交到<a style="box-sizing: border-box; color: #0088cc; text-decoration: none !important; background-color: transparent" href="javascript:if(confirm('http://indienova.com/groups/read.php?save_7522  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://indienova.com/groups/read.php?save_7522'" tppabs="http://indienova.com/groups/9">游戏开发资源小组</a>，希望大家能给予支持和鼓励。</p> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 90 ms, 6 Queries.</span>";
//]]>
</script></body>
</html>