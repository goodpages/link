<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
<title><![CDATA[流浪的龙－个人知识管理]]></title> 
<link>http://i.renjihe.com/blog/index.php</link> 
<description><![CDATA[]]></description> 
<language>zh-cn</language> 
<copyright><![CDATA[流浪的龙－个人知识管理]]></copyright>
<item>
<link>http://i.renjihe.com/blog/read.php?6138</link>
<title><![CDATA[为啥我们还用flash]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Tue, 14 Oct 2014 06:21:54 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?6138</guid> 
<description>
<![CDATA[ 
	<table border="0" cellspacing="0" cellpadding="0" style="word-wrap: break-word; margin: 0px; padding: 0px; border-collapse: collapse; border-spacing: 0px; empty-cells: show; table-layout: fixed; width: 758px; color: #333333; font-family: Tahoma, Helvetica, SimSun, sans-serif; font-size: 12px; line-height: 18px"><tbody><tr style="word-wrap: break-word; margin: 0px; padding: 0px"><td id="postmessage_3241476" class="t_f" style="word-wrap: break-word; margin: 0px; padding: 0px; font-size: 14px">Why we still use Flash&trade;为啥我们还用flash？<br /><br />Flash&trade; is said to be dead for a long time now. But we are still using it everyday for a lot of different things. This post will try to explain why with simple rational/objective points. I am not a dumb fanboy but I am tired to read so much crap about it. I run a small studio that makes 2D games. We have been using Flash&trade; since 1998. Using the same tool (or its evolutions) for 16 years is exceptional.<br />很早之前就有人说flash已死，但我们还是每天在用它做各种事情。这篇帖子将简单理性客观地解释为什么我们还在用flash。我不是adobe的脑残粉，但我读了很多flash已死的废话感觉太累了，所以必须写这篇帖子。我开了一家2D游戏工作室。我们从98年开始用flash从来没换过，连续16年用同一款工具（包括其升级版）其实很特别。<br /><br /><br />Flash is still widely used for many different things<br />flash还在各领域被广泛使用<br />&bull; Facebook games: all (?) the top Facebook games played on computers are still using Flash&trade; (Zynga seems to try a lot of different alternative solutions,not really what a small team can do&hellip; Time spent not working on gameplays anyways&hellip;).<br />FaceBook的游戏：所有的(几乎)最好的FaceBook电脑游戏是用flash制作的。星佳(*译者注：最大社交游戏公司)作为一个大团队，尝试了很多代替flash的方式，但毫无作用。<br /><br />&bull; Cartoons: lots of animated series or films are made with Flash&trade;. I know many more as we have done many games based on Flash&trade; cartoons.<br />卡通动画：很多连续剧和卡通电影是用flash做的。因为我们做了很多flash卡通改编的游戏，所以这点我比一般人更清楚。<br /><br />&bull; Pro/business apps: salesmen apps, display kiosks, training, educational&hellip;<br />专业/商业应用：商人用的应用，刊物、培训、教育....<br /><br />&bull; Museums: we did one &ldquo;game maker&rdquo; app for a games expo (using Flash&trade;, well AIR&trade;, which is an app made with Flash&trade;). When the man in charge of the very large French Science Museum took me for a tour in all the expos I did ask everytime what tool was used for all the apps. The answer was &ldquo;AIR&rdquo; 90% of the time.<br />博物馆：我们用AIR技术为游戏展做过一个叫&quot;game maker&quot;的应用，博物馆的管理员带我周游了这个博物馆，当问到博物馆里面展示的各种游戏是用什么软件做的时，绝大部分回答是&quot;AIR&quot;<br /><br />&bull; Console games UIs: more than 1,000 AAA titles licensed Scaleform&trade; which uses Flash&trade; files.<br />基于控制台游戏的UI界面，超过1000个3A级大型游戏的版权声明中有Scaleform的支持，而Scaleform是使用flash的。（译者注：以下游戏属于此条目《星际争霸2》、《孤岛危机》、《辐射》、《光环》、《龙腾世纪》、《无主之地》、《神鬼寓言》、《波斯王子》、《分裂细胞》）<br /><br />&bull; Some PC/Steam games: a list was made recently.<br />一些PC和Steam游戏使用flash技术开发。（译者注：原作者的列表需fanqiang访问，连接如下docs.google.com/spreadsheets/d/1-hrKbsvy4y3VLKQoyaS76sfHWix4TNWB7wO4dqDn1mA/edit?pli=1）<br /><br />&bull; Mobile games: lots of games are made with AIR&trade;, even a recent one by Ubisoft (no link/ad ^-^).<br />移动游戏，很多游戏使用AIR技术制作，育碧这样的大公司近期也在采用AIR来做手游（原作者：不给育碧打广告，无链接！）<br /><br />These are facts. AIR&trade; apps have been installed 1 billion times in the last year (version 3.8 was out in Sept 2013). Why so many people still rely on Flash&trade;? It seems to just work ^-^. It has all the common features you would expect from a middleware (great consistency accross platforms, great community, extendability with ANEs, great updates, great support). After using it for a long time and having done some native to AIR&trade; mobile apps ports I even have discovered some core exclusive features I haven&rsquo;t found in any other tool.<br />这些都是事实。前一年中，AIR应用有10亿次的安装次数（AIR3.8在2013年9月出现）。为什么这么多人还依靠着flash？理由貌似是它有用。flash有你期望的全部通用特性的支持，它对跨平台支持非常好，拥有庞大的技术社区，通过ANE技术而可以扩展。AIR技术有强大的官方更新和支持。在用AIR很长时间，做了ANE接口后，我甚至在其中发现了一些从未在其它工具中发现过的独特的核心功能。<br /><br /><br />Flash&trade;/AIR&trade; exclusive features<br />flash和AIR的与众不同<br /><br />&bull; vector graphics: with so many screen resolutions, having assets that are independant of screen size/resolution is key. In our latest game, all the graphics + animations assets for 30 minigames weight 8MB (average of 300KB per game including some bitmaps). Now that the iPhone 6 is out with 2 new higher resolutions we don&rsquo;t have to do anything special other thanupdate the AIR&trade; middleware and compile to upscale our graphics to the new resolutions.<br />矢量图：在这么多分辨率下，怎么让素材适应屏幕是个问题。在我们近期开发中，30个小游戏所有的图形和动画加起来只有8MB（每个300KB，包括位图）。现在iPhone6有两个不同的分辨率，除了升级AIR之外我们不需要对素材缩放做出任何处理。<br /><br />&bull; runtime raterization: vector graphics are great for scalability and small file sizes but are more complex to render on screens and thus slower to compute. Bad for 60fps games. That&rsquo;s why we rasterize all the vector assets at the current screen resolution (from 320x480 to 2208x1242 or any 4k value) at runtime on the device. It&rsquo;s fast to process (even on a mobile) and then the games use regular bitmaps that are much faster to move on screen. We have our own code, similar to DMT for example.<br />运行时栅格化（*译者注：栅格化指矢量图转位图）：矢量图缩放容易但渲染效率低下。对60fps游戏不友好，这是为什么我们要根据当前屏幕分辨率在运行时转位图。即使在移动设备上，处理位图也是很快的，使用位图的游戏运行起来很快。我们有自己的栅格化代码，和as3gamegears.com/misc/dmt/差不多。<br /><br />&bull; text engine: our latest game is available in 11 languages including Japanese, Chinese, Korean, Russian and Turkish. There is not a single pre-rendered text, not even the translated game logo. Everything uses device fonts (good for file size too) plus some code for filters etc. Adding any language with any alphabet can be done just with an external XML file. Recently we also used the TLF feature, allowing right to left text and support for nice font features.<br />文本引擎：我们最后做的游戏有11个语言版本，包括日语汉语韩语俄语土耳其语。没有能预定的文本，连游戏的logo也要翻译。我们做这些时只需要使用设备字体（这也很省文件体积），加上一些滤镜之类代码，通过XML配置不同语言使用的文字。现在我们也用TLF文本，TLF文本支持一些国家从右到左阅读文字的需求。<br /><br />&bull; &ldquo;transparent jpgs&rdquo;: in a recent client project with lots of bitmaps we reduced the size of the app from 80MB to 40MB using transparent jpegs. Very useful when you want to stay under the 50MB Google Play initial download limit. Great feature, not easy to replicate elsewhere.<br />透明的JPG：使用透明JPG我们将某客户端游戏的素材从80MB缩小到40MB。如果你想将文件压缩到50MB以下这非常有用（*注：GooglePlay限制50M以下游戏才能直接下载），flash的透明JPG非常有用，用其它办法没这么好实现。<br /><br />&bull; package of iOS apps from a Windows PC: it&rsquo;s not very well known but you can package an iOS app (debug, ad-hoc, release) completely from a Windows PC. I have always been a Mac user but the rest of the team is on PCs. No need to have one Mac for every PC just to finish the compilation in Xcode.<br />在Windows下打包IOS的应用：你用Windows就能开发苹果应用。我是一个Mac电脑用户，但项目组的其它人都用PC，我们不需要为每人配一台Mac电脑和XCode来编译。<br /><br />&bull; best &ldquo;backwards compatibility&rdquo;: we have just licensed as1 games from 2005 for TiVo in the UK this summer and it already drives some nice revenue. Our files from 1998 still run perfectly in the latest player.<br />最好的向下兼容性：我们这个夏天在英国注册了05年开发的as1游戏，这些游戏将移植到TV机顶盒中，这游戏也有不错的收入。我们1998年创建的as1文件用最新的flash播放器还是能完美播放。<br /><br />Other nice but not &ldquo;exclusive&rdquo; features<br />其它漂亮但不是独有的特点<br /><br />&bull; AIR&trade; is 100% free for PC, Mac, Linux (AIR 2.6), iOS, Android, Ouya,Oculus Rift, Google Glasses, a few set top boxes (TiVo) etc&hellip; No Windows Phone 8 (but runs on Windows 8 tablets). And let&rsquo;s not forget Flash&trade; also allows to publish on the web too! No mobile web but this might change soon (see below).<br />AIR完全免费，无论对PC，Mac，Linux，IOS，安卓，Ouya，OculusRift还是谷歌眼镜，机顶盒等等。win phone8还不支持，但win8已经支持。并且我们不要忘记flash是可以发布在网页上的。手机网对flash还支持不良，但以后可能有改善。<br /><br />&bull; IDEs: Flash&trade; Pro (to draw/animate vector and non vector graphics/UIs) is not free but the great code IDE FlashDevelop is 100% free.<br />开发编辑器：flash编辑器，用来做动画、矢量图和UI不免费（*译者注：在中国么...你懂的），但FD软件是100%免费的<br /><br />3 recent other uses of Flash&trade;<br />flash的三种其它用途<br /><br />&bull; App Store images: when you release an iOS app you have to upload 5 images x 5 resolutions x as many languages (11 for us so we had to make 275 images)! We made an AIR&trade; app that outputs all the images. See the result inJapanese, Chinese, Korean, Russian etc...<br />AppStore的预览图：你在AppStore提交应用时应提供25张预览图（5张预览图但5种不同分辨率），如果你的应用有不同语种这将更多（作者用了11种语言，一共要提交275张图）。我们做了一个AIR应用用来输出这些图。（*译者注：此处作者应指通过AIR软件更换logo图的语言和分辨率）<br /><br />&bull; Trailer: we did the trailer in Flash&trade; and used the video export feature.<br />宣传片（或付费游戏的试玩版）：我们用flash做游戏的宣传片并导出成视频<br /><br /><br />&bull; Animated minisite with mobile compatibility: we converted some animations from the game with the great Google Swiffy tool and voil&agrave;!<br />兼容手机的有动画的网站：我们用Google Swiffy和voila转换了一些动画。（*译者注：该工具作用是flash转HTML5）<br /><br />A few words about the future (thanks for asking)<br />对未来的一些感言（感谢采访者）<br /><br />&bull; Updates/features: we think theupdates rhythm is great. Regarding the features my opinion is that we could keep using the current versions for a long time (there are even still some hidden gems in the features). What is key is the support for iOS or Android updates and the updates for these are on time everytime. Regarding the web, Google Swiffy or Mozilla Shumway(read this and this also) are already very interesting. Logically they should add WebGL rendering soon.<br />更新和功能接口：我们认为flash的更新频率很好，我认为应该长时间保持当前版本的功能接口，flash提供的接口中还有一些隐藏的功能。flash更新最关键的地方是及时支持IOS和安卓的版本更新。对于网页应用，flash转HTML5很有趣，理论上flash转HTML5工具将很快添加WebGL加速。<br /><br />&bull; Performances: we do simple 2D arcade/casual/kids games. We very rarely hit a performance bottleneck in Flash&trade;/AIR&trade;, even on mobile (it doesn&rsquo;t mean we don&rsquo;t do optimizations to reach 60fps). We use the simplerenderMode GPU (regular Flash Display List). We rasterize for maximum performance but the GPU render mode is very good even for 100% vector graphics games. Our test devices are the iPad 1 and 2, iPod 4th and 5th generation and some Android devices too (including a $60 one). Whenever I try anything on a more recent device I can see it&rsquo;s so incredibly powerful I am not worried about performances at all. And if we ever needed more performances we could use Genome2D.<br />性能表现：我们做简单的2D娱乐、休闲、儿童游戏，我们很少遇到flash或air的性能瓶颈。及时在移动设备和60fps条件下也是。我们使用了GPU渲染模式和传统显示列表，为达到效率最大化，我们使用矢量图在运行时转位图的办法，但GPU渲染模式对100%矢量图游戏也有提高。我们的测试设备是iPad1和2。iPod4和5。还有一些安卓设备，包括60美元的便宜货。在更主流的设备上测试时，我发现AIR难以想象的强大，我完全不用担心任何效率问题。如果我们实在需要极限优化，我们会选用Genome2D（*译者注：一款类型Starling的基于Stage3d的2d引擎）<br /><br />To conclude Flash&trade; and AIR&trade; have been our tools of choice for 16 years and we are really happy to keep using these tools everyday for lots of different purposes. Our philosophy is that all the time you spend (I did not say lose) in tech/tools is time you don&rsquo;t spend doing new games or polishing the ones in development ^-^.<br />总结来说，flash和air是我们用了16年的工具，我们很高兴每天用这个工具做各种事。我们的哲言是，你用在（更换、调试）技术和工具上的时间，会在缩短开发游戏和优化游戏的时间。<br /><br />Thanks for reading!<br />感谢读完！<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 15px 0px">原文链接：<a style="word-wrap: break-word; margin: 0px; padding: 0px; outline: none; color: #336699" href="https://medium.com/@h_a_l_e_x/why-we-still-use-flash-104b8bf236ca" target="_blank">https://medium.com/@h_a_l_e_x/why-we-still-use-flash-104b8bf236ca</a></p></td></tr></tbody></table>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5334</link>
<title><![CDATA[ByteArray数据自定义转换]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:09:47 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5334</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">一、说明</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这个方法要将ByteArray中的数据转换成16进制，ByteArray中的数据只能是32位的无符号整数，这个是前提。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;因为ByteArray中操作的是字节，1个字节8位，而一个16进制由两个字节组成，一个32位无符号数由4个字节组成，所以每次我们都取一个字节的数据，然后转换成16进制，就可将起全部转换成16进制数据。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果要将字符转换成ByteArray，我们只要做一下方向操作即可。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">二、代码&nbsp;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 先向ByteArray中写入数据<strong>var</strong>&nbsp;byte:ByteArray&nbsp;=&nbsp;<strong>new</strong>&nbsp;ByteArray();</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"></p><ol style="margin: 0px; padding: 0px; list-style: none; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;byte.writeUnsignedInt(2000)； &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;str:String=byteArrToStr&nbsp;(byte);//通过byteArrToStr();方法转换成16进制字符串trace(str); &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;b:ByteArray=StrToByteArr&nbsp;(str);//通过StrToByteArr();方法转换成ByteArray &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;trace(b.readUnsignedInt()); &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;public&nbsp;static&nbsp;function&nbsp;byteArrToStr&nbsp;(value:ByteArray)&nbsp;:&nbsp;String&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;readValue:uint&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;(value&nbsp;==&nbsp;null)&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return&nbsp;&quot;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;(value.length&nbsp;==&nbsp;0)&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp; var&nbsp;len:int&nbsp;=&nbsp;value.length;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp; var&nbsp;str:String&nbsp;=&nbsp;&quot;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;value.position&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp; var&nbsp;position:int&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp; while&nbsp;(position&nbsp;&lt;&nbsp;len)&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readValue&nbsp;=&nbsp;value.readUnsignedByte();//读取一个字节&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(readValue&nbsp;&lt;&nbsp;16)&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strstr&nbsp;=&nbsp;str&nbsp;+&nbsp;&quot;0&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strstr&nbsp;=&nbsp;str&nbsp;+&nbsp;readValue.toString(16); &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positionposition&nbsp;=&nbsp;position&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;str;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; public&nbsp;static&nbsp;function&nbsp;StrToByteArr&nbsp;(value:String)&nbsp;:&nbsp;ByteArray&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(value&nbsp;==&nbsp;null)&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; &nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;byte:ByteArray&nbsp;=&nbsp;new&nbsp;ByteArray();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp; &nbsp; &nbsp; var&nbsp;position:int&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(position&nbsp;&lt;&nbsp;value.length)&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte.writeByte(Number(&quot;0x&quot;&nbsp;+&nbsp;value.substr(position,&nbsp;2)));//因为ByteAarray操作的是字节，所以要读取两位，两个字节表示一个16进制数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positionposition&nbsp;=&nbsp;position&nbsp;+&nbsp;2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte.position&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;byte;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</li><li style="margin: 0px; padding: 0px">&#125;&nbsp;</li></ol>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5333</link>
<title><![CDATA[Flash Player 11异步解码Bitmap]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:08:52 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5333</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">Flash&nbsp;Player&nbsp;11&nbsp;引入了一个全新的功能是异步解码位图的功能,这个功能对某些类型的Flash应用会很有效,尤其是需要加载大分辨率的位图相册或者游戏会有显著的效果.</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">这个功能在Flash&nbsp;Player&nbsp;11里的实现非常简单,需要使用flash.system.ImageDecodingPolicy这个类.这个类的使用,是通过flash.system.LoaderContext类中制定imageDecodingPolicy属性的值.这个属性的两个值描述了不同的策略.</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">ON_DEMAND:在需要时同步解码图像.此设置对较小的图像非常有用.</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">ON_LOAD:在图像加载后立即异步解码图像.此设置对较大的图像非常有用.</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">由于默认值是ON_DEMAND,所以需要你针对Flash&nbsp;Player&nbsp;11,手动开启ON_LOAD以用来激活异步解码.异步解码可以防止出现加载大分辨率位图时同步解码造成的播放器假死或性能表现不佳的状况.</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">代码只需要在AS3里添加这几行:</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">import&nbsp;flash.system.ImageDecodingPolicy;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">...</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">var&nbsp;loaderContext:LoaderContext&nbsp;=&nbsp;new&nbsp;LoaderContext;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">loaderContext.imageDecodingPolicy&nbsp;=&nbsp;ImageDecodingPolicy.ON_LOAD;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">...</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">loader.load(new&nbsp;URLRequest(url),loaderContext);</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5332</link>
<title><![CDATA[Flash本地存储数据SharedObject类]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:08:30 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5332</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">我们很多时候都想把一些数据保存在flash之外比如玩一个游戏，我们可以把一些数据保存在外部，这样下次用户打开flash的时候就可以从外部先加载信息。如：把用户游戏的关数保存在外部那么下次用户玩的时候就可以直接读取外部的，而不用一直重复去玩一些已经玩过的。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">as3.0中保存数据到外部用的是SharedObject类，这个类实现了了客户端机器数据的持久性存储，我们可以把一些数据保存在客服端，也可以把数据保存到远程服务器上，保存在客户端就相当于cookie，而保存在服务器端就相当于session。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">flash本地可以存储大量数据，且存储和读取的都是原生的ActionScript数据类型。默认的空间大小100&nbsp;KB，他默认的后缀是.sol,同一个域里都文件都可以通过SharedObject类来访问。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">SharedObject：</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">静态方法:getLocal()可以创建一个SharedObject或者打开共享对象。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">属性:data,是一个object类型的对象，因此我们可以添加任意类型的东西进去。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">方法：flush()保存到客户机上。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">var:result=SharedObject对象.flush()</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">返回的结果类型有三种，一种是拒绝保存的情况返回一个error，另外两种1是SharedObjectFlushStatus.PENDING没有足够空间，如果是这样的话我们可以在里面增加事件监听SharedObject对象.addEventListener(&nbsp;NetStatusEvent.NET_STATUS,&nbsp;onStatus&nbsp;);事件类型是NetStatusEvent.NET_STATUS，在onStatus方法里写if&nbsp;(&nbsp;event.info.code&nbsp;==&nbsp;&quot;SharedObject.Flush.Success&quot;&nbsp;)&nbsp;&#123;&#125;当用户点击成功的时候触发的事件else&nbsp;if&nbsp;(&nbsp;event.info.code&nbsp;==&nbsp;&quot;SharedObject.Flush.Failed&quot;&nbsp;)&nbsp;&#123;&#125;&nbsp;用户点击取消的时候触发的事件,我们可以打开Security.showSettings(&nbsp;SecurityPanel.LOCAL_STORAGE&nbsp;);对话框来改变保存到本地容量的大小，前面提过了默认是100kb。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">读取客户端的数据就直接通过访问data中你保存的数据就可以了很简单。当我们要删除data里保存的数据的时候只要通过调用delete或者直接调用SharedObject对象的clear（）方法就可以了，但是clear是删除所有保存的数据。delete是删除您要删除的具体的某项。delete&nbsp;SharedObject对象.data.someVariable，<span style="color: #ff0000">我们不能通过把SharedObject对象.data.someVariable的值赋空来实现</span>。如果我们要保存类的话，首先要把类序列化，序列化可以把对象的信息保存在本地，在需要的时候在通过反序列化直接获得类的当前信息，在as3.0中是通过用flash.net.registerClassAlias(&nbsp;)来实现的。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">registerClassAlias（别名，具体的引用，也就是类名)：他有两个参数，一个是保存的别名，另外一个是具体的类的引用，这个方法必须在getLocal(&nbsp;)方法前调用才有效。</p><p style="margin: 0px 0px 1.2em; padding: 0px; font-size: 14px; color: #888888; line-height: 18px">如果我们要在多个flash中共享客户端的内容，我们就必须制定路径，getLocal()可以带两个参数，前一个参数是保存的名称，后面一个是路径.这个路径必须是同一个域下要共享客服端保存内容的flash所能访问到的</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5331</link>
<title><![CDATA[AIR for Android (四) 应用程序打开与关闭,以及保存数据]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:05:21 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5331</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">在Android&nbsp;系统中，每一个应用程序，也称为活动，被赋予了唯一的用户ID而在自己的进程中运行。系统本身，或者叫活动管理器，来</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">维护应用程序的周期和一个公用的活动栈。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">每一个应用程序的生命周期有3个阶段，活动或者运行，暂停&nbsp;和&nbsp;停止。AIR的应用程序和其他的应用程序是一样的。因为应用程序有一个</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">有限的周期，所以他可以存储数据。Android&nbsp;提供了sqlite&nbsp;数据库，或者是内部状态，是一些简单&nbsp;的name/value&nbsp;键值对。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">AIR&nbsp;使用自己的API来保存数据。AIR有自己的Sqlite&nbsp;引擎，和文件系统的权限。也提供了Local&nbsp;shared&nbsp;object&nbsp;，一个像cookies&nbsp;的解决方案。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">这一讲中，将讲述这些概念。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">AIR&nbsp;应用程序</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication&nbsp;代表了你的AIR应用程序。他在flash.desktop.pakage&nbsp;中，继承自EventDispatcher。他采用单例模式，在程序加载后被自动</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">创建。你可以用静态方法&nbsp;NativeApplication.nativeApplication获取一个引用的实例.</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">他还可以触发应用程序类型的事件，比不invoke和exiting&nbsp;以及一些应用程序的特殊属性，比如icon&nbsp;和&nbsp;systemIdleMode.有些属性是为</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">AIR&nbsp;的桌面程序创建的，不提供在移动应用程序中，比如：activewindow&nbsp;或者是opendwindows，因为移动设备中没有多个窗口。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">应用程序的打开</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">在点击图标后，你的程序开始运行，而当前运行的程序被移动到后台运行。AIR开发的应用程序与其他程序之间的导航是相同的，可以</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">可以任意切换。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">Android&nbsp;没有提供应用程序的启动界面。所以程序的启动时一个黑色的背景。测试你的应用程序，如果启动的时间很长，你必须重写</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">你的启动模块。有一个变通，你的根应用程序必须是一个简单的加载indicator&nbsp;图片。程序加载是，注册ADDED_TO_STATE&nbsp;事件，使用loader&nbsp;记载你自己的</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">Application&nbsp;。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">程序默认是没有全屏显示的，你可以通过设置应用程序配置&nbsp;来使之全屏显示&lt;fullScreen&gt;true&lt;/fullScreen&gt;。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">应用程序的关闭</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">当其他程序被选择，</span><span style="margin: 0px">AIR&nbsp;程序其实是在后台运行，而不是关闭。对于AIR&nbsp;，NativeApplication&nbsp;将会触发exiting&nbsp;事件和closing&nbsp;事件。你可以注册该事件，一遍在应用程序关闭的时候做一些自己的工作。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.desktop.NativeApplication;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.events.Event;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.dispatchEvent(Event.EXITING.onExit);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">function&nbsp;onExit(event:Event):void</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//save&nbsp;application's&nbsp;current&nbsp;state</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">在android&nbsp;中，【Settings】&#124;【Aplications】&#124;【Manager&nbsp;applications】&nbsp;强制关闭应用程序，在AIR中可以是使用一下代码强制关闭应用程序</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.exit();</span></p><span style="font-size: 14px; line-height: 21px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666">后天运行与前台运行</span><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">当应用程序转到前天或者后台运行，NativeApplication&nbsp;都会触发事件。如下：</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.addEventListerner(Event.ACTIVATE,onActivate);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativaApplication.nativeApplication.addEventListerner(Event.DEACTIVATE,onDeactivate);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">在Flash&nbsp;Player&nbsp;10.1&nbsp;中&nbsp;和AIR2.0&nbsp;中，为了考虑到内存和电池的使用寿命，做了部分改进。当应用程序在不在激活状态，程序将进入到睡眠模式，停止rendering&nbsp;和&nbsp;刷新的频率降低到4fpps。为什么是使用4，这个数字是socket&nbsp;连接必须的。如果你的AIR&nbsp;程序不需要持久的socket连接，你可以将这个值设为0。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">stage.frameRate=0;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">有些是需要保持的状态，如视屏。这个示例展示了怎么样play和暂停正在播放的视屏。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;falsh.desktop.NatvieaApplication;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.events.Event;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.media.Video;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.media.NetConnection;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.media.NetStream;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.addEventListener(Event.ACTIVATE,onActivate);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.aadEventListener(Event.DEACTIVATE,onDeActivate);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">var&nbsp;video:Video=new&nbsp;Video(640,270);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">var&nbsp;nc:NetConnection=new&nbsp;NetConnection();</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">nc.connect(null);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">var&nbsp;ns:NetStream=new&nbsp;NetStream(nc);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">video.attachNetStream(ns);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">ns.play(&quot;youmoive.mp4&quot;);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">public&nbsp;function&nbsp;onDeActivate(event:Event):void</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">ns.pause();</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">public&nbsp;function&nbsp;onActivate(event:Event):void</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">ns.play()</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">当有电话打进来的时候，在通话过程中也播放视屏是一个很差的用户体验。添加</span><span style="margin: 0px">READ_PHONE_STATE&nbsp;权限到应用程序配置文件。这样的话，AIR&nbsp;在打电话过程将会关闭声音。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&lt;user-permission&nbsp;android:name=&quot;android.permission.READ_PHONE_STATE&nbsp;&quot;?&gt;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">在应用程序返回是，使用system.gc&nbsp;方法。</span></p><span style="font-size: 14px; line-height: 21px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666">菜单，返回，搜索按钮</span><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">有一些按钮别用于系统的导航与搜索。除过Home&nbsp;按钮，其它的你可以自定义他们的事件在AIR程序中。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">注册keyboardEvent.KEY_DOWN&nbsp;事件，通过keycode&nbsp;识别按下的那个健，使用event.preventDefault()&nbsp;阻止该事件，然后使用自定义的行为。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">package</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.desktop.NativeApplication;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.display.Sprite;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.display.Stage;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.display.StageAlign;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.events.Event;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.events.KeyboardEvent;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">import&nbsp;flash.ui.Keyboard;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//&nbsp;replace&nbsp;Sprite&nbsp;for&nbsp;MovieClip&nbsp;if&nbsp;using&nbsp;Flash&nbsp;Professional</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">public&nbsp;class&nbsp;AirApplication&nbsp;extends&nbsp;Sprite</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">public&nbsp;function&nbsp;AirApplication()</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">stage.align&nbsp;=&nbsp;StageAlign.TOP_LEFT;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">stage.addEventListener(KeyboardEvent.KEY_DOWN,&nbsp;onKey);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.addEventListener(Event.ACTIVATE,&nbsp;onActivate);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">NativeApplication.nativeApplication.addEventListener(Event.DEACTIVATE,&nbsp;onDeactivate);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">private&nbsp;function&nbsp;onKey(event:KeyboardEvent):void&nbsp;&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">switch(event.keyCode)&nbsp;&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">case&nbsp;Keyboard.BACK&nbsp;:</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">event.preventDefault();</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">trace(&quot;back&quot;);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//&nbsp;go&nbsp;back&nbsp;within&nbsp;AIR&nbsp;application</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">break;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">case&nbsp;Keyboard.MENU&nbsp;:</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">event.preventDefault();</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">trace(&quot;menu&quot;);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//&nbsp;display&nbsp;custom&nbsp;menu</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">break;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">case&nbsp;Keyboard.SEARCH&nbsp;:</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">event.preventDefault();</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">trace(&quot;search&quot;);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//&nbsp;use&nbsp;as&nbsp;a&nbsp;help&nbsp;button&nbsp;or&nbsp;debug&nbsp;tool</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">break;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">private&nbsp;function&nbsp;onActivate(event:Event):void&nbsp;&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">stage.frameRate&nbsp;=&nbsp;24;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">trace(&quot;application&nbsp;in&nbsp;foreground&quot;);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">private&nbsp;function&nbsp;onDeactivate(event:Event):void&nbsp;&#123;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">stage.frameRate&nbsp;=&nbsp;4;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">trace(&quot;application&nbsp;in&nbsp;background&quot;);</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//&nbsp;to&nbsp;shut-down&nbsp;application,&nbsp;uncomment&nbsp;following&nbsp;line</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//&nbsp;NativeApplication.nativeApplication.exit();</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#125;</span></p><span style="font-size: 14px; line-height: 21px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666">在移动设备上保存数据</span><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">保存数据时应用程序必备的功能，如程序在后天运行，或者被关闭后，保存程序配置信息等。</span></p><span style="font-size: 14px; line-height: 21px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666">内部与外部存储</span><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">以下列出一些目录：</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">内部的一些存储：File.ApplicationDirectory&nbsp;,是应用程序的安装目录，在这个目录是只读的。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">File.ApplicationStorageDirectory&nbsp;是应用程序的存储目录，使用这个目录可以保存大量的数据，和用户设置等。如果应用程序被删除的话，这个目录也会被删除。</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">外部的一些存储：</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">File.documentsDirectory&nbsp;,File.userDirectory,File.desktopDirectory&nbsp;等。可以保存大的数据，如图片，视屏，和临时文件。访问这些文件的全选是：</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&lt;uses-permision&nbsp;android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;,在使用之前，确认是否有sd卡：</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">If(File.userDirectory==true)</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">//proceed&nbsp;with&nbsp;saving&nbsp;data</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">一下变量所指的目录：</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">App:/</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">File.applicationDirectory</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">/data/data/app.appId/app/assets</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#124;app-storage:/</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">/data/data/app.appID/appID/Local&nbsp;Store</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#124;File.applicationStorageDirectory</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">/data/data/app.appID/appID/LOcal&nbsp;Store</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#124;File.documentsDirectory</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">File.userDierecory</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">File.desktopDirectory</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">/sdcard</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">&#124;File.createTempDirectory()</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">File.createTempFile()</span></p><p style="margin: 0px 0px 0.5em; padding: 0px; font-size: 14px; font-family: 'Microsoft Yahei', Georgia, 'Times New Roman', Times, STHeiti, serif; color: #666666; line-height: 20px"><span style="margin: 0px">/data/data/app.appId/cache</span></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">转自http://www.51as.com/post/2012-03-16/16603858</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5330</link>
<title><![CDATA[AIR for Android (三) 摄像头和相册]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:04:47 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5330</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">使用手机摄像头</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">要使用手机设备的摄像头有两种方式，一种是用传统的Camera和Video相互绑定的方式。另一种则是使用新提供的CameraUI类来调用手机原生的照相机应用。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">它们各自有各自的优点缺点，使用传统方法，可以让你自定义你的照相机APP的外观，功能等。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">而用CameraUI的话则可以允许你调用一个已经开发的相对比较完备的照相机app，可以省去你许多时间。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">假如你要做类似Camera360那种app的话，那么可能只能用传统方式来定制你的app，包括实时的滤镜效果等等。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">而如果你的app只是在用户拍摄的相片上做文章的话，用CameraUI然后获取拍摄后的数据进行操作就行了。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(自己测试了一下，传统的方式在手机上运行非常卡)</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">CameraUI方式的调用</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">flash.media.CameraUI;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">flash.meida.MediaPromise;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">flash.media.MediaType;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">我们会用到上面三个类。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">//检测设备是否支持CameraUI</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(CameraUI.isSupported)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//检查cameraUI对象是否为空，只有在第一次单击时才进行实例化</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(cameraUI&nbsp;==&nbsp;null)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraUI.addEventListener(MediaEvent.COMPLETE,onMediaComplete);//拍摄完成事件的侦听</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraUI.addEventListener(Event.CANCEL,onMediaCancel);//取消拍摄的侦听</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraUI.addEventListener(ErrorEvent.ERROR,onMediaError);//出错</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//启动手机中的照相程序，这里使用了MediaType的IMAGE属性。那么如果用VIDEO的话就是打开录像</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraUI.launch(MediaType.IMAGE);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">function&nbsp;onMediaComplete(event:MediaEvent):void</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mediaData:MediaPromise&nbsp;=&nbsp;event.data;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_loader.loadFilePromise(mediaData);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">使用传统方式调用摄像头、写入照片到媒体库及打开媒体库</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">flash.media.CameraRoll;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">flash.media.Video;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">flash.media.Camera;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">我们会用到上面的三个类。其中下面两个是很熟悉的。第一个类就是可以用来让我们访问媒体库的类</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">//先判断cam是否为空，因为系统当前可能没有可用的摄像头</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(cam&nbsp;!=&nbsp;null)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cam.setMode(v.width,v.height,30);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cam.setQuality(0,0);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;video.attachCamera(cam);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">//点击拍照按钮后执行的内容</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">function&nbsp;onClick(event:MouseEvent):void&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bd:BitmapData&nbsp;=&nbsp;new&nbsp;BitmapData(v.width,v.height,false,0xFFFFFF);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bd.draw(video);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;video.attachCamera(null);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;btn.mouseEnabled&nbsp;=&nbsp;false;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(CameraRoll.supportsAddBitmapData)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraRoll.addBitmapData(bd);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">//点击了打开媒体库按钮后执行内容</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">function&nbsp;onClick(event:MouseEvent):void&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//判断是否支持browseForImage方法</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(CameraRoll.supportsBrowseForImage&nbsp;==&nbsp;true)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(cameraRoll&nbsp;==&nbsp;null)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraRoll&nbsp;=&nbsp;new&nbsp;CameraRoll();</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraRoll.addEventListener(MediaEvent.SELECT,onMediaSelect);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraRoll.addEventListener(Event.CANCEL,onMediaCancel);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraRoll.addEventListener(ErrorEvent.ERROR,onMediaError);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cameraRoll.browseForImage();</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">在选择了图片之后，可以用CameraUI中提到的方法，用loader加载MediaPromise格式的数据。</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5329</link>
<title><![CDATA[AIR for Android (二) 整合系统程序]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:04:21 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5329</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">使用URI调用系统程序</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">AIR共支持以下三种自定义URI</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(1)tel:调用电话拨号程序</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(2)sms:调用发送短信接口程序</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(3)mailto:调用邮件发送接口程序</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">所有请求通过navigateToURL方法来发送</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">美中不足的是以上的方法并不能直接执行打电话，发短信和发邮件的操作，而是调用手机的应用界面。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">拨号程序和短信接口程序的调用很类似，如下分别是给138...5073这个号码打电话和发短信</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">navigateToURL(new&nbsp;URLRequest(&quot;tel:138...5104&quot;));</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">navigateToURL(new&nbsp;URLRequest(&quot;sms:138...5104&quot;));</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">发送邮件可以附送一些额外的参数，如下：</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">cc:抄送地址</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">bcc:密送地址</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">subject:邮件标题</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">body:邮件内容</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">mailto后跟收件人的地址，然后通过?号附带参数，参数与参数之间用&amp;连接</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&quot;mailto:yctcjlq@126.com?cc:1476324395@qq.com,10086@qq.com&amp;bcc:1476324395@qq.com&amp;subject:test&amp;body:test&quot;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">当然，你也可以把所有参数留空直接调用邮箱界面。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">Android自带的地图服务</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">Android系统会自动将所有指向Google地图网站(maps.google.com或者ditu.google.cn)的HTTP请求解释为</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">var&nbsp;url=&quot;http://ditu.google.cn/?&#124;&#124;=30.251913,120.134972&amp;z=18&quot;;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">navigateToURL(new&nbsp;URLRequest(url));</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">这样操作后手机会自动弹出选项让用户选择查看地图的app(浏览器或者地图app)</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">上面的地址中发现了通过?号附带了两个参数&#124;&#124;和z，那么还有很多别的参数如下：</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">q:查询参数，可以是经纬度或者地名(q=30,121或者q=餐厅都行)</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">11:设置以经纬度坐标为地图中心(11=31,121)</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">s11:查询坐标附近的商业信息(q=encodeURI(餐馆)&amp;s11=31,121)</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">saddr:路线导航的起点</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">daddr:路线导航的终点</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(http://ditu.google.cn/?saddr=杭州市&amp;daddr=武汉市)</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">z:地图的缩放级别</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">t:地图的类型，目前只支持两种，为h表示卫星地图，为空则为普通地图</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">StageWebView浏览器</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">它和HTMLLoader类似，但是有一些差异，以下简称为S和H</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(1)S使用系统的web空间来呈现内容，这导致在不同设备上可能显示效果不同，而H总是使用AIR内置的webkit引擎</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(2)S不是显示对象，不能添加进显示列表。要用的时候是讲它的stage属性设置成当前舞台，S被置于舞台的最上层，任何显示列表里的对象都在它下面。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">(3)S不支持脚本交互，我们无法在网页内容中使用JS和AS交互，而H可以实现该功能。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px"><br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">webview&nbsp;=&nbsp;new&nbsp;StageWebView();//实例化</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">webview.stage&nbsp;=&nbsp;this.stage;//绑定舞台</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">webview.viewPort&nbsp;=&nbsp;new&nbsp;Rectangle(0,0,stage.stageWidth,stage.stageHeight);//设置大小</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">webview.addEventListener(Event.COMPLETE,onPageLoaded);//侦听页面加载完成事件</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">webview.addEventListener(LocationChangeEvent.LOCATION_CHANGE,onURLChanged)//侦听页面定位改变事件</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">webview.loadURL(&quot;http://www.google.com&quot;);//加载页面</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(webview.isHistoryEnabled)&#123;//判断是否有上一页</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webview.historyBack();//跳转至上一页</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(webview.isHistoryForwardEnabled)&#123;//判断是否有下一页</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webview.historyForward();//跳转至下一页</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5328</link>
<title><![CDATA[AIR for Android (一) 手机设备检测]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Mon, 12 Aug 2013 14:03:37 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5328</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">（1）判断设备是否支持触摸事件</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(Multitouch.supportsTouchEvents)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//把模式设置为基础触摸模式</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multitouch.inputMode&nbsp;=&nbsp;MultitouchInputMode.TOUCH_POINT;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">（2）判断设备是否支持手势，以下的方式适用于真机，但是在用CS6模拟器的时候就无法模拟了</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">var&nbsp;index:int&nbsp;=&nbsp;-1;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(Multitouch.supportedGestures&nbsp;!=&nbsp;null&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;=&nbsp;Multitouch.supportedGestures.indexOf(TransformGestureEvent.GESTURE_ZOOM);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(Multitouch.supportsTouchEvents&nbsp;&amp;&amp;&nbsp;index&nbsp;!=&nbsp;-1)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multitouch.inputMode&nbsp;=&nbsp;MultitouchInputMode.GESTURE;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">supportedGestures是一个Vector类型的数组，包含了设备支持的所有手势类型。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">每个元素代表一个事件类型，如果设备任何一个手势都不支持，supportedGestures的值为null</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">因此，要检测设备是否支持某个手势，可以使用Vector的indexOf方法进行查找，确保代码在设备上能够运行。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">那么如果是在CS6模拟器中模拟测试的话，可以像（1）中那样只判断一项。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">（3）判断设备的状态&mdash;&mdash;激活/后台运行</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">//Event.ACTIVATE&nbsp;为激活状态</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">NativeApplication.nativeApplication.addEventListener(Event.ACTIVATE,appStatusHandler);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">//Event.DEACTIVATE为后台运行状态</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">NativeApplication.nativeApplication.addEventListener(Event.DEACTIVATE,appStatusHandler);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">某些程序在运行时需要不断的渲染，很占用资源，当手机设备回到主桌面的时候，程序就进入了后台运行状态</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">这个时候为了节省资源，应该为后台运行状态设置一套专用的解决方案。例如暂停渲染、移除加速计的检测等等</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">（4）判断设备是否有加速计</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(Accelermeter.isSupported)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//实例化加速计对象</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myAcc&nbsp;=&nbsp;new&nbsp;Accelerometer();</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myAcc.addEventListener(AccelerometerEvent.UPDATE,onUpdate);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">（5）判断设备是否支持定位</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">if(Geolocation.isSupported)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(geoloc.muted&nbsp;==&nbsp;false)&#123;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//更新间隔为10秒</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geoloc.setRequestedUpdateInterval(10000);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geoloc.addEventListener(GeolocationEvent.UPDATE,onGeoUpdate);</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">&#125;</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">在检测完设备时候有定位系统后，还要通过检测muted属性是否为false，因为用户可以手动关闭定位功能。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">另外在权限中需要使用到设备的INTERNET,ACCESS_COARSE_LOCATION,ACCESS_FINE_LOCATION。</p><p style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px">如果没有添加这些权限，那么muted始终会是true。处于静默状态。</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5326</link>
<title><![CDATA[Flex编译器参数中-swf-version与-target-player之关系]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Sun, 11 Aug 2013 09:35:28 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5326</guid> 
<description>
<![CDATA[ 
	<a href="http://zengrong.net/post/1486.htm">http://zengrong.net/post/1486.htm</a><br /><br /><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">在<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://opensource.adobe.com/wiki/display/flexsdk/Download+Flex+4.6">Flex 4.6 SDK</a>中，可以发现framework/flex-config.xml中的默认-swf-version的值变成了14，而-target-player则变成了11.1。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">记得在<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://zengrong.net/post/1244.htm">Flash Player 10.2发布</a>的时候，为了使用Flash 10.2提供的原生位图鼠标光标功能，需要在编译的时候将-swf-version编译器属性值设置为11。以此推算，14这个值是针对Flash Player 11.1的。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">那么-swf-version和-target-player的对应关系如何？见下表：</p><table border="0" style="margin: 5px 0px 10px; padding: 0px; border: 2px solid #cccccc; font-size: 13px; vertical-align: baseline; border-collapse: collapse; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif"><tbody><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">Flash Player</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">AIR</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">Flex</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">-swf-version</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">-target-player</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">发布日期</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">9</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">&nbsp;</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">9</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">9</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.0</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">1.5</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">4.0</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.0.0</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.1</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2.0/2.5</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">4.1</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.1.0</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.2</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2.6</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">4.5/4.5.1</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.2.0</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2011-2-9</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.3</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2.7</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">12</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">10.3.0</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.0</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.0</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">13</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.0.0</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2011-10-4</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.1</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.1</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">4.6</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">14</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.1</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2011-11-7</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.2</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.2</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">15</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.2</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2012-3-28</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.3</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.3</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">16</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.3</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2012-6-8</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.4</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.4</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">Adobe Flex 4.6/Apache Flex 4.8</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">17</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.4</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2012-8-21</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.5</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.5</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">Adobe Flex 4.6/Apache Flex 4.8</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">18</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.5</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2012-11-06</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.6</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.6</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">Adobe Flex 4.7/Apache Flex 4.9</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">19</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.6</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2013-02-12</td></tr><tr style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline"><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.7</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">3.7</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">Adobe Flex 4.7/Apache Flex 4.9</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">20</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">11.7</td><td style="margin: 0px; padding: 3px 10px; border: 1px solid #cccccc; font-size: 13px; vertical-align: top">2013-04-09</td></tr></tbody></table><h2 style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 20px; vertical-align: baseline; line-height: 26px; color: #555555; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">-target-player和-swf-version</h2><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">上面的这份表格，一部分是根据<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7ee0.html">Targeting Flash Player versions</a>整理出来的，最新的部分是我自己根据Flash Player/AIR的更新不断增加的。但这个表格是<strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline">不精确</strong>的。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">因为，-swf-version的值能支持到那个程度，其实与Flex SDK并没有直接的关系，而是依赖于Flex SDK中的playerglobal.swc（位于frameworks/libs/player）。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">打开Flex 4.6 SDK的frameworks/libs/player文件夹，可以看到其中只有一个11.1子文件夹，放置着针对Flash Player 11.1的playerglobal.swc。这个swc的作用有2个：<br />（这里是基于Flex SDK和Flash Builder讲解，如果你使用Flash Professional，可以看这里：<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://zengrong.net/post/1568.htm">让Flash支持更新的Flash Player功能</a>）</p><ol style="margin: 0px 30px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7"><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px">在程序编写期间，Flash Builder使用它来提供自动完成功能。当然，如果直接用mxml编译器（<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://zengrong.net/post/1307.htm">比如我</a>），就没多大关系；</li><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px">在程序编译期间，mxmlc编译器需要调用它。</li></ol><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">那么-target-player是干嘛的？它用来告诉Flex编译器，在哪里去找playerglobal.swc。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">在Flash Builder 4.6 的项目的 ActionScrip编译器 设置中，可以设置-target-player参数的值。默认是&ldquo;使用SDK所需的最低版本&rdquo;。对于我目前安装的Flex SDK 4.6来说，这个&ldquo;最低版本&rdquo;就是11.1。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">而我们可以使用特定的版本，例如下图中是11.2.0。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">在程序编写期间，Flash Builder会自动去frameworks/libs/player/11.2这个目录中寻找playerglobal.swc，如果找不到，一些11.2才支持的功能（例如MouseEvent.RIGHT_CLICK）就无法得到语法提示。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">而在调试和发布程序的时候，编译器使用frameworks/libs/player/11.2/playerglobal.swc进行编译。如果依然找不到这个文件，编译会报错无法打开&ldquo;D:&#92;flex_sdks&#92;4.6.0&#92;frameworks&#92;libs&#92;player&#92;11.2&#92;playerglobal.swc&rdquo;，如下图所示：</p><h2 style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 20px; vertical-align: baseline; line-height: 26px; color: #555555; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">不同步性</h2><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">在每个新版本的Flash Player 发布的时候，Adobe都一起提供了playerglobal.swc文件，而且会在发布文档中说明这个版本的Flash Player对应的-swf-version是多少。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">因为SDK的发布，和Flash Player的发布<strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline">并非总是同步的</strong>。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">在Flash 8时代，编译器和Flash Player是完全同步的。因为那时，只有Flash IDE可以生成swf文件。而Flex问世，以及MacroMedia被Adobe收购以后，Flash的发展就变得多样了，FlashIDE和Flex都可以生成swf文件，Flash Player的发展也更加独立。现在的情况，Flash CS，Flash Builder，Flex SDK，Flash Player的发布已经完全不同步了。尤其是当Adobe将Flex SDK交给Apache发展后，SDK的更新速度估计会更快。Adobe自己又会紧紧将Flash Player攥在手里，保持自己的步调来更新。（关于这段历史，我在<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://zengrong.net/post/1295.htm">Actionscript,AS3,MXML,Flex,Flex Builder,Flash Builder,Flash,AIR,Flash Player之关系</a>一文中做了详述）</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">Flex SDK可以和不同版本的Flash Player相配。即使是使用Flex SDK 3.6，同样也可以开发出Flash Player 11.1支持的swf程序。（当然，前提是不使用Flex frameworks提供的组件，仅仅使用Flash Player提供的API）。通过使用不同版本Flash Player提供的playerglobal.swc文件，就可以让旧的Flex SDK兼容新的-swf-version和 -target-player编译属性。当然，也可以让新的Flex SDK兼容旧的-swf-version和-target-player。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">例如，目前Adobe官方提供的最新版（也是Adobe Flex的最终版，因为后面会更名为Apache Flex SDK）Flex SDK版本为4.6。根据Adobe的说法，这个版本的Flex SDK的最低支持的-target-player为11.1。这是因为frameworks/libs/player中仅仅提供了11.1版本的playerglobal.swc。我们可以将其他版本的playerglobal.swc复制到该目录下，并修改frameworks/flex-config.xml中的target-player标签，以改变Flex SDK默认编译的swf目标。当然，更方便和灵活的做法是在Flex项目的编译属性中设置-target-player属性。</p><p style="margin: 0px 0px 22px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7">这里还有一篇文章介绍：<a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" href="http://blogs.adobe.com/airodynamics/2011/08/16/versioning-in-flash-runtime-swf-version/">Versioning in Flash Runtime (-swf-version)</a></p><div class="yarpp-related" style="margin: 0px; padding: 0px; border: 0px; font-size: 13px; vertical-align: baseline; color: #333333; font-family: 'Microsoft YaHei', Simsun, Tahoma, Arial, Helvetica, sans-serif; background-color: #f7f7f7"><hr style="margin: 22px 0px; padding: 0px; color: #dddddd; background-color: #dddddd; height: 1px; border: 0px" /><div class="add-info" style="margin: 0px; padding: 0px 10px; border: 0px; vertical-align: baseline"><h3 style="margin: 0px 0px 5px; padding: 0px; border: 0px; font-size: 12px; vertical-align: baseline; line-height: 16px; color: #4a630f; background-color: #e5e5e5">关联文章</h3><ol style="margin: 0px 30px 22px; padding: 0px; border: 0px; vertical-align: baseline"><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px"><a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" rel="bookmark" href="http://zengrong.net/post/1295.htm" title="Actionscript,AS3,MXML,Flex,Flex Builder,Flash Builder,Flash,AIR,Flash Player之关系">Actionscript,AS3,MXML,Flex,Flex Builder,Flash Builder,Flash,AIR,Flash Player之关系</a></li><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px"><a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" rel="bookmark" href="http://zengrong.net/post/330.htm" title="[转]ADOBE FLEX 2 全套下载!">[转]ADOBE FLEX 2 全套下载!</a></li><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px"><a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" rel="bookmark" href="http://zengrong.net/post/1318.htm" title="Flash Builder 4.5正式版下载/插件版安装">Flash Builder 4.5正式版下载/插件版安装</a></li><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px"><a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" rel="bookmark" href="http://zengrong.net/post/1244.htm" title="Flash Player 10.2新特性">Flash Player 10.2新特性</a></li><li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; line-height: 22px"><a style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: #05a705; text-decoration: none; outline: none" rel="bookmark" href="http://zengrong.net/post/1206.htm" title="Flash Builder编译的swf为什么在bin-debug下运行正常，复制到其他文件夹就不正常？">Flash Builder编译的swf为什么在bin-debug下运行正常，复制到其他文件夹就不正常？</a></li></ol></div></div>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?5325</link>
<title><![CDATA[starling 入门]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[FLEX&amp;AS]]></category>
<pubDate>Fri, 09 Aug 2013 07:59:25 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5325</guid> 
<description>
<![CDATA[ 
	http://farwmarth.com/?p=843<br /><br /><a href="attachment.php?fid=1788">点击这里下载文件</a>
]]>
</description>
</item>
</channel>
</rss>