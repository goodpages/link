<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>flex——快速词法分析器生成器 - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="read.php-648.htm" tppabs="http://i.renjihe.com/blog/read.php?648" title="上一篇 Lemon中文手册 "><img src="toolbar_previous.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_previous.gif" alt='' border='0'/>Lemon中文手册 </a></div>
	<div class="next-article"><a href="read.php-651.htm" tppabs="http://i.renjihe.com/blog/read.php?651" title="下一篇 完成了Lua的词法分析部"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>完成了Lua的词法分析部</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Nov</span>
	<span class="textbox-calendar-day">15</span>
	</div>
	<div class="textbox-title">
		<h4>
		flex——快速词法分析器生成器 <span id="starid649"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 15:14 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="查看分类： 编译原理">编译原理</a> , <a href="read.php-649.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?649#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb649");'>引用(0)</a> , <a href="read.php-649.htm" tppabs="http://i.renjihe.com/blog/read.php?649">阅读(77)</a> ,  Via 本站原创 <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="字体大小" border='0'/> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="read.php-6559.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_649"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="订阅本文" border='0'/></a> <a href="read.php-6558.htm" tppabs="http://i.renjihe.com/blog/read.php?save_649"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="保存本文为文本文档" border='0'/></a></span>
		</div>
	</div>
	<div id="tb649" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	<div dir="ltr">Flex的手册，版本2.5.35，发布是在遥远的07年，原帖在<a rel="nofollow" href="javascript:if(confirm('http://flex.sourceforge.net/article/content/201602/17/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://flex.sourceforge.net/article/content/201602/17/'" tppabs="http://flex.sourceforge.net/manual/"><span style="color: #0066cc">这里</span></a>。<br /><br /><p></p><h3><a name="TOC-1"></a>目录</h3><ol><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s1'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s1"><span style="color: #551a8b">介绍</span></a><br /></li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s2'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s2"><span style="color: #551a8b">简单例子</span></a> </li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s3'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s3"><span style="color: #551a8b">基本的三段格式</span></a> </li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s4'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s4"><span style="color: #551a8b">模式</span></a> </li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s5'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s5"><span style="color: #551a8b">匹配</span></a><br /></li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s6'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s6"><span style="color: #551a8b">动作</span></a><br /></li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s7'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s7"><span style="color: #551a8b">输出词法分析器</span></a><br /></li><li><a href="javascript:if(confirm('http://sites.google.com/cn/app/ar-magic-cards/read.php?6557  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://sites.google.com/cn/app/ar-magic-cards/read.php?6557#s8'" tppabs="http://sites.google.com/site/crystalsnowblog/frontpage/flex#s8"><span style="color: #551a8b">上下文</span></a> </li></ol><h2><a name="s1"></a></h2><h2><a name="s1"></a><span style="color: #0066cc">1.</span> 介绍</h2><span style="color: #ff0000">flex</span>s是一个用来生成<strong>扫描器</strong>的工具。所谓<strong>扫描器</strong>就是可以从文本流中探测出词法模式的程序，也叫词法分析器。flex读取由一系列<strong>规则</strong>构成的文件作为输入，输出等效的C代码，默认的输出文件名是<span style="color: #006000; font-family: Courier New">lex.yy.c</span>，其中最主要的例程叫<span style="color: #006000; font-family: Courier New">yylex()</span>。接下来可以编译链接这个C程序，得到的可执行文件是一个unix上典型的filter程序（如果你知道grep，sed的话，想必知道是个什么）。这个filter用rules中的正则表达式分析输入，当正则表达式（模式）匹配时，就执行相应的C代码（rules中的动作）。<br /><br />Fex并不是GNU软件，但由GNU负责打包发布。<br /><br /><h2><a name="s2"></a><span style="color: #0066cc">2.</span> 简单例子</h2>在正文的开始，我们用几个最简单的例子让您了解flex的用途。<br /><br />下面的<span style="color: #006000; font-family: Courier New">flex</span>程序将输出一个扫描器，它的作用是替换输入文件中所有的<span style="color: #006000; font-family: Courier New">username</span>为当前登陆用户的用户名，其它部分不变，并在输出到标准输出。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%% <br />username printf(&quot;%s&quot;, getlogin());</span></span></div><br />在这段flex程序段中，只有一条规则，左边的<span style="color: #006000; font-family: Courier New">username</span>是规则中的模式部分，而右边的<span style="color: #006000; font-family: Courier New">printf</span>语句则是动作部分。<span style="color: #006000; font-family: Courier New">%%</span>符号标记规则部分的开始。<br /><br />这是另一个简单例子：<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">int num_lines = 0,num_chars = 0;<br /><br />%% <br />&#92;n<span>&nbsp;&nbsp;&nbsp; </span>++num_lines; ++num_chars;<br />.<span>&nbsp;&nbsp;&nbsp;&nbsp; </span>++num_chars;<br /><br />%%<br />int main(void)<br />&#123;<br /><span>&nbsp;&nbsp;&nbsp; </span>yylex();<br /><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;# of lines = %d, # of chars = %d&#92;n&quot;, <br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>num_lines, num_chars);<br />&#125;<br /></span></div><br />生成的扫描器计算输入的字节数和行数。除了最后的打印语句，它不产生任何输出。我们看到第一行声明了两个全局变量，<span style="color: #006000; font-family: Courier New">'num_lines'</span>和<span style="color: #006000; font-family: Courier New">num_chars'</span>，它们在整个程序中都可见。这里有两条规则，第一条匹配<span style="color: #006000; font-family: Courier New">'&#92;n'</span>字符，第二条匹配之外的所有字符，并在动作部分执行对应的计数器增操作。<br /><br />一个略微不那么简单的例子：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">/* 扫描器 for a toy Pascal-like language */<br />%&#123;<br />/* 包含math.h，我们会用到atof() */<br />#include &lt;math.h&gt;<br />%&#125;<br /><br />DIGIT<span>&nbsp;&nbsp;&nbsp; </span>[0-9]<br />ID<span>&nbsp;&nbsp; &nbsp;</span></span></span><span><span style="color: #006000; font-family: Courier New">&nbsp;&nbsp; [a-z][a-z0-9]*<br /><br />%%<br /><br />&#123;DIGIT&#125;+<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;An integer: %s (%d) &#92;n&quot;, yytext,<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;</span><span>&nbsp; aatoi(yytext)</span>);<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />&#123;DIGIT&#125;+&quot;.&quot;&#123;DIGIT&#125;*<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;A float: %s (%g)&#92;n&quot;, yytext, <br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>atof(yytext));<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />if&#124;then&#124;begin&#124;end&#124;procedure&#124;function<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;A Keyword: %s&#92;n&quot;, yytext);</span><span style="color: #006000"><span style="font-family: Courier New"><span>&nbsp;&nbsp; <br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />&#123;ID&#125;<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;An identifier: %s&#92;n&quot;, yytext);<br /><br />&quot;+&quot;&#124;&quot;-&quot;&#124;&quot;*&quot;&#124;&quot;/&quot;<span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;An operator: %s&#92;n&quot;, yytext);<br /><br />&quot;&#123;&quot;[&#92;^&#123;&#125;&#92;n]*&quot;&#125;&quot;&nbsp;&nbsp;&nbsp; /* 过滤行注释 */<br /><br />[ &#92;t&#92;n]+<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>/* 过滤空白 */<br /><br />.<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;Unrecognized character: %s&#92;n&quot;, yytext);<br /><br />%% <br /><br /></span>int main(int argc, char *argv[])<br />&#123;<br /><span>&nbsp;&nbsp;&nbsp; </span>++argv, --argc;<span>&nbsp;&nbsp;&nbsp; </span>/* 跳过argv[0] */<br /><span>&nbsp;&nbsp;&nbsp; </span>if (argc &gt; 0) &#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>yyin = fopen(argv[0], &quot;r&quot;);<br /><span>&nbsp;&nbsp;&nbsp; </span>&#125; else &#123;<br /><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp;&nbsp; </span>yyin = stdin;<br /><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br /><span>&nbsp;&nbsp;&nbsp; </span>return yylex();<br />&#125;</span></span></span><br /></div><br /><span style="color: #006000; font-family: Courier New">这是一个简陋的类-pascal语言的词法分析器，它仅仅找出并报告识别的所有记号及其属性。<br /><br /></span><h2><a name="s3"></a><span style="color: #0066cc">3.</span> 基本的三段格式</h2>每个flex程序最多可以包含三部分，之间以符号<span style="color: #006000; font-family: Courier New">&quot;%%&quot;</span>分隔。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">&nbsp; 定义段<br />%%<br />&nbsp; 规则段<br />%%<br />&nbsp; C代码段</span></span> </div><br /><h3><a name="s3.1"></a><span style="color: #0066cc">3.1</span> 定义段</h3>定义段可以为正则表达式定义alias（同义词），它们可以用在规则段内，alias的格式是：<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">名字&nbsp;&nbsp; 正则表达式定义</span></span></div><br />名字遵循C标识符的惯例，不能数字开头。当从第二个字符开始可以使用<span style="color: #006000; font-family: Courier New">&lsquo;-&rsquo;</span>符号。正则表达式的定义从名字后的第一个非空白符开始直到行尾。在规则段中，可以用<span style="color: #006000; font-family: Courier New">&#123;name&#125;</span>的形式引用定义段中的正则表达式，例如，假设有名字定义为：<br /><div class="sites-codeblock sites-codesnippet-block"><br /><span style="color: #006000"><span style="font-family: Courier New">DIGIT<span>&nbsp;&nbsp;&nbsp; </span>[0-0]<br />ID<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[a-z][a-z0-9]</span></span></div><br />那么<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">&#123;DIGIT&#125;+&quot;.&quot;&#123;DIGIT&#125;*</span></div>等价于<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">[9-0]+&quot;.&quot;[0-9]*</span></div><br />在flex程序中，一个不缩进的注释（由<span style="color: #006000; font-family: Courier New">'/*'</span>开头的行，由<span style="color: #006000; font-family: Courier New">&quot;*/&quot;</span>封闭）被保留注释原样复制到输出C文件中，<br /><br />所有缩进的文本或者包含在一对<span style="color: #006000; font-family: Courier New">&quot;%&#123;&quot;</span>和<span style="color: #006000; font-family: Courier New">&quot;%&#125;&quot;</span>之间的文本也被原样复制到输出，一对<span style="color: #006000; font-family: Courier New">&quot;%&#123;&quot;</span>和<span style="color: #006000; font-family: Courier New">&quot;%&#125;&quot;</span>必须顶格（不能缩进）。<br /><br />一个<span style="color: #006000; font-family: Courier New">&quot;%top&quot;</span>块和<span style="color: #006000; font-family: Courier New">&quot;%&#123;&quot;</span>块类似，但在输出文件中，任何<span style="color: #006000; font-family: Courier New">&quot;%top&quot;</span>快必然在<span style="color: #006000; font-family: Courier New">&quot;%&#123;&quot;</span>块之前，例如：<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%top &#123; <br /><span>&nbsp;&nbsp;&nbsp; </span>/* 下面的代码会放置在生成文件的顶部 */<br /><span>&nbsp;&nbsp;&nbsp; </span>#include &lt;stdint.h&gt;<br /><span>&nbsp;&nbsp;&nbsp; </span>#incloude&lt;inttypes.h&gt;<br />&#125;</span></span></div><br />可以有多个<span style="color: #006000; font-family: Courier New">%top</span>块，之间的顺序在输出文件中保持不变。<br /><h3><a name="s3.2"></a><span style="color: #0066cc">3.2</span> 规则段</h3>规则段的基本格式是：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">模式<span>&nbsp;&nbsp;&nbsp; </span>动作</span></span></div><br />这里的模式<span style="color: #ff0000">必须</span>是不缩进的，代表匹配用的正则表达式，而动作的开头必须与对应模式在同一行。<br /><br />在本段中，缩进的或者在一对<span style="color: #006000; font-family: Courier New">&quot;%&#123;&quot;</span>和<span style="color: #006000; font-family: Courier New">&quot;%&#125;&quot;</span>之间的文本，如果出现在第一条规则之前，将出现在<span style="color: #006000; font-family: Courier New">yylex</span>函数的函数体内部最上面，可以用来定义<span style="color: #006000; font-family: Courier New">yylex()</span>的内部变量，或者代码，这些代码将在每次函数被调用时被执行。<br /><br />如果出现在第一条规则之后，这些代码的意义是依赖于实现的。<br /><br /><h3><a name="s3.3"></a><span style="color: #0066cc">3.3</span> C代码段</h3>用户代码被原样复制，如果这一段为空，第二个<span style="color: #006000; font-family: Courier New">%%</span>可以省略。<br /><h3><a name="s3.4"></a><span style="color: #0066cc">3.4</span> 注释</h3>Flex支持C89风格的注释，它们将原样复制到输出中。注释可以出现在任何地方，除了：<br /><ul><li>在规则段中，当flex期望读取正则表达式时，不能出现注释。 </li><li>在定义段的以<span style="color: #006000; font-family: Courier New">&quot;%option&quot;</span>起始的行。</li></ul>如果希望遵循某种绝对安全的规则，我们建议总是为注释另起一行，且在最左边保留若干空白符。<br />下面的例子直观的说明了各个段的意义，这里出现的注释都是可接受的。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">%&#123;<br />/* 代码块 */<br />%&#125;<br /><br />/* 定义段 */<br />%x STATE_X<br /><br />%%<br /><br /><span>&nbsp;&nbsp;&nbsp; </span>/* 规则段 */<br /><br />ruleA<span>&nbsp;&nbsp;&nbsp; </span>/* 在模式之后 */ &#123; /* 代码块 */ &#125; /* 代码块之后 */<br /><span>&nbsp;&nbsp;&nbsp; </span>/* 规则段 (缩进) */<br /><br />&lt;STATE_X&gt;&#123;<br />ruleC ECHO;<br />ruleD ECHO;<br />%&#123;<br />/* 代码段 */<br />%&#125;<br /><br />&#125;<br /><br />%%<br />/* 用户代码段 */<br /></span></div><br /><br /><h2><a name="s4"></a><span style="color: #0066cc">4.</span> 模式</h2>正则表达式的文档建议参看&quot;Master Regular Expression&quot;。<br /><table border="1" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #888888" bordercolor="#080808"><tbody><tr><th style="width: 151px; height: 16px; text-align: center">&nbsp; 模式<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;</span><span>&nbsp; </span><br /></th><th style="width: 337px; height: 16px; text-align: center">&nbsp; 匹配<br /></th></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">x</span></td><td style="width: 337px; height: 16px">&nbsp;字符x</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;.</span></td><td style="width: 337px; height: 16px">&nbsp;任何字符(除了newline)</td></tr><tr><td style="width: 151px; height: 16px"><div style="margin-left: 40px"><span style="color: #006000; font-family: Courier New">&nbsp;[xyz]</span></div></td><td style="width: 337px; height: 16px">&nbsp;字符类(x或y或z)</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;[abj-oZ]</span></td><td style="width: 337px; height: 16px">&nbsp;字符类，j-o表示范围</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;[^A-Z]</span></td><td style="width: 337px; height: 16px">除去大写字母之外的所有字符<br /></td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;[^&#92;nA-Z]</span></td><td style="width: 337px; height: 16px">&nbsp;除去大写字母和换行之外的字符</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;[a-z]&#123;-&#125;[aeiou]</span></td><td style="width: 337px; height: 16px">&nbsp;辅音字母</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r*</span></td><td style="width: 337px; height: 16px">&nbsp;0或多个连续的r</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r+</span></td><td style="width: 337px; height: 16px">&nbsp;1或多个连续的r</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r?</span></td><td style="width: 337px; height: 16px">&nbsp;可选的r</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r&#123;2,5&#125;</span></td><td style="width: 337px; height: 16px">&nbsp;2到5个连续的r</td></tr><tr><td style="width: 151px; height: 16px"><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r&#123;2,&#125;</span></div></td><td style="width: 337px; height: 16px">&nbsp;2个以上连续的r</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r&#123;4&#125;</span></td><td style="width: 337px; height: 16px">&nbsp;即rrrr</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&#123;name&#125;</span></td><td style="width: 337px; height: 16px">&nbsp;展开定义段内的模式</td></tr><tr><td style="width: 151px; height: 32px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&#92;X</span></td><td style="width: 337px; height: 32px">&nbsp;如果是<span style="color: #006000; font-family: Courier New">&#92;n,&#92;v</span>这样的转义字符时，表示转义后的字符，否则等价于X</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&#92;0</span></td><td style="width: 337px; height: 16px">&nbsp;ASCII NUL <br /></td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&#92;123</span></td><td style="width: 337px; height: 16px">&nbsp;8进制表示的字节</td></tr><tr><td style="width: 151px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(r)</span></td><td style="width: 337px; height: 16px">&nbsp;就是r，括号用于分组</td></tr><tr><td style="width: 151px; height: 16px"><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(?r-s:pattern)</span></div></td><td style="width: 337px; height: 16px">&nbsp;问号和冒号之间的部分是当解释模式<span style="color: #006000; font-family: Courier New">pattern</span>时生效或失效的选项，它们可以是<span style="color: #006000; font-family: Courier New">i,s,x</span>这几个字母的任意组合<br /><table border="1" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #888888" bordercolor="#080808"><tbody><tr><th style="width: 45px; height: 18px">&nbsp;选项</th><th style="width: 163px; height: 18px">&nbsp;含义</th><th style="width: 38px; height: 18px">选项</th><th style="width: 47px; height: 18px">&nbsp;含义</th></tr><tr><td style="width: 45px; height: 34px">&nbsp;<span style="color: #006000; font-family: Courier New">i</span></td><td style="width: 163px; height: 34px">&nbsp;区分大小写</td><td style="width: 38px; height: 34px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;-i</span></td><td style="width: 47px; height: 34px">不 区分大小写</td></tr><tr><td style="width: 45px; height: 67px"><span style="color: #006000; font-family: Courier New">&nbsp;s</span></td><td style="width: 163px; height: 67px">&nbsp;英文句号可以匹配&#92;n</td><td style="width: 38px; height: 67px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;-s</span></td><td style="width: 47px; height: 67px">英文句号<strong>不</strong>可以匹配&#92;n</td></tr><tr><td style="width: 45px; height: 111px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;x</span></td><td style="width: 163px; height: 111px">&nbsp;忽略模式中的空白符号，除非出现在<br /><ul><li>反斜杠后 </li><li>一对双引号间 </li><li>字符类内<br /></li></ul></td><td style="width: 38px; height: 111px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;-x</span></td><td style="width: 47px; height: 111px">&nbsp;不忽略</td></tr></tbody></table><br />以下两列中的模式是等价的：<br /><table border="1" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #888888" bordercolor="#080808"><tbody><tr><th style="width: 113px; height: 16px">&nbsp;NO</th><th style="width: 136px; height: 16px">&nbsp;NO</th></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp;(?:foo)<span>&nbsp;&nbsp;</span></span></span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(foo)</span></td></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(?i:ab7)</span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;([aA][bB]7)</span></td></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(?-i:ab)</span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(ab)</span></td></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(?s:.)</span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;[&#92;x00-&#92;xFF]</span></td></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(?:-s:.)</span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;[^&#92;n]</span></td></tr><tr><td style="width: 113px; height: 20px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp;(?ix-s:a . b)</span></span></td><td style="width: 136px; height: 20px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;([aA][^&#92;n][bB])</span></td></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(?x:a b)</span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;(&quot;ab&quot;)</span></td></tr><tr><td style="width: 113px; height: 16px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp;(?x:a&#92; b)<br /></span></span></td><td style="width: 136px; height: 16px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp;(&quot;a b&quot;)<br /></span></span></td></tr><tr><td style="width: 113px; height: 23px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp; (?x:a&#92; b)</span></span></td><td style="width: 136px; height: 23px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp; (&quot;a b&quot;)</span></span></td></tr><tr><td style="width: 113px; height: 23px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp; (?x:a&quot; &quot;b)</span></span></td><td style="width: 136px; height: 23px; text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp; (&quot;a b&quot;)</span></span></td></tr></tbody></table></td></tr><tr><td style="text-align: center"><span style="color: #006000"><span style="font-family: Courier New">&nbsp;(?#: comment )<br /></span></span></td><td>&nbsp;注释，可以跨行，注释中不能有右括号</td></tr><tr><td style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;rs</span></td><td>&nbsp;连接运算</td></tr><tr><td><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;r&#124;s</span></div></td><td>&nbsp;或运算<br /></td></tr><tr><td><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;^r</span></div></td><td>&nbsp;行首限定符</td></tr><tr><td style="text-align: center">&nbsp;<span style="color: #006000; font-family: Courier New">r$</span></td><td>&nbsp;行尾限定符</td></tr><tr><td style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&lt;s&gt;r</span></td><td>&nbsp;模式r匹配，仅当满足上下文s时（flex扩展）</td></tr><tr><td><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&lt;*&gt;r</span></div></td><td>&nbsp;模式r在任何上下文下匹配，包括排除性上下文</td></tr><tr><td><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&lt;s1,s2,s3&gt;r</span></div></td><td>&nbsp;上下文可以是s1,s2,s3之中的任意一个</td></tr><tr><td style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&lt;&lt;EOF&gt;&gt;</span></td><td>&nbsp;end of file<br /></td></tr><tr><td><div style="text-align: center"><span style="color: #006000; font-family: Courier New">&nbsp;&lt;s1,s2&gt;&lt;&lt;EOF&gt;&gt;</span></div></td><td>&nbsp;在上下文s1或s2下的end of file<br /></td></tr></tbody></table><br />当一个模式元字符在字符类内时，将失去其特殊意义，除非满足以下情况<br /><ol><li>字符类开头的<span style="color: #006000; font-family: Courier New">^</span> </li><li>字符类运算符<span style="color: #006000; font-family: Courier New">-</span>和<span style="color: #006000; font-family: Courier New">]]</span> </li></ol>以上的正则表达式运算符之间有以下结合性：括号最高，其次是连接，最低的是或运算。<br /><br />除了以上的模式，flex还提供了字符类表达式，共有以下12个。它们不能单独使用，而只能处于字符类的两个方括号之间。它们的语义对应于C语言中的相应函数宏，因此会受到locale的影响，<span style="color: #ff0000">小心使用！</span><br /><br /><table border="1" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #888888" bordercolor="#080808"><tbody><tr><td style="width: 353px; height: 87px"><span style="font-size: medium"><span style="color: #006000; font-family: Courier New">[:</span><span style="color: #006000; font-family: Courier New">alnum:]&nbsp; [:alpha:]&nbsp; [:blank:]<br />[:cnctl:]&nbsp; [:digit:]&nbsp; [:graph:]<br />[:lower:]&nbsp; [:print:]&nbsp; [:punct:]<br />[:space:]&nbsp; &#123;:upper:]&nbsp; [:xdigit:]</span></span></td></tr></tbody></table><br /><ul><li><span style="color: #006000; font-family: Courier New">&#123;-&#125;</span>运算符从字符类集合中减去交集，例如<span style="color: #006000; font-family: Courier New">[a-c]&#123;-&#125;[b]&#123;-&#125;[c]</span>等见于<span style="color: #006000; font-family: Courier New">[a]</span>，注意不要减过头，空集是没有意义的。 </li><li><span style="color: #006000; font-family: Courier New">&#123;+&#125;</span>计算字符类的合集，它可以和减运算同时使用。 </li><li>当<span style="color: #006000; font-family: Courier New">^</span>和<span style="color: #006000; font-family: Courier New">$</span>没有出现在模式开头或结尾时，它们表示自身而失去特殊意义。例如<span style="color: #006000; font-family: Courier New">foo&#124;^bar</span>，<span style="color: #006000; font-family: Courier New">foo&#124;(bar$)</span> <ul><li>如果确实要表达foo或者一个出现在行尾的bar，那么使用下面的模式和动作 <pre><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">foo &#124;&nbsp;&nbsp;bar&nbsp;&nbsp; /* action */ </span></div></pre></li></ul></li></ul><h2><a name="s5"></a><span style="color: #0066cc">5.</span>匹配</h2>当用flex生成的scnner运行时，其主要过程就是检查输入是否匹配给定的模式，如果发现超过一个匹配，它将选择最长匹配（如果i存在尾部上下文，如<span style="color: #006000; font-family: Courier New">$</span>，也算咋长度内），如果存在长度相同的匹配，则选择第一个列出的规则。<br /><br />一旦匹配成功，则全局指针<span style="color: #006000; font-family: Courier New">yytext</span>就指向导致匹配发生的字符串，其长度存储在整型的全局变量<span style="color: #006000; font-family: Courier New">yyleng</span>中。接着规则中的动作部分被执行，如果动作中没有返回语句，则搜索继续。否则，从<span style="color: #006000; font-family: Courier New">yylex</span>函数中返回。<br /><br />如果没有任何规则匹配，则执行默认规则：&rdquo;下一个字符被当作匹配并被复制到标准输出&ldquo;。因此，最简单的flex输入就是<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">%%</span></div>产生的扫描器简单把输入复制到输出。<br /><br />注意变量<span style="color: #006000; font-family: Courier New">yytext</span>既可以是指针也可以是数组，这取决于使用了指令<span style="color: #006000; font-family: Courier New">%pointer</span>还是<span style="color: #006000; font-family: Courier New">%array</span>，不指定的情况下是指针。而如果打开了lex兼容模式，则是数组。使用指针可以自动扩展缓冲，因此可以适合大型的输入。问题是你将不能自由的修改<span style="color: #006000; font-family: Courier New">yytext</span>指向的内存，同时如果执行<span style="color: #006000; font-family: Courier New">unput</span>函数，原先的内存将被冲洗导致指针失效。<br /><br />当使用数组时，可以自由的修改<span style="color: #006000; font-family: Courier New">yytext</span>，数组的长度由<span style="color: #006000; font-family: Courier New">YYLMAX</span>的值决定。当使用指针时，遇到大型的记号时，可能需要动态（重）分配内存，这可能导致现在的性能问题，同时在目前版本的flex中，如果<span style="color: #006000; font-family: Courier New">unput</span>过多的字节，将导致运行时错误。<br /><br />注意当使用flex++时，不能指定使用数组。<br /><br /><br /><h2><a name="s6"></a><span style="color: #0066cc">6.</span> 动作</h2>每条规则中的模式都有一个对应的动作，它可以是任意的C语句; 一条规则中，模式在第一个空白（未转义）处结束，此行剩下的部分就是动作。<br /><br />如果动作为空，那么模式匹配时，输入记号被简单的跳过。例如，下面的程序从输入中删除所有的<span style="color: #006000; font-family: Courier New">&rdquo;zap me&quot;</span>字符串。<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%%<br />&quot;zap me&quot;</span></span></div>这个程序会把所有其他其他记号拷贝到输出，因为默认规则要求这样做。<br /><br />而下面的程序会将所有的连续空白符压缩为一个空格，除了行尾的那些，它们被丢掉了，注意第二个规则长于第一个，所以会优先匹配。<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%%<br />[ &#92;t]+<span>&nbsp;&nbsp;&nbsp; </span>putchar(' ');<br />[ &#92;t]+$&nbsp; /* ignore this token */<br /></span></span></div><br />如果动作包含一个<span style="color: #006000; font-family: Courier New">'&#123;'</span>，那么它会包括直到出现成对的花括号之间的所有文本。<br />你也可以用<span style="color: #006000; font-family: Courier New">%&#123;</span>和<span style="color: #006000; font-family: Courier New">%&#125;</span>来包含你的动作代码，在其间的花括号将不会意外终止你的规则。<br /><br />如果一条规则的动作部分仅仅是一个管道线<span style="color: #006000; font-family: Courier New">'&#124;'</span>，表示其动作与下一条规则相同。<br /><br />在动作中的返回语句将把=控制权移交给<span style="color: #006000; font-family: Courier New">yylex</span>的<span style="color: #006000; font-family: Courier New">caller</span>，每次yylex被调用时，都会从上次中断的地方重启。这种行为有些类似于协程(corroutine)，从yylex中返回相当于yield，而调用相当于resume。当遇到EOF时，yylex返回0。<br /><br />您不能向yytext的尾部（超过yyleng长度的部分）写入，这可能会覆盖内部的缓冲区甚至导致段错误。除此之外，你可以自由的修改<span style="color: #006000; font-family: Courier New">yytext</span>指向的内容。<br /><br />您在动作语句中可以自由修改变量<span style="color: #006000; font-family: Courier New">yyleng</span>，除非此动作中亦包括对<span style="color: #006000; font-family: Courier New">yymore</span>的调用时。<br /><br />在动作语句中，可以使用下列的指令<br /><ul><li>ECHO: 拷贝<span style="color: #006000; font-family: Courier New">yytext</span>到<span style="color: #006000; font-family: Courier New">扫描器</span>的输出 </li><li>BEGIN： 后跟一个上下文，将把扫描器置于对应的上下文下。 </li><li>REJECT： 跳过当前（匹配）规则，而寻找次优的规则。你可以把它想象为cascade操作，像瀑布一样一级一级向下。在下面的例子中，计算了所有单词数，同时在frob匹配时，执行额外的动作。<br /><pre><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">&nbsp;&nbsp;&nbsp;&nbsp;int word_count = 0; %%&nbsp;&nbsp;frob&nbsp;&nbsp;&nbsp;&nbsp;special(); REJECT; [^ &#92;t&#92;n]+&nbsp;&nbsp;++word_count;</span></div></pre>如果没有REJECT指令，所有的frob都不再是单词了。因为扫描器只对每个记号进行一次（成功的）匹配。下面的扫描器如果遇到i记号<span style="color: #006000; font-family: Courier New">&lsquo;abcd'，</span>将会输出&rsquo;abcdabcaba'。 <pre><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">%% a&nbsp;&nbsp;&nbsp;&nbsp;&#124; ab&nbsp;&nbsp; &#124; abc&nbsp;&nbsp;&#124; abcd ECHO; REJECT; .&#124;&#92;n&nbsp;&nbsp; /* 无关的省略 */ <br /></span></div></pre><span style="color: #006000; font-family: Courier New">REJECT</span>是一个昂贵的操作，谨慎使用。注意，它接下来的代码因为分支会被跳过。 </li><li><span style="color: #006000; font-family: Courier New">yymore()</span>): 通知扫描器，下次匹配成功时，不要替换<span style="color: #006000; font-family: Courier New">yytext</span>，而是把新的匹配记号追加在后面，例如，给定输入<span style="color: #006000; font-family: Courier New">'mega-kludge'</span>，下面的程序会输出<span style="color: #006000; font-family: Courier New">'mega-mega-kludge'</span>。<br /><pre><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">%% mega-&nbsp;&nbsp;&nbsp;&nbsp;ECHO; yymore(); kludge&nbsp;&nbsp; ECHO;</span> </div></pre>使用<span style="color: #006000; font-family: Courier New">'yymore()'</span>需要注意： <ul><li><span style="color: #006000; font-family: Courier New">yyleng</span>必须确实是当前记号字符串的长度。 </li><li>速度会略微受到影响。<br /></li></ul></li><li><span style="color: #006000; font-family: Courier New">yyless(n</span>):把<span style="color: #006000; font-family: Courier New">yytext</span>中最后n个字节退回输入流中。而<span style="color: #006000; font-family: Courier New">yytext</span>和<span style="color: #006000; font-family: Courier New">yyleng</span>在此过程中会被修改（此后yyleng等同于n），例如，下面的程序接受输入<span style="color: #006000; font-family: Courier New">'foobar'</span>而输出<span style="color: #006000; font-family: Courier New">'foobarbar'</span>。 <pre><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">%% foobar&nbsp;&nbsp;ECHO; yyless(3); .+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECHO; </span></div></pre>如果n=0，那么所有的输入将被重新扫描，这可能导致一个无限循环。注意<span style="color: #006000; font-family: Courier New">,yyless()</span>是一个函数宏，这导致它只能在在输出的代码中使用。 </li><li><span style="color: #006000; font-family: Courier New">unput(c)</span>:将字符c返回输入流中。下面的规则将导致当前记号被包裹在一对括号中被重新扫描。 <div class="sites-codeblock sites-codesnippet-block"><pre><span style="color: #006000">&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *text = strdup(yytext); &nbsp;&nbsp;int i = yyleng - 1; &nbsp;&nbsp;unputc(')'); &nbsp;&nbsp;for ( ; i &gt;= 0; i--) &#123; &nbsp;&nbsp;&nbsp;&nbsp;unpuc(text[i]); &nbsp;&nbsp;&#125; &nbsp;&nbsp;unput('(');&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; free(text); &#125;</span> </pre></div>注意，处理要返回的字符串时因该按照从后向前的顺序。 <p>一个使用<span style="color: #006000; font-family: Courier New">unput</span>时的潜在问题是，如果使用指针来表示<span style="color: #006000; font-family: Courier New">yytext</span>，那么每次<span style="color: #006000; font-family: Courier New">unput</span>都会修改其内容，如果你需要保存<span style="color: #006000; font-family: Courier New">yytext</span>的内容，要么像上面的例子一样，先保存一份副本，要么使用数组来作为<span style="color: #006000"><span style="font-family: Courier New">yytext</span></span>。</p><p>另外，向输入流中返回<span style="color: #006000; font-family: Courier New">EOF</span>是没有意义的（这似乎是句废话）。</p></li><li><span style="color: #006000; font-family: Courier New">input()</span>:从输入流中读取下一个字符，下面的代码展示了如何跳过C形式的注释： <pre style="margin: 0px"><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">%% &quot;/*&quot; &nbsp;&nbsp;&#123; &nbsp;&nbsp;&nbsp;&nbsp;int c; &nbsp;&nbsp;&nbsp;&nbsp;while (1) &#123; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ( (c=input()) != '*' &amp;&amp; c != EOF) &#123; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* eat up text of comment */ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (c == '*') &#123; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ((c = input()) == '*') &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (c == '/') &#123; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;&nbsp;&nbsp;/* 关闭注释 */ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (c == EOF) &#123; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error(&quot;EOF in comment&quot;) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &nbsp;&nbsp;&nbsp;&nbsp;&#125; &nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></div></pre>注意，如果使用了flex++，那么应该使用yyinput来代替input。 </li><li><span style="color: #006000; font-family: Courier New">YY_FLUSH_BUFFER()</span>：清洗了扫描器的内部缓冲，所以当需要读取记号时，它将直接用<span style="color: #006000; font-family: Courier New">YY_INPUT()</span>来访问输入流。这个函数宏是函数<span style="color: #006000; font-family: Courier New">yy_flush_buffer()</span>对函数<span style="color: #006000; font-family: Courier New">yy_flush_buffer()</span>的封装。 </li><li><span style="color: #006000; font-family: Courier New">yyterminate()</span>：这是一个函数宏，你可以重定义它。默认情况下，它在扫描器遇到<span style="color: #006000; font-family: Courier New">EOF</span>时被调用，将向<span style="color: #006000; font-family: Courier New">yylex</span>的caller返回0，<br /></li></ul><h2><a name="s7"></a><span style="color: #0066cc">7.</span>输出词法分析器</h2>执行flex将输出文件<span style="color: #006000; font-family: Courier New">lex.yy.c</span>，其中包含了扫描例程<span style="color: #006000; font-family: Courier New">yylex()</span>，用到的DFA表哥和一些辅助的程序和宏。默认情况下，<span style="color: #006000; font-family: Courier New">yylex()</span>的定义如下：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">int yylex(void)<br />&#123;<br /><span>&nbsp;&nbsp;&nbsp; </span>.....<br />&#125;<br /></span></div>通过定义宏<span style="color: #006000; font-family: Courier New">YY_DECL</span>可以修改它的原型,例如：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">#define YY_DECL lexscan(float a, float b)</span></div>当<span style="color: #006000; font-family: Courier New">yylex()</span>被调用时，它从全局的<span style="color: #006000; font-family: Courier New">FILE*</span>指针<span style="color: #006000; font-family: Courier New">yyin</span>(默认绑定到标准输入)中读取输入，除非遇到<span style="color: #006000; font-family: Courier New">EOF</span>或者动作部分使用了<span style="color: #006000; font-family: Courier New">return</span>语句，它不会返回。在遇到EOF时，<span style="color: #006000; font-family: Courier New">yylex</span>返回0，在其他情况下，它返回动作部分返回的值。<br /><br />如果<span style="color: #006000; font-family: Courier New">yylex()</span>遇到了<span style="color: #006000; font-family: Courier New">EOF</span>，那么接下来对<span style="color: #006000; font-family: Courier New">yylex</span>的调用将是没有意义的，有三种办法可以解决这个问题。<br /><ol><li>调用<span style="color: #006000; font-family: Courier New">yyrestart(FILE *in)</span>，这将选择一个新的输入流开始读取。 </li><li>将<span style="color: #006000; font-family: Courier New">yyin</span>指向其他输入流。与上面的方法等价，这种方式与老的lex兼容。 </li><li>重定义宏<span style="color: #006000; font-family: Courier New">YY_INPUT()</span>，让词法分析器使用不同的输入源头源。 </li></ol>如果执行<span style="color: #006000; font-family: Courier New">yyrestart(yyin)</span>，这将丢掉当前的输入缓冲。但实际上用<span style="color: #006000; font-family: Courier New">YY_FLUSH_BUFFER</span>更好一些。注意<span style="color: #006000; font-family: Courier New">yyrestart</span>不会把上下文重置为<span style="color: #006000; font-family: Courier New">INITIAL</span>。<br /><br />如果<span style="color: #006000; font-family: Courier New">yylex</span>由于从某条规则的动作中返回而终止，那么下次调用将延续的状态。<br /><br />默认情况下，词法分析器不使用<span style="color: #006000; font-family: Courier New">getc()</span>，而是整块的读入数据以达到更高的效率。读取的行为可以用定义<span style="color: #006000; font-family: Courier New">YY_INPUT</span>宏的方法来修改。这个宏的&ldquo;原型&rdquo;是<span style="color: #006000; font-family: Courier New">YY_INPUT(buf, result, max_size)</span>。其语义如下：读取最多max_size字节的数据到数组buf中，并返回i结果（一个整数，要么代表已经读取的字节数，要么返回i<span style="color: #006000; font-family: Courier New">YY_NULL=0</span>来标记<span style="color: #006000; font-family: Courier New">EOF</span>）到<span style="color: #006000; font-family: Courier New">result</span>变量中。下面的代码展示了YY_INPUT()的用法。 <pre><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000">%&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span>#define YY_INPUT(buf, result, max_size) &#92;<br /><span>&nbsp;&nbsp; &nbsp;</span>&#123;&#92;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>int c = getchar(); &#92;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>result = (c == EOF) ? YY_NULL : (buf[0] = c, 1); &#92;<br /></span><span><span style="color: #006000">&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br />%&#125;<br /></span></span></div> </pre><p>这段代码导致每次只从输入流中读取一个字符。 </p><p>当YY_INPUT告诉词法分析器&ldquo;我遇到文件结尾了&rdquo;，它就调用<span style="color: #006000; font-family: Courier New">yywrap()</span>函数，如果<span style="color: #006000; font-family: Courier New">yywrap()</span>返回<span style="color: #006000; font-family: Courier New">true(非零值)，</span>那么词法分析终止，并返回0给调用者。如果<span style="color: #006000; font-family: Courier New">yywrap()</span>返回<span style="color: #006000; font-family: Courier New">false(0)</span>，那么它将假设<span style="color: #006000; font-family: Courier New">yyin</span>被指向了新的待读取文件，并将继续词法分析。注意，无论<span style="color: #006000; font-family: Courier New">yywrap</span>返回什么，接下来的上下文都不会改变，也就是不会恢复为<span style="color: #006000; font-family: Courier New">INITIAL。</span></p><p>如果你没有编写自己的<span style="color: #006000; font-family: Courier New">yywrap()</span>函数，那么你必须使用指令（在定义段内）&quot;<span style="color: #006000; font-family: Courier New">%option noyywrap&quot;</span>，或者使用命令行选项<span style="color: #006000; font-family: Courier New">&quot;-lfl&quot;</span>来链接到默认的版本，它总是返回1.</p><p>词法分析器总是把用<span style="color: #006000; font-family: Courier New">ECHO</span>指令的输出导向<span style="color: #006000; font-family: Courier New">yyout</span>全局变量（默认等于<span style="color: #006000; font-family: Courier New">stdout</span>），你可以把它赋值为其他文件指针。<br /></p><br /><h2><a name="s8"></a><span style="color: #0066cc">8.</span>上下文</h2>Flex提供了一套系统的控制规则应用与否状态的机制。任何前缀为<span style="color: #006000; font-family: Courier New">&quot;&lt;sc&gt;&quot;</span>的规则都只会在上下文为<span style="color: #006000; font-family: Courier New">'sc'</span>时生效。例如：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">&lt;STRING&gt;[^&quot;]*<span>&nbsp;&nbsp;&nbsp; </span>&#123; /* 读取字符串 */<br />&nbsp; <span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>...<br /><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /></span></div>都只会在词法分析器处于&lsquo;STRING'上下文中时，还有：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">&lt;INITIAL,STRING,QUOTE&gt;&#92;.&nbsp;&nbsp; &#123; /* 处理转义字符 */<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>...<br /><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /></span></div>仅当当前的上下文是<span style="color: #006000; font-family: Courier New">'INITIAL'</span>,'<span style="color: #006000; font-family: Courier New">SRING'</span>或者<span style="color: #006000; font-family: Courier New">'QUOTE'</span>三者之一时才生效。<br /><br />上下文在定义段内由不缩进的，以<span style="color: #006000; font-family: Courier New">'%s&quot;</span>或<span style="color: #006000; font-family: Courier New">'%x'</span>开头的行所定义的。前者定义包含型上下文，后者定义排除型上下文。<span style="color: #006000; font-family: Courier New">BEGIN</span>指令可以激活当前生效的上下文，其生效作用域知道下一个<span style="color: #006000; font-family: Courier New">&lsquo;BEGIN&rsquo;</span>为止。在当前没有指定任何上下文时，所有以包含型开始上下文前缀的规则也是有效的，而排除型的则无效。即，排除型上下文指定了一族独立的规则; 所以，使用排除型上下文可以在扫描过程中方便的切换到一种完全不同的运行状态，扫描词法完全不同的&rdquo;亚语言&ldquo;。<br /><br />下面是一个稍微详细的例子：<br /><div class="sites-codeblock sites-codesnippet-block"><br /><span style="color: #006000"><span style="font-family: Courier New">%s example<br />%%<br /><br /></span></span><span style="color: #006000"><span style="font-family: Courier New">&lt;example&gt;foo<span>&nbsp;&nbsp;&nbsp; </span>dp_something();<br /><br />bar<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span></span></span><span><span style="color: #006000; font-family: Courier New"> something_else();<br /><br /></span></span></div>等价于<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">%x example<br />%%<br /><br />&lt;example&gt;foo<span>&nbsp;&nbsp;&nbsp; </span>do_something();<br />&lt;INITIAL,example&gt;bar &nbsp;&nbsp;&nbsp; something_else();<br /><br /></span></div>因为特殊的上下文选择器<span style="color: #006000; font-family: Courier New">&quot;&lt;*&gt;&quot;</span>可以匹配任何上下文，因此还可以把上面的例子改写成：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%x example<br />%%<br /><br />&lt;example&gt;foo<span>&nbsp;&nbsp;&nbsp; </span>do_something();<br />&lt;*&gt;bar<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>something(else();<br /></span></span></div><br />如果你编译上面几个例子，可以看到默认规则在所有开始上下文内仍然生效，即默认规则等价于：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">&lt;*&gt;.&#124;&#92;n<span>&nbsp;&nbsp;&nbsp; </span>ECHO;<br /></span></span></div><br /><span style="color: #006000; font-family: Courier New">'BEGIN(0)'</span>等价于<span style="color: #006000; font-family: Courier New">'BEGIN(INITIALL)'</span>，也就是把当前上下文设置为一个默认的上下文<span style="color: #006000; font-family: Courier New">INITIAL</span>。（使用括号不是必须的，但被认为是一种好的实践）。<br /><br /><span style="color: #006000; font-family: Courier New">&rsquo;BEGIN&lsquo;</span>也可以用缩进的形式写在规则段开头，例如，下面的代码指定在调用<span style="color: #006000; font-family: Courier New">'yylex()'</span>时,如果全局变量<span style="color: #006000; font-family: Courier New">'enter_special'</span>为真，就把上下文设置为<span style="color: #006000; font-family: Courier New">'SPECIAL'</span>。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New"><span>&nbsp;&nbsp; &nbsp;</span>int&nbsp; enter_special;<br />%x SPECIAL<br /><br />%% if (enter_special)<br /><span>&nbsp;&nbsp;&nbsp; </span>BEGIN(SPECIAL);<br /><br />&lt;SPECIAL&gt;blahblahblah<br />...more rules follow...<br /></span></span></div><br />为了详细的说明上下文的使用，这个扫描器提供了针对类似<span style="color: #006000; font-family: Courier New">'123.456'</span>这样的字符串的两种解释方法。默认情况下把字符串解释为三个单独的记号，整数<span style="color: #006000; font-family: Courier New">'123'</span>，小数点和另一个整数<span style="color: #006000; font-family: Courier New">'456'</span>，当如果同一行之前出现过<span style="color: #006000; font-family: Courier New">'expect-floats'</span>指令，将把它解释为一个单独的浮点数。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">%&#123;<br />#include &lt;math.h&gt;<br />%&#125;<br />%s expect<br /><br />%%<br />expect-floats<span>&nbsp;&nbsp;&nbsp; </span>BEGIN(expect);<br /><br />&lt;expect&gt;[0-9]+@samp&#123;.&#125;[0-9]+<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;found a float, = %f&#92;n&quot;,<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>atof(yytext) );<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />&lt;expect&gt;&#92;n<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>/* 现在处于一个新行了，需要另一个'expect-float'指令来处理浮点 */<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>BEGIN(0);<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />[0-9]+<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;found an integer, = %d&#92;n&quot;,<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>atoi(yytext));<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />&quot;.&quot;<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>printf(&quot;found a dot&#92;n&quot;);<br /></span></div><br />下面的扫描器将辨认并跳过C注释，同时保持一个对当前输入行数的计数器。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%x comment<br /></span></span><span style="color: #006000"><span style="font-family: Courier New">%%<br /><span>&nbsp;&nbsp;&nbsp; </span>int line_num = 1;<br />&quot;/*&quot;<span>&nbsp;&nbsp;&nbsp; </span>BEGIN(comment);<br /><br />&lt;comment&gt;[^*&#92;n]*<span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span> /* eat anything that's not a '*' */<br />&lt;comment&gt;&quot;*&quot;+[^*/&#92;n]*<span>&nbsp;&nbsp;&nbsp; </span>/* eat up '*'s not follow by '/'s */<br />&lt;comment&gt;&#92;n<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span></span></span><span><span style="color: #006000; font-family: Courier New">&nbsp; ++line_num;<br />&lt;comment&gt;&quot;*&quot;+&quot;/&quot;<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span> BEGIN(INITIAL);<br /></span></span></div><br /><br />这个例子中，每条规则都尽量匹配尽可能多的输入，这会对产生的扫描器速度产生积极影响。<br /><br />注意，上下文的名字在输出源代码中事实上可能以整数存储，因此，上面的例子习惯上可以写成这样：<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%x comment foo<br />%%<br /><span>&nbsp;&nbsp;&nbsp; </span>int line_num = 1;<br /><span>&nbsp;&nbsp;&nbsp; </span>int comment_caller;<br /><br />&quot;/*&quot;<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>comment_caller = INITIAL;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>BEGIN(comment);<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />...<br /><br />&lt;foo&gt;&quot;/*&quot;<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span></span></span><span><span style="color: #006000; font-family: Courier New">&nbsp;&nbsp; comment_caller = foo;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>BEGIN(comment);<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br /></span></span><span style="color: #006000"><span style="font-family: Courier New">&lt;comment&gt;[^*&#92;n]*<span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span> /* eat anything that's not a '*' */<br />&lt;comment&gt;&quot;*&quot;+[^*/&#92;n]*<span>&nbsp;&nbsp;&nbsp; </span>/* eat up '*'s not follow by '/'s */<br />&lt;comment&gt;&#92;n<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span></span></span><span><span style="color: #006000; font-family: Courier New">&nbsp; ++line_num;<br />&lt;comment&gt;&quot;*&quot;+&quot;/&quot;<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span> BEGIN(comment_caller);</span></span><br /></div><br /><br />另外，你还可以用宏<span style="color: #006000; font-family: Courier New">YY_START</span>来访问当前的上下文值。例如上面代码的中的赋初始值也可写成：<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000; font-family: Courier New">comment_caller = YY_START;</span></div><br />Flex中，<span style="color: #006000; font-family: Courier New">YYSTATE</span>是<span style="color: #006000; font-family: Courier New">YY_START</span>的别名（遵照老的AT&amp;T lex惯例）。<br /><br />因为一些历史原因，上下文没有自己的独立名字空间，在生成的源代码和头文件中都以常量的形式出现。<br /><br /><br />最后，这里有一个使用排除型上下文来读取包含C风格的字符串字面量的例子，包括对转义字符的处理（但不会处理过长的字面量）。<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">%x str<br /><br /></span></span><span style="color: #006000; font-family: Courier New">%%<br /><span>&nbsp;&nbsp;&nbsp; </span>char<span>&nbsp;&nbsp;&nbsp; </span>string_buf[MAX_STR_CONST];<br /><span>&nbsp;&nbsp;&nbsp; </span>char<span>&nbsp;&nbsp;&nbsp; </span>*string_buf_ptr;<br /><br />&#92;&quot;<span>&nbsp;&nbsp;&nbsp; </span>string_buf_ptr = string_buf; BEGIN(str);<br /><br />&lt;str&gt;&#92;&quot;<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>BEGIN(INITIAL);<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>*string_buf_ptr = '&#92;0';<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>/* 向parser返回记号类型（字符串字面量） */<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; </span>&#125;<br /><br /></span><span><span style="color: #006000; font-family: Courier New">&lt;str&gt;&#92;n</span><span><span style="color: #006000; font-family: Courier New">&nbsp;&nbsp;&nbsp;&nbsp; &#123;<br /></span><span><span style="color: #006000; font-family: Courier New">&nbsp;&nbsp; &nbsp;<span>&nbsp;&nbsp;&nbsp; <span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span></span>/* 错误 &mdash;&mdash; 未正确封闭的字符串常量 */<br /></span><span><span style="color: #006000"><span style="font-family: Courier New">&nbsp;&nbsp; &nbsp;<span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span>/* 产生出错信息 */<br /><span>&nbsp;&nbsp; &nbsp;<span>&nbsp;&nbsp; &nbsp;</span></span></span></span></span></span></span><span style="color: #006000"><span style="font-family: Courier New"><span>&nbsp;&nbsp; &nbsp;</span>&#125;<br /><br />&lt;str&gt;&#92;&#92;[0-7]&#123;1,3&#125;<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>/* 八进制转移序列 */<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>int result;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>(void)sscanf(yytext + 1, &quot;%o&quot;, &amp;result);<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>if (result &gt; 0xff) &#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>/* 错误，常量越界 */<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>*string_buf_ptr++ = result;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />&lt;str&gt;&#92;&#92;[0-9]+<span>&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp; </span>/* 词法错误，非法转义序列，例如 '&#92;48'或者 '&#92;0777777' */<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><br />&lt;str&gt;&#92;&#92;n<span>&nbsp;&nbsp;&nbsp; </span>*string_buf_ptr++ = '&#92;n';<br />&lt;str&gt;&#92;&#92;t<span>&nbsp;&nbsp;&nbsp; </span>*string_buf_ptr++ = '&#92;t';<br /></span></span></span><span><span style="color: #006000; font-family: Courier New">&lt;str&gt;&#92;&#92;r<span> &nbsp;&nbsp; </span>*string_buf_ptr++ = '&#92;r';</span></span><span><br /></span><span style="color: #006000"><span style="font-family: Courier New"><span>&lt;str&gt;&#92;&#92;b<span> &nbsp;&nbsp; </span>*string_buf_ptr++ = '&#92;b';</span><br /></span></span><span><span style="color: #006000; font-family: Courier New">&lt;str&gt;&#92;&#92;f<span> &nbsp;&nbsp; </span>*string_buf_ptr++ = '&#92;f';<br /><br />&lt;str&gt;&#92;&#92;(.&#124;&#92;n)<span>&nbsp;&nbsp;&nbsp; </span>*string_buf_ptr++ = yytext[1];<br /><br />&lt;str&gt;[^&#92;&#92;&#92;n&#92;&quot;]+<span>&nbsp;&nbsp;&nbsp; </span>&#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>char *yptr = yytext;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>while (*yptr) &#123;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>*string_buf_ptr++ = *yptr++;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;<br /><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span>&#125;</span></span><span><br /></span></div><br />你可能经常需要为一组连续的规则加上同样上下文前缀，Flex提供了简便写法，类似于Pascal的<span style="color: #006000; font-family: Courier New">with</span>作用域：<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">&lt;SCs&gt;&#123;</span></span></div><br />这里<span style="color: #006000; font-family: Courier New">&lsquo;SCs'</span>是一或多个上下文。包含在一对花括号中的规则自动被加上所有的前缀。，例如<br /><br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New">&lt;ESC&gt;&#123;<br /><span>&nbsp;&nbsp;&nbsp; </span></span></span><span style="color: #006000"><span style="font-family: Courier New">&quot;&#92;&#92;n&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;n';<br /><span>&nbsp;&nbsp;&nbsp; </span></span></span><span><span style="color: #006000; font-family: Courier New">&quot;&#92;&#92;r&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;r';<br /><span>&nbsp;&nbsp;&nbsp; </span>&quot;&#92;&#92;f&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;f';<br /><span>&nbsp;&nbsp;&nbsp; </span>&quot;&#92;&#92;0&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;0';<br />&#125;<br /></span></span></div>等价于:<br /><div class="sites-codeblock sites-codesnippet-block"><span style="color: #006000"><span style="font-family: Courier New"><span>&lt;ESC&gt;</span>&quot;&#92;&#92;n&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;n';<br />&lt;ESC&gt;</span></span><span><span style="color: #006000"><span style="font-family: Courier New">&quot;&#92;&#92;r&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;r';<br />&lt;ESC&gt;&quot;&#92;&#92;f&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;f';<br />&lt;ESC&gt;&quot;&#92;&#92;0&quot;<span>&nbsp;&nbsp;&nbsp; </span>return '&#92;0';</span></span></span></div><br />因为上下文的作用域可以嵌套，所以我们需要一些辅助的函数来控制上下文形成的堆栈。<br /><ul><li>函数：<span style="color: #006000; font-family: Courier New"> void yy_push_state(int 'new_state' )</span> <ul><li>将新的上下文压入栈顶，并把它设置为当前的上下文，就像执行了<span style="color: #006000; font-family: Courier New">BEGIN (new_state</span>）一样。</li></ul></li><li>函数:&nbsp;&nbsp;&nbsp; <span style="color: #006000; font-family: Courier New">void yy_pop_state()</span> <ul><li>弹出栈顶的上下文t，把把它设置为当前上下文。</li></ul></li></ul>上下文栈会动态伸缩，所以只要内存不耗尽，就没问题。<br /><br />要使用上下文堆栈，<span style="color: #ff0000">必须先</span>使用指令<span style="color: #006000; font-family: Courier New">'%option stack'</span>。<br /></div> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 83 ms, 5 Queries.</span>";
//]]>
</script></body>
</html>