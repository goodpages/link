<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
<title><![CDATA[流浪的龙－个人知识管理]]></title> 
<link>http://i.renjihe.com/blog/index.php</link> 
<description><![CDATA[]]></description> 
<language>zh-cn</language> 
<copyright><![CDATA[流浪的龙－个人知识管理]]></copyright>
<item>
<link>http://i.renjihe.com/blog/read.php?</link>
<title><![CDATA[Js函数字面量和Function()构造函数的区别匿名函数]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[web]]></category>
<pubDate>Thu, 25 Aug 2016 08:26:33 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">一、什么是匿名函数？</p><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">在Javascript定义一个函数一般有如下三种方式：</p><ol style="box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px"><li style="box-sizing: border-box"><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box">函数关键字(function)语句：</p><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box">function fn(x)&#123; alert(x); &#125;</p></li><li style="box-sizing: border-box"><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box">函数字面量(Function Literals)：</p><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box">var fn = function(x)&#123; alert(x); &#125;</p></li><li style="box-sizing: border-box"><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box">Function()构造函数：</p><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box">var fn= new Function( 'x','alert(x);' )</p></li></ol><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">上面三种方法定义了同一个方法函数fn，第1种就是最常用的方法，后两种都是把一个函数复制给变量fn，而这个函数是没有名字的，即匿名函数。</p><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">但我们平常所说的匿名函数均指采用函数字面量形式的匿名函数。</p><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">二、函数字面量和Function()构造函数的区别&nbsp;<br />1. 虽然<strong style="box-sizing: border-box">函数字面量</strong>是一个匿名函数，但语法允许为其指定任意一个函数名，<strong style="box-sizing: border-box">当写递归函数时可以调用它自己</strong>，使用Function()构造函数则不行。</p><pre class="prettyprint" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: 'Source Code Pro', monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: #333333; border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; background-color: rgba(128, 128, 128, 0.0470588)"><span style="box-sizing: border-box; color: #000088" class="hljs-keyword">var</span> f = <span style="box-sizing: border-box" class="hljs-function"><span style="box-sizing: border-box; color: #000088" class="hljs-keyword">function</span> <span style="box-sizing: border-box" class="hljs-title">fact</span><span style="box-sizing: border-box; color: #660066" class="hljs-params">(x)</span> &#123;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">if</span> (x &lt; = <span style="box-sizing: border-box; color: #006666" class="hljs-number">1</span>) <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">return</span> <span style="box-sizing: border-box; color: #006666" class="hljs-number">1</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">else</span> <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">return</span> x*fact(x-<span style="box-sizing: border-box; color: #006666" class="hljs-number">1</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;;<ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: #dddddd; list-style: none; text-align: right; background-color: #eeeeee"><li style="box-sizing: border-box; padding: 0px 5px">1</li><li style="box-sizing: border-box; padding: 0px 5px">2</li><li style="box-sizing: border-box; padding: 0px 5px">3</li><li style="box-sizing: border-box; padding: 0px 5px">4</li></ul><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: #dddddd; list-style: none; text-align: right; background-color: #eeeeee"><li style="box-sizing: border-box; padding: 0px 5px">1</li><li style="box-sizing: border-box; padding: 0px 5px">2</li><li style="box-sizing: border-box; padding: 0px 5px">3</li><li style="box-sizing: border-box; padding: 0px 5px">4</li></ul></pre><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">2 . Function()构造函数允许运行时Javascript代码动态的创建和编译。在这个方式上它类似全局函数eval_r()。&nbsp;<br />3. Function()构造函数<strong style="box-sizing: border-box">每次执行时都解析函数主体</strong>，并<strong style="box-sizing: border-box">创建一个新的函数对象</strong>。所以当在一个循环或者频繁执行的函数中调用Function()构造函数的效率是非常低的。相反，函数字面量却不是每次遇到都重新编译的。&nbsp;<br />4. 用Function()构造函数创建一个函数时并不遵循典型的作用域，它一直把它当作是顶级函数来执行。</p><pre class="prettyprint" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: 'Source Code Pro', monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: #333333; border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; background-color: rgba(128, 128, 128, 0.0470588)">&nbsp;&nbsp;<span style="box-sizing: border-box; color: #000088" class="hljs-keyword">var</span> y = <span style="box-sizing: border-box; color: #008800" class="hljs-string">&quot;global&quot;</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="box-sizing: border-box" class="hljs-function"><span style="box-sizing: border-box; color: #000088" class="hljs-keyword">function</span> <span style="box-sizing: border-box" class="hljs-title">constructFunction</span><span style="box-sizing: border-box; color: #660066" class="hljs-params">()</span> &#123;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">var</span> y = <span style="box-sizing: border-box; color: #008800" class="hljs-string">&quot;local&quot;</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">return</span> <span style="box-sizing: border-box; color: #000088" class="hljs-keyword">new</span> <span style="box-sizing: border-box" class="hljs-function"><span style="box-sizing: border-box; color: #000088" class="hljs-keyword">Function</span><span style="box-sizing: border-box; color: #660066" class="hljs-params">(<span style="box-sizing: border-box; color: #008800" class="hljs-string">&quot;return y&quot;</span>)</span>;</span>&nbsp;&nbsp;<span style="box-sizing: border-box; color: #880000" class="hljs-comment">//&nbsp;&nbsp;无法获取局部变量</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert(constructFunction()());&nbsp;&nbsp;<span style="box-sizing: border-box; color: #880000" class="hljs-comment">// 输出 &quot;global&quot;</span><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: #dddddd; list-style: none; text-align: right; background-color: #eeeeee"><li style="box-sizing: border-box; padding: 0px 5px">1</li><li style="box-sizing: border-box; padding: 0px 5px">2</li><li style="box-sizing: border-box; padding: 0px 5px">3</li><li style="box-sizing: border-box; padding: 0px 5px">4</li><li style="box-sizing: border-box; padding: 0px 5px">5</li><li style="box-sizing: border-box; padding: 0px 5px">6</li></ul><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: #dddddd; list-style: none; text-align: right; background-color: #eeeeee"><li style="box-sizing: border-box; padding: 0px 5px">1</li><li style="box-sizing: border-box; padding: 0px 5px">2</li><li style="box-sizing: border-box; padding: 0px 5px">3</li><li style="box-sizing: border-box; padding: 0px 5px">4</li><li style="box-sizing: border-box; padding: 0px 5px">5</li><li style="box-sizing: border-box; padding: 0px 5px">6</li></ul></pre><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px">我们平常所说的匿名函数均指采用函数字面量形式的匿名函数。</p><ul style="box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px"><li style="box-sizing: border-box">注意用作块级作用域的匿名函数，将函数声明包含在一对圆括号中，而紧随其后的一对圆括号会立即调用这个函数：</li></ul><pre class="prettyprint" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: 'Source Code Pro', monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: #333333; border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; background-color: rgba(128, 128, 128, 0.0470588)"><span style="box-sizing: border-box" class="hljs-list">(<span style="box-sizing: border-box; color: #000088" class="hljs-title">function</span><span style="box-sizing: border-box" class="hljs-list">()</span>&#123;&nbsp;&nbsp; //z=这里是块级作用域&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;)</span><span style="box-sizing: border-box" class="hljs-list">()</span><span style="box-sizing: border-box; color: #880000" class="hljs-comment">;</span><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: #dddddd; list-style: none; text-align: right; background-color: #eeeeee"><li style="box-sizing: border-box; padding: 0px 5px">1</li><li style="box-sizing: border-box; padding: 0px 5px">2</li><li style="box-sizing: border-box; padding: 0px 5px">3</li></ul><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: #dddddd; list-style: none; text-align: right; background-color: #eeeeee"><li style="box-sizing: border-box; padding: 0px 5px">1</li><li style="box-sizing: border-box; padding: 0px 5px">2</li><li style="box-sizing: border-box; padding: 0px 5px">3</li></ul></pre><p style="margin: 0px 0px 1.1em; padding: 0px; box-sizing: border-box; font-family: 'microsoft yahei'; font-size: 14px; line-height: 26px"><strong style="box-sizing: border-box">只要临时需要一些变量，就可以使用私有作用域</strong></p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?#blogcomment</link>
<title><![CDATA[[评论] Js函数字面量和Function()构造函数的区别匿名函数]]></title> 
<author> &lt;user@domain.com&gt;</author>
<category><![CDATA[评论]]></category>
<pubDate>Thu, 01 Jan 1970 00:00:00 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?#blogcomment</guid> 
<description>
<![CDATA[ 
	
]]>
</description>
</item>
</channel>
</rss>