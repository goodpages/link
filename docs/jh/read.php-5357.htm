<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>浅析人脸检测之Haar分类器方法 - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="read.php-5040.htm" tppabs="http://i.renjihe.com/blog/read.php?5040" title="上一篇 Leap Motion控"><img src="toolbar_previous.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_previous.gif" alt='' border='0'/>Leap Motion控</a></div>
	<div class="next-article"><a href="read.php-5359.htm" tppabs="http://i.renjihe.com/blog/read.php?5359" title="下一篇 40多个关于人脸检测/识"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>40多个关于人脸检测/识</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Aug</span>
	<span class="textbox-calendar-day">19</span>
	</div>
	<div class="textbox-title">
		<h4>
		浅析人脸检测之Haar分类器方法 <span id="starid5357"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 19:43 , <a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="查看分类： 理论">理论</a> &raquo; <a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="查看分类： AR&amp;AI&amp;模式识别">AR&amp;AI&amp;模式识别</a> , <a href="read.php-5357.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?5357#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb5357");'>引用(0)</a> , <a href="read.php-5357.htm" tppabs="http://i.renjihe.com/blog/read.php?5357">阅读(1)</a> ,  Via 本站原创 <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="字体大小" border='0'/> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="javascript:if(confirm('http://i.renjihe.com/blog/index.php?title=%E5%B7%A6%E7%BB%93%E5%90%88&action=edit&redlink=1  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/index.php?title=%E5%B7%A6%E7%BB%93%E5%90%88&action=edit&redlink=1'" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_5357"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="订阅本文" border='0'/></a> <a href="javascript:if(confirm('http://i.renjihe.com/blog/Currying  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/Currying'" tppabs="http://i.renjihe.com/blog/read.php?save_5357"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="保存本文为文本文档" border='0'/></a></span>
		</div>
	</div>
	<div id="tb5357" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	<a href="javascript:if(confirm('http://www.cnblogs.com/content/images/2016/06/read.php/index.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/feed.php/read.php?4494  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/content/images/2016/06/read.php/index.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/read.php/feed.php/read.php?4494'" tppabs="http://www.cnblogs.com/ello/archive/2012/04/28/2475419.html">http://www.cnblogs.com/ello/archive/2012/04/28/2475419.html</a><br /><br /><div id="cnblogs_post_body" style="color: #000000; font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 23px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #ffffff"><div><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">由于工作需要，我开始研究人脸检测部分的算法，这期间断断续续地学习Haar分类器的训练以及检测过程，在这里根据各种论文、网络资源的查阅和对代码的理解做一个简单的总结。我试图概括性的给出算法的起源、全貌以及细节的来龙去脉，但是水平有限，只能解其大概，希望对初学者起到帮助，更主要的是对我个人学习的一次提炼。</span></p><h3 style="font-size: 10pt; border-bottom: 1px dotted #d6d6d6; color: #000000; background-color: transparent"><span style="line-height: 30px; font-size: 15pt; font-family: 宋体">一、Haar分类器的前世今生</span></h3><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">人脸检测属于计算机视觉的范畴，早期人们的主要研究方向是人脸识别，即根据人脸来识别人物的身份，后来在复杂背景下的人脸检测需求越来越大，人脸检测也逐渐作为一个单独的研究方向发展起来。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">目前的人脸检测方法主要有两大类：基于知识和基于统计。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">&ldquo;基于知识的方法主要利用先验知识将人脸看作器官特征的组合，根据眼睛、眉毛、嘴巴、鼻子等器官的特征以及相互之间的几何位置关系来检测人脸。基于统计的方法则将人脸看作一个整体的模式&mdash;&mdash;二维像素矩阵，从统计的观点通过大量人脸图像样本构造人脸模式空间，根据相似度量来判断人脸是否存在。在这两种框架之下，发展了许多方法。目前随着各种方法的不断提出和应用条件的变化，将知识模型与统计模型相结合的综合系统将成为未来的研究趋势。&rdquo;（来自论文《基于Adaboost的人脸检测方法及眼睛定位算法研究》）</span></p><p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">基于知识的人脸检测方法</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">模板匹配</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">人脸特征</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">形状与边缘</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">纹理特性</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">颜色特征</span></p><p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">基于统计的人脸检测方法</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">主成分分析与特征脸</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">神经网络方法</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">支持向量机</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">隐马尔可夫模型</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">Adaboost算法</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">本文中介绍的Haar分类器方法，包含了Adaboost算法，稍候会对这一算法做详细介绍。所谓分类器，在这里就是指对人脸和非人脸进行分类的算法，在机器学习领域，很多算法都是对事物进行分类、聚类的过程。OpenCV中的ml模块提供了很多分类、聚类的算法。</span></p><p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff6633">注：聚类和分类的区别是什么？一般对已知物体类别总数的识别方式我们称之为分类，并且训练的数据是有标签的，比如已经明确指定了是人脸还是非人脸，这是一种有监督学习。也存在可以处理类别总数不确定的方法或者训练的数据是没有标签的，这就是聚类，不需要学习阶段中关于物体类别的信息，是一种无监督学习。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">其中包括Mahalanobis距离、K均值、朴素贝叶斯分类器、决策树、Boosting、随机森林、Haar分类器、期望最大化、K近邻、神经网络、支持向量机。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">我们要探讨的Haar分类器实际上是Boosting算法的一个应用，Haar分类器用到了Boosting算法中的AdaBoost算法，只是把AdaBoost算法训练出的强分类器进行了级联，并且在底层的特征提取中采用了高效率的矩形特征和积分图方法，这里涉及到的几个名词接下来会具体讨论。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">虽说haar分类器采用了Boosting的算法，但在OpenCV中，Haar分类器与Boosting没有采用同一套底层数据结构，《Learning&nbsp;OpenCV》中有这样的解释：&ldquo;Haar分类器，它建立了boost筛选式级联分类器。它与ML库中其他部分相比，有不同的格局，因为它是在早期开发的，并完全可用于人脸检测。&rdquo;</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">是的，在2001年，</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Viola</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Jones</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">两位大牛发表了经典的</span><span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 宋体">《</span><span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'">Rapid&nbsp;Object&nbsp;Detection&nbsp;using&nbsp;a&nbsp;Boosted&nbsp;Cascade&nbsp;of&nbsp;Simple</span>&nbsp;<span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'">Features</span><span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 宋体">》【1】</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 宋体">《</span><span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'">Robust&nbsp;Real-Time&nbsp;Face&nbsp;Detection</span><span style="line-height: 21px; font-weight: bold; font-size: 10.5pt; font-family: 宋体">》【2】</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">，在AdaBoost算法的基础上，使用Haar-like小波特征和积分图方法进行人脸检测，他俩不是最早使用提出小波特征的，但是他们设计了针对人脸检测更有效的特征，并对AdaBoost训练出的强分类器进行级联。这可以说是人脸检测史上里程碑式的一笔了，也因此当时提出的这个算法被称为Viola-Jones检测器。又过了一段时间，</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Rainer&nbsp;Lienhart</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Jochen&nbsp;Maydt</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">两位大牛将这个检测器进行了扩展【3】，最终形成了OpenCV现在的Haar分类器。之前我有个误区，以为AdaBoost算法就是</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Viola</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Jones</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">搞出来的，因为网上讲Haar分类器的地方都在大讲特讲AdaBoost，所以我错觉了，后来理清脉络，AdaBoost是</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'">Freund&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'">Schapire</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">在1995年提出的算法，是对传统Boosting算法的一大提升。Boosting算法的核心思想，是将弱学习方法提升成强学习算法，也就是&ldquo;三个臭皮匠顶一个诸葛亮&rdquo;，它的理论基础来自于</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 'Times New Roman'">Kearns</span>&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 'Times New Roman'">Valiant</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">牛的相关证明【4】，在此不深究了。反正我是能多简略就多简略的把Haar分类器的前世今生说完鸟，得出的结论是，大牛们都是成对儿的。。。额，回到正题，</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff0000">Haar分类器&nbsp;=&nbsp;&nbsp;Haar-like特征&nbsp;+&nbsp;积分图方法&nbsp;+&nbsp;AdaBoost + 级联；</span>&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff6633">注：为何称其为Haar-like？这个名字是我从网上看来的，《Learning&nbsp;OpenCV》中文版提到Haar分类器使用到Haar特征，但这种说法不确切，应该称为类Haar特征，Haar-like就是类Haar特征的意思。</span></p><h3 style="font-size: 10pt; border-bottom: 1px dotted #d6d6d6; color: #000000; background-color: transparent"><span style="line-height: 30px; font-size: 15pt; font-family: 宋体">二、</span><span style="line-height: 30px; font-size: 15pt; font-family: 宋体">Haar分类器的浅入浅出</span></h3><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">之所以是浅入浅出是因为，我暂时深入不能，只是根据其他人的总结，我加以梳理归纳，用自己的理解阐述出来，难免会有错误，欢迎指正。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">Haar分类器算法的要点如下：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">①　</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">使用Haar-like特征做检测。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">②　</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">使用积分图（</span><span style="line-height: 18px; font-weight: bold; font-size: 9pt; font-family: 'Times New Roman'; color: #0000ff">Integral&nbsp;Image</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">）对Haar-like特征求值进行加速。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">③　</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">使用AdaBoost算法训练区分人脸和非人脸的强分类器。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">④　</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">使用筛选式级联把强分类器级联到一起，提高准确率。</span></p><h4><span style="line-height: 28px; font-weight: normal; font-size: 14pt; font-family: 黑体">2.1&nbsp;Haar-like特征你是何方神圣？</span></h4><p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">一看到</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">Haar-like特征这玩意儿就头大的人举手。好，很多人。那么</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">我先说下什么是特征，我把它放在下面的情景中来描述，假设在人脸检测时我们需要有这么一个子窗口在待检测的图片窗口中不断的移位滑动，子窗口每到一个位置，就会计算出该区域的特征，然后用我们训练好的级联分类器对该特征进行筛选，一旦该特征通过了所有强分类器的筛选，则判定该区域为人脸。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">那么这个特征如何表示呢？好了，这就是大牛们干的好事了。后人称这他们搞出来的这些东西叫Haar-Like特征。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff0000">下面是Viola牛们提出的Haar-like特征。</span></p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;<img style="border: 0px none" src="组合子逻辑-2" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%871.png" border="0" width="553" height="233" /></span>&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff0000">下面是Lienhart等牛们提出的Haar-like特征。</span></p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;</span><img style="border: 0px none" src="index-2.php-title=形式参数&action=edit&redlink=1" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%872.png" border="0" width="393" height="129" />&nbsp;</p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;</span><img style="border: 0px none" src="外延性-2" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%874.png" border="0" width="633" height="129" />&nbsp;</p><p style="margin: 10px auto; text-indent: 0px"><img style="border: 0px none" src="index-1.php-go=category_19&mode=2&page=1" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%873.png" border="0" width="345" height="129" />&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体"><br />这些所谓的特征不就是一堆堆带条纹的矩形么，到底是干什么用的？我这样给出解释，将上面的任意一个矩形放到人脸区域上，然后，将白色区域的像素和减去黑色区域的像素和，得到的值我们暂且称之为人脸特征值，如果你把这个矩形放到一个非人脸区域，那么计算出的特征值应该和人脸特征值是不一样的，而且越不一样越好，所以这些方块的目的就是把人脸特征量化，以区分人脸和非人脸。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">为了增加区分度，可以对多个矩形特征计算得到一个区分度更大的特征值，那么什么样的矩形特征怎么样的组合到一块可以更好的区分出人脸和非人脸呢，这就是AdaBoost算法要做的事了。这里我们先放下积分图这个概念不管，为了让我们的思路连贯，我直接开始介绍AdaBoost算法。</span></p><h4><span style="line-height: 28px; font-weight: normal; font-size: 14pt; font-family: 黑体">2.2&nbsp;AdaBoost你给我如实道来！</span></h4><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">本节旨在介绍AdaBoost在Haar分类器中的应用，所以只是描述了它在Haar分类器中的特性，而实际上AdaBoost是一种具有一般性的分类器提升算法，它使用的分类器并不局限某一特定算法。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">上面说到利用AdaBoost算法可以帮助我们选择更好的矩阵特征组合，其实这里提到的矩阵特征组合就是我们之前提到的分类器，分类器将矩阵组合以二叉决策树的形式存储起来。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">我现在脑子里浮现了很多问题，总结起来大概有这么些个：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">v&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">弱分类器和强分类器是什么？</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">v&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">弱分类器是怎么得到的？</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">v&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">强分类器是怎么得到的？</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0000ff">v&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0000ff">二叉决策树是什么？</span></p><p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">要回答这一系列问题，我得跟你罗嗦一会儿了，这得从AdaBoost的身世说起。</span></p><h5 style="margin: 0px; padding: 0px; font-size: 0.9em"><span style="line-height: 28px; font-size: 14pt; font-family: 宋体">2.2.1&nbsp;AdaBoost的身世之谜</span></h5><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff6633">关于AdaBoost的身世，我把相关英文文献从上世纪80年代一直下到2001年，我发现我在短时间内没法读完，所以我只能尝试着从别人的总结中拼凑那些离散的片段，难免有误。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">之前讲Haar分类器的前世今生也简单说过AdaBoost的身世，但是说的还不透。我比较喜欢查算法的户口，所以新写了一章查了下去。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">AdaBoost的老祖宗可以说是机器学习的一个模型，它的名字叫PAC(Probably&nbsp;Approximately&nbsp;Correct)。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">PAC模型是计算学习理论中常用的模型，是Valiant牛在我还没出生的1984年提出来的【5】，</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">他认为&ldquo;学习&quot;是模式明显清晰或模式不存在时仍能获取知识的一种&ldquo;过程&rdquo;，并给出了一个从计算角度来获得这种&ldquo;过程&quot;的方法，这种方法包括：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">(1)适当信息收集机制的选择；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">(2)学习的协定；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">(3)对能在合理步骤内完成学习的概念的分类。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">PAC学习的实质就是在样本训练的基础上，使算法的输出以概率接近未知的目标概念。PAC学习模型是考虑样本复杂度(指学习器收敛到成功假设时至少所需的训练样本数)和计算复杂度(指学习器收敛到成功假设时所需的计算量)的一个基本框架，成功的学习被定义为形式化的概率理论。（来自论文《基于Adaboost的人脸检测方法及眼睛定位算法研究》）</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">简单说来，PAC学习模型不要求你每次都正确，只要能在多项式个样本和多项式时间内得到满足需求的正确率，就算是一个成功的学习。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">基于PAC学习模型的理论分析，</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Valiant</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">牛提出了Boosting算法【5】，Boosting算法涉及到两个重要的概念就是弱学习和强学习，所谓的弱学习，就是指一个学习算法对一组概念的识别率只比随机识别好一点，所谓强学习，就是指一个学习算法对一组概率的识别率很高。现在我们知道所谓的弱分类器和强分类器就是弱学习算法和强学习算法。弱学习算法是比较容易获得的，获得过程需要数量巨大的假设集合，这个假设集合是基于某些简单规则的组合和对样本集的性能评估而生成的，而强学习算法是不容易获得的，然而，</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 'Times New Roman'">Kearns&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 'Times New Roman'">Valiant&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">两头牛提出了弱学习和强学习等价的问题</span><span class="Apple-converted-space">&nbsp;</span><span style="line-height: 19px; font-family: 宋体">【6】</span>&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">并证明了只要有足够的数据，弱学习算法就能通过集成的方式生成任意高精度的强学习方法。这一证明使得Boosting有了可靠的理论基础，Boosting算法成为了一个提升分类器精确性的一般性方法。【4】</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">1990年，</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Schapire</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">牛提出了第一个多项式时间的算法【7】，1年后</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Freund</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">牛又提出了一个效率更高的Boosting算法【8】。然而，Boosting算法还是存在着几个主要的问题，其一Boosting算法</span><span style="line-height: 21px; font-size: 10.5pt; background-color: #ffffdd; font-family: Arial">需要预先知道弱学习算法学习正确率的下限即弱分类器的</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">误差</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">，其二</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">Boosting算法</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">可能导致后来的</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">训练</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">过分集中于少数特别</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">难区分</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">的样本</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">，导致不稳定</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">。</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">针对</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">Boosting的若干缺陷，</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; background-color: #ffffdd; font-family: 宋体">Freund</span><span style="line-height: 21px; font-size: 10.5pt; background-color: #ffffdd; font-family: 宋体">和</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; background-color: #ffffdd; font-family: 宋体">Schapire</span><span style="line-height: 21px; font-size: 10.5pt; background-color: #ffffdd; font-family: 宋体">牛于1996年前后提出了一个实际可用的自适应Boosting算法AdaBoost【9】，AdaBoost目前已发展出了大概四种形式的算法，Discrete&nbsp;AdaBoost（</span><span style="line-height: 21px; font-size: 10.5pt; background-color: #ffffdd; font-family: Arial">AdaBoost.M1</span><span style="line-height: 21px; font-size: 10.5pt; background-color: #ffffdd; font-family: 宋体">）、Real&nbsp;AdaBoost、LogitBoost、gentle&nbsp;AdaBoost,本文不做一一介绍。至此，AdaBoost的身世之谜就这样揭开鸟。同时弱分类器和强分类器是什么的问题也解释清楚了。剩下3个问题，我们先看一下，弱分类器是如何得到的。</span></p><h5 style="margin: 0px; padding: 0px; font-size: 0.9em"><span style="line-height: 28px; font-size: 14pt; font-family: 宋体">2.2.2&nbsp;弱分类器的孵化</span></h5><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">最初的弱分类器可能只是一个最基本的Haar-like特征，计算输入图像的Haar-like特征值，和最初的弱分类器的特征值比较，以此来判断输入图像是不是人脸，然而这个弱分类器太简陋了，可能并不比随机判断的效果好，对弱分类器的孵化就是训练弱分类器成为最优弱分类器，注意这里的最优不是指强分类器，只是一个误差相对稍低的弱分类器，训练弱分类器实际上是为分类器进行设置的过程。至于如何设置分类器，设置什么，我们首先分别看下弱分类器的数学结构和代码结构。</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0066ff">&sup2;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">数学结构</span></p><p style="margin: 10px auto; text-indent: 0px"><img style="border: 0px none" src="index-2.php-go=category_19&mode=1&page=1" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%875.png" border="0" width="430" height="89" />&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">一个弱分类器<img style="border: 0px none" src="read-1.php-6353" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%876.png" border="0" width="82" height="22" /></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">由子窗口图像x，一个特征f，指示不等号方向的p和阈值<img style="border: 0px none" src="read-3.php-6154" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%877.png" border="0" width="14" height="19" /></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">组成。P的作用是控制不等式的方向，使得不等式都是&lt;号，形式方便。</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings; color: #0066ff">&sup2;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">代码结构</span></p><div class="cnblogs_code" style="background-color: #f5f5f5; font-family: 'Courier New'; font-size: 12px; border: 1px solid #cccccc; padding: 5px; overflow: auto; margin: 5px 0px"><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div><div style="background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;1</span>&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000"><br /></span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;2</span>&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;*&nbsp;CART&nbsp;classifier<br /></span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;3</span>&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;4</span>&nbsp;typedef&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvCARTHaarClassifier<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;5</span>&nbsp;&#123;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CV_INT_HAAR_CLASSIFIER_FIELDS()<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;7</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>&nbsp;count;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>*&nbsp;compidx;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;9</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CvTHaarFeature*&nbsp;feature;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CvFastHaarFeature*&nbsp;fastfeature;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">11</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">float</span>*&nbsp;threshold;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">12</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>*&nbsp;left;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">13</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>*&nbsp;right;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">14</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">float</span>*&nbsp;val;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">15</span>&nbsp;&#125;&nbsp;CvCARTHaarClassifier;</div><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div></div><p style="margin: 10px auto; text-indent: 0px">&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">代码结构中的threshold即代表数学结构中的</span><img style="border: 0px none; font-family: 宋体" src="read-3.php-6154" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%877.png" border="0" width="14" height="19" /><span style="line-height: 21px; text-indent: 21pt; font-size: 10.5pt; font-family: 宋体">阈值。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">这个阈值究竟是干什么的？我们先了解下CvCARTHaarClassifier这个结构，注意CART这个词，它是一种二叉决策树，它的提出者Leo&nbsp;Breiman等牛称其为&ldquo;分类和回归树（CART）&rdquo;。什么是决策树？我如果细讲起来又得另起一章，我只简略介绍它。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">&ldquo;</span><a style="color: #0066aa; text-decoration: none" href="javascript:if(confirm('http://zh.wikipedia.org/wiki/read.php?6153  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://zh.wikipedia.org/wiki/read.php?6153'" tppabs="http://zh.wikipedia.org/wiki/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'; color: #ff00ff">机器学习</span></a><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'; color: #ff00ff">中，决策树是一个预测模型；他代表的是对象属性与对象值之间的一种映射关系。树中每个节点表示某个对象，而每个分叉路径则代表的某个可能的属性值，而每个叶结点则对应从根节点到该叶节点所经历的路径所表示的对象的值。决策树仅有单一输出，若欲有复数输出，可以建立独立的决策树以处理不同输出。从数据产生决策树的机器学习技术叫做决策树学习,&nbsp;通俗说就是决策树。</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">&rdquo;（来自《维基百科》）</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">决策树包含：分类树，回归树，分类和回归树（CART），</span><a style="color: #0066aa; text-decoration: none" href="javascript:if(confirm('http://en.wikipedia.org/wiki/read.php?6152  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://en.wikipedia.org/wiki/read.php?6152'" tppabs="http://en.wikipedia.org/wiki/CHAID"><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'">CHAID</span></a>&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">分类和回归的区别是，</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">分类</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'; color: #ff00ff">是当预计结果可能为两种类型(例如男女，输赢等)使用的概念。</span>&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">回归</span><span style="line-height: 22px; font-size: 11pt; font-family: sans-serif">是</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 'Times New Roman'; color: #ff00ff">当局域结果可能为实数(例如房价，患者住院时间等)使用的概念。&nbsp;</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">决策树用途很广可以分析因素对事件结果的影响（详见维基百科），同时也是很常用的分类方法，我举个最简单的决策树例子，假设我们使用三个Haar-like特征f1，f2，f3来判断输入数据是否为人脸，可以建立如下决策树：</span></p><p style="margin: 10px auto; text-indent: 0px"><img style="border: 0px none" src="read-3.php-5505" tppabs="http://images.cnblogs.com/cnblogs_com/ello/7.jpg" border="0" width="580" height="509" />&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">可以看出，在分类的应用中，每个非叶子节点都表示一种判断，每个路径代表一种判断的输出，每个叶子节点代表一种类别，并作为最终判断的结果。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">一个弱分类器就是一个基本和上图类似的决策树，最基本的弱分类器只包含一个Haar-like特征，也就是它的决策树只有一层，被称为树桩（stump）。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">最重要的就是如何决定每个结点判断的输出，要比较输入图片的特征值和弱分类器中特征，一定需要一个阈值，当输入图片的特征值大于该阈值时才判定其为人脸。训练最优弱分类器的过程实际上就是在寻找合适的分类器阈值，使该分类器对所有样本的判读误差最低。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">具体操作过程如下：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">1）对于每个特征&nbsp;f，计算所有训练样本的特征值，并将其排序。</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">扫描一遍排好序的特征值，对排好序的表中的每个元素，计算下面四个值：</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">全部人脸样本的权重的和t1；</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">全部非人脸样本的权重的和t0；</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">在此元素之前的人脸样本的权重的和s1；</span></p><p style="margin: 0pt auto 0pt 21pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #0066ff">在此元素之前的非人脸样本的权重的和s0；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">2）最终求得每个元素的分类误差<img style="border: 0px none" src="read-4.php-5321" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%878.png" border="0" width="246" height="22" /></span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">在表中寻找r值最小的元素，则该元素作为最优阈值。有了该阈值，我们的第一个最优弱分类器就诞生了。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">在这漫长的煎熬中，我们见证了一个弱分类器孵化成长的过程，并回答了如何得到弱分类器以及二叉决策树是什么。最后的问题是强分类器是如何得到的。</span></p><h5 style="margin: 0px; padding: 0px; font-size: 0.9em"><span style="line-height: 28px; font-size: 14pt; font-family: 宋体">2.2.3&nbsp;弱分类器的化蝶飞</span></h5><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">首先看一下强分类器的代码结构:</span></p><div class="cnblogs_code" style="background-color: #f5f5f5; font-family: 'Courier New'; font-size: 12px; border: 1px solid #cccccc; padding: 5px; overflow: auto; margin: 5px 0px"><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">1</span>&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;internal&nbsp;stage&nbsp;classifier&nbsp;</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">2</span>&nbsp;typedef&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvStageHaarClassifier<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">3</span>&nbsp;&#123;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">4</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CV_INT_HAAR_CLASSIFIER_FIELDS()<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">5</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>&nbsp;count;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">float</span>&nbsp;threshold;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">7</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CvIntHaarClassifier**&nbsp;classifier;<br /><span style="font-family: verdana,'courier new'; color: #008080"><span style="line-height: 21px; font-size: 14px; font-family: 'Courier New'">8</span></span><span class="Apple-converted-space">&nbsp;</span>&#125;CvStageHaarClassifier;<div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div></div><div class="cnblogs_code" style="background-color: #f5f5f5; font-family: 'Courier New'; font-size: 12px; border: 1px solid #cccccc; padding: 5px; overflow: auto; margin: 5px 0px"><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div><div style="background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;internal&nbsp;weak&nbsp;classifier</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br />typedef&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvIntHaarClassifier<br />&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;CV_INT_HAAR_CLASSIFIER_FIELDS()<br />&#125;&nbsp;CvIntHaarClassifier;</div><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div></div><p style="margin: 10px auto; text-indent: 0px">&nbsp;</p><div style="text-indent: 0px"><span style="line-height: 19px; text-indent: 28px; font-family: 宋体">&nbsp; &nbsp; 这里要提到的是CvIntHaarClassifier结构：</span>&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">它就相当于一个接口类，当然是用C语言模拟的面向对象思想，利用CV_INT_HAAR_CLASSIFIER_FIELDS()这个宏让弱分类CvCARTHaarClassifier强分类器和CvStageHaarClassifier继承于CvIntHaarClassifier。</span></div><p style="margin: 10px auto; text-indent: 0px">&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">强分类器的诞生需要T轮的迭代，具体操作如下：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">1.&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">给定训练样本集S</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">，共</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">N个样本</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">，其中X和Y分别对应</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">于正</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">样本和负样本；&nbsp;T为训练的最大循环次数；　　</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">2.&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">初始化样本权重为1/</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">N</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">&nbsp;，即为训练样本的初始概率分布；　　</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">3.&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: Arial">第一次迭代</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">训练</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">N个样本，得到第一个最优弱分类器，步骤见2.2.2节</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">4.&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">提高上一轮中被误判的样本的权重；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">5.&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">将新的样本和上次本分错的样本放在一起进行新一轮的训练。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">6.&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">循环执行</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">4-5步骤，T轮后得到T个最优弱分类器。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">7.组合T个最优弱分类器得到强分类器，组合方式如下：</span></p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;</span><img style="border: 0px none" src="read-4.php-3924" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%879.png" border="0" width="422" height="97" />&nbsp;</p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;</span><img style="border: 0px none" src="read-4.php-3923" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%8710.png" border="0" width="161" height="54" />&nbsp;</p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; text-indent: 21pt; font-family: 宋体; color: #ff00ff">&nbsp; &nbsp; 相当于让所有弱分类器投票，再对投票结果按照弱分类器的错误率加权求和，将投票加权求和的结果与平均投票结果比较得出最终的结果。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">至此，我们看到其实我的题目起的漂亮却并不贴切，强分类器的脱颖而出更像是民主的投票制度，众人拾材火焰高，强分类器不是个人英雄主义的的产物，而是团结的力量。但从宏观的局外的角度看，整个AdaBoost算法就是一个弱分类器从孵化到化蝶的过程。小人物的奋斗永远是理想主义者们津津乐道的话题。但暂时让我们放下AdaBoost继续探讨Haar分类器的其他特性吧。</span></p><h4><span style="line-height: 28px; font-weight: normal; font-size: 14pt; font-family: 黑体">2.3&nbsp;强分类器的强强联手</span></h4><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">至今为止我们好像一直在讲分类器的训练，实际上Haar分类器是有两个体系的，</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">训练的体系，和检测的体系。训练的部分大致都提到了，还剩下最后一部分就是对筛选式级联分类器的训练。我们看到了通过AdaBoost算法辛苦的训练出了强分类器，然而在现实的人脸检测中，只靠一个强分类器还是难以保证检测的正确率，这个时候，需要一个豪华的阵容，训练出多个强分类器将它们强强联手，最终形成正确率很高的级联分类器这就是我们最终的目标Haar分类器。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">那么训练级联分类器的目的就是为了检测的时候，更加准确，这涉及到Haar分类器的另一个体系，检测体系，检测体系是以现实中的一幅大图片作为输入，然后对图片中进行多区域，多尺度的检测，所谓多区域，是要对图片划分多块，对每个块进行检测，由于训练的时候用的照片一般都是20*20左右的小图片，所以对于大的人脸，还需要进行多尺度的检测，多尺度检测机制一般有两种策略，一种是不改变搜索窗口的大小，而不断缩放图片，这种方法显然需要对每个缩放后的图片进行区域特征值的运算，效率不高，而另一种方法，是不断初始化搜索窗口size为训练时的图片大小，不断扩大搜索窗口，进行搜索，解决了第一种方法的弱势。在区域放大的过程中会出现同一个人脸被多次检测，这需要进行区域的合并，这里不作探讨。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">无论哪一种搜索方法，都会为输入图片输出大量的子窗口图像，这些子窗口图像经过筛选式级联分类器会不断地被每一个节点筛选，抛弃或通过。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">它的结构如图所示。</span></p><p style="margin: 10px auto; text-indent: 0px"><img style="border: 0px none" src="read-5.php-5973" tppabs="http://images.cnblogs.com/cnblogs_com/ello/11.png" border="0" width="566" height="472" />&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">我想你一定觉得很熟悉，这个结构不是很像一个简单的决策树么。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">在代码中，它的结构如下：</span></p><div class="cnblogs_code" style="background-color: #f5f5f5; font-family: 'Courier New'; font-size: 12px; border: 1px solid #cccccc; padding: 5px; overflow: auto; margin: 5px 0px"><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div><div style="background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;1</span>&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;internal&nbsp;tree&nbsp;cascade&nbsp;classifier&nbsp;node&nbsp;</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;2</span>&nbsp;typedef&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeNode<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;3</span>&nbsp;&#123;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;4</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CvStageHaarClassifier*&nbsp;stage;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;5</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeNode*&nbsp;next;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeNode*&nbsp;child;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;7</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeNode*&nbsp;parent;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeNode*&nbsp;next_same_level;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">&nbsp;9</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeNode*&nbsp;child_eval;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>&nbsp;idx;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">11</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>&nbsp;leaf;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">12</span>&nbsp;&#125;&nbsp;CvTreeCascadeNode;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">13</span>&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;internal&nbsp;tree&nbsp;cascade&nbsp;classifier&nbsp;</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">14</span>&nbsp;typedef&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">struct</span>&nbsp;CvTreeCascadeClassifier<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">15</span>&nbsp;&#123;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CV_INT_HAAR_CLASSIFIER_FIELDS()<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">17</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CvTreeCascadeNode*&nbsp;root;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;root&nbsp;of&nbsp;the&nbsp;tree&nbsp;</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">18</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CvTreeCascadeNode*&nbsp;root_eval;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">/*</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">&nbsp;root&nbsp;node&nbsp;for&nbsp;the&nbsp;filtering&nbsp;</span><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008000">*/</span><br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">19</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #0000ff">int</span>&nbsp;next_idx;<br /><span style="line-height: 1.5; font-size: 12px; font-family: 'Courier New'; color: #008080">20</span>&nbsp;&#125;&nbsp;CvTreeCascadeClassifier;</div><div class="cnblogs_code_toolbar" style="margin-top: 5px; background-color: #f5f5f5"><span style="line-height: 1.5; font-size: 12px; padding-right: 5px; font-family: 'Courier New'" class="cnblogs_code_copy"><a style="color: #0066aa; text-decoration: none; background-color: #f5f5f5 ! important; border: medium none ! important" title="复制代码"><img style="border: medium none ! important; background-color: #f5f5f5 ! important" src="copycode.gif" tppabs="http://common.cnblogs.com/images/copycode.gif" border="0" alt="复制代码" /></a></span></div></div><p style="margin: 10px auto; text-indent: 0px">&nbsp;</p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">级联强分类器的策略是，将若干个强分类器由简单到复杂排列，希望经过训练使每个强分类器都有较高检测率，而误识率可以放低，比如几乎99%的人脸可以通过，但50%的非人脸也可以通过，这样如果有20个强分类器级联，那么他们的总识别率为0.99^20&nbsp;<img style="border: 0px none" src="read-3.php-3182" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%8721.png" border="0" width="14" height="14" />&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">98%，错误接受率也仅为0.5^20&nbsp;</span><span class="Apple-converted-space">&nbsp;</span><img style="border: 0px none; font-family: 宋体" src="read-3.php-3182" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%8721.png" border="0" width="14" height="14" />&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">0.0001%。这样的效果就可以满足现实的需要了，但是如何使每个强分类器都具有较高检测率呢，为什么单个的强分类器不可以同时具有较高检测率和较高误识率呢？</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">下面我们讲讲级联分类器的训练。（</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">主要参考了论文《基于Adaboost的人脸检测方法及眼睛定位算法研究》）</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">设K是一个级联检测器的层数，D是该级联分类器的检测率，F是该级联分类器的误识率，d<sub>i</sub>是第i层强分类器的检测率，f<sub>i</sub>是第i层强分类器的误识率。如果要训练一个级联分类器达到给定的F值和D值，只需要训练出每层的d值和f值，这样：</span></p><p style="margin: 0pt auto 0pt 126pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">d^K&nbsp;=&nbsp;D,f^K&nbsp;=&nbsp;F</span></p><p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">级联分类器的要点就是如何训练每层强分类器的d值和f值达到指定要求。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">AdaBoost训练出来的强分类器一般具有较小的误识率，但检测率并不很高，一般情况下，高检测率会导致高误识率，这是强分类阈值的划分导致的，要提高强分类器的检测率既要降低阈值，要降低强分类器的误识率就要提高阈值，这是个矛盾的事情。据参考论文的实验结果，增加分类器个数可以在提高强分类器检测率的同时降低误识率，所以级联分类器在训练时要考虑如下平衡，一是弱分类器的个数和计算时间的平衡，二是强分类器检测率和误识率之间的平衡。具体训练方法如下,我用伪码的形式给出：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">1）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">设定每层最小要达到的检测率d，最大误识率f，最终级联分类器的误识率Ft；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">2）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">P=人脸训练样本，N=非人脸训练样本，D<sub>0</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">=1.0，F<sub>0</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">=1.0；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">3）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">i=0；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">4）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">for&nbsp;:&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">&gt;Ft</span></p><p style="margin: 0pt auto 0pt 63pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">l&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">++i;</span></p><p style="margin: 0pt auto 0pt 63pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">l<span class="Apple-converted-space">&nbsp;</span></span><span style="line-height: 21px; font-size: 10.5pt">n<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">=0;</span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">=</span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i-1</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">;</span></p><p style="margin: 0pt auto 0pt 63pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">l&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">for&nbsp;:<span class="Apple-converted-space">&nbsp;</span></span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">&gt;f*</span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i-1</sub></span></p><p style="margin: 0pt auto 0pt 84pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">n&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">++</span><span style="line-height: 21px; font-size: 10.5pt">n<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">;</span></p><p style="margin: 0pt auto 0pt 84pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">n&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">利用AdaBoost算法在P和N上训练具有n<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">个弱分类器的强分类器;</span></p><p style="margin: 0pt auto 0pt 84pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">n&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">衡量当前级联分类器的检测率</span><span style="line-height: 21px; font-size: 10.5pt">D<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和误识率</span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">;</span></p><p style="margin: 0pt auto 0pt 84pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">n&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">for&nbsp;:<span class="Apple-converted-space">&nbsp;</span></span><span style="line-height: 21px; font-size: 10.5pt">d<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">&lt;d*</span><span style="line-height: 21px; font-size: 10.5pt">D<sub>i-1</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">;</span></p><p style="margin: 0pt auto 0pt 105pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">降低第i层的强分类器阈值;</span></p><p style="margin: 0pt auto 0pt 105pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">&Oslash;&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">衡量当前级联分类器的检测率</span><span style="line-height: 21px; font-size: 10.5pt">D<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">和误识率</span><span style="line-height: 21px; font-size: 10.5pt">F<sub>i</sub></span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">;</span></p><p style="margin: 0pt auto 0pt 84pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">n&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">N&nbsp;=&nbsp;</span>&Phi;<span style="line-height: 21px; font-size: 10.5pt; text-indent: -21pt; font-family: 宋体">;</span></p><p style="margin: 0pt auto 0pt 84pt; text-indent: -21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: Wingdings">n&nbsp;</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">利用当前的级联分类器检测非人脸图像，将误识的图像放入N;</span></p><h4><span style="line-height: 28px; font-weight: normal; font-size: 14pt; font-family: 黑体">2.4&nbsp;积分图是一个加速器</span></h4><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">之所以放到最后讲积分图（Integral&nbsp;image），不是因为它不重要，正相反，它是Haar分类器能够实时检测人脸的保证。当我把Haar分类器的主脉络都介绍完后，其实在这里引出积分图的概念恰到好处。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">在前面的章节中，我们熟悉了Haar-like分类器的训练和检测过程，你会看到无论是训练还是检测，每遇到一个图片样本，每遇到一个子窗口图像，我们都面临着如何计算当前子图像特征值的问题，一个Haar-like特征在一个窗口中怎样排列能够更好的体现人脸的特征，这是未知的，所以才要训练，而训练之前我们只能通过排列组合穷举所有这样的特征，仅以</span><span style="line-height: 24px; font-weight: bold; font-size: 12pt; font-family: 宋体">Viola</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">牛提出的最基本四个特征为例，在一个24&times;24size的窗口中任意排列至少可以产生数以10万计的特征，对这些特征求值的计算量是非常大的。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">而积分图就是只遍历一次图像就可以求出图像中所有区域像素和的快速算法，大大的提高了图像特征值计算的效率。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">我们来看看它是怎么做到的。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">积分图是一种能够描述全局信息的矩阵表示方法。积分图的构造方式是位置（i,j）处的值ii(i,j)是原图像(i,j)左上角方向所有像素的和：</span></p><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;</span><img style="border: 0px none" src="read-4.php-2542" tppabs="http://images.cnblogs.com/cnblogs_com/ello/%E5%9B%BE%E7%89%8720.png" border="0" width="128" height="38" />&nbsp;&nbsp;<p style="margin: 0pt auto; text-indent: 0px"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">&nbsp; &nbsp; 积分图构建算法：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">1）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">用s(i,j)表示行方向的累加和，初始化s(i,-1)=0;</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">2）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">用ii(i,j)表示一个积分图像，初始化ii(-1,i)=0；</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">3）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">逐行扫描图像，递归计算每个像素(i,j)行方向的累加和s(i,j)和积分图像ii(i,j)的值</span></p><p style="margin: 0pt auto 0pt 147pt; text-indent: 21pt; text-align: justify"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">s(i,j)=s(i,j-1)+f(i,j)</span></p><p style="margin: 0pt auto 0pt 147pt; text-indent: 21pt; text-align: justify"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">ii(i,j)=ii(i-1,j)+s(i,j)</span></p><p style="margin: 0pt auto; text-indent: 21pt; text-align: justify"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">4）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体; color: #ff00ff">扫描图像一遍，当到达图像右下角像素时，积分图像ii就构造好了。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">积分图构造好之后，图像中任何矩阵区域的像素累加和都可以通过简单运算得到如图所示。</span></p><p style="margin: 10px auto; text-indent: 0px"><span style="line-height: 19px; white-space: pre" class="Apple-tab-span">&nbsp;&nbsp;<img style="border: 0px none" src="read-3.php-1664" tppabs="http://images.cnblogs.com/cnblogs_com/ello/77.jpg" border="0" width="297" height="130" /></span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">设D的四个顶点分别为</span>&alpha;、&beta;、&gamma;、&delta;<span style="line-height: 21px; font-size: 10.5pt; text-indent: 21pt; font-family: 宋体">，则D的像素和可以表示为</span></p><p style="margin: 0pt auto 0pt 126pt; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">Dsum&nbsp;=&nbsp;ii(</span><span class="Apple-converted-space">&nbsp;</span>&alpha;&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">)+ii(</span><span class="Apple-converted-space">&nbsp;</span>&beta;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">)-(ii(</span><span class="Apple-converted-space">&nbsp;</span>&gamma;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">)+ii(</span><span class="Apple-converted-space">&nbsp;</span>&delta;&nbsp;<span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">));</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">而Haar-like特征值无非就是两个矩阵像素和的差，同样可以在常数时间内完成。</span></p><h3 style="font-size: 10pt; border-bottom: 1px dotted #d6d6d6; color: #000000; background-color: transparent"><span style="line-height: 30px; font-size: 15pt; font-family: 宋体">三、</span><span style="line-height: 30px; font-size: 15pt; font-family: 宋体">Haar分类器你敢更快点吗？！</span></h3><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">这一章我简略的探讨下Haar分类器的检测效率。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">我尝试过的几种方法：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">1）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">尝试检测算法与跟踪算法相结合，原本以为Camshift是个轻量级的算法，但是正如我后来看到的，建立反向投影图的效率实在不高，在PC上效果不错，但是在ios上速度很慢，这个我后来发现可能是因为ios浮点运算效率不高的原因。但是即便速度能上去，靠Camshift跟踪算法太依赖肤色了，导致脖子，或是手什么的干扰很严重，这个调起来很费神，也不一定能调好。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">2）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">修改OpenCV中Haar检测函数的参数，效果非常明显，得出的结论是，搜索窗口的搜索区域是提高效率的关键。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">3）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">根据2）的启发，我打算利用YCbCr颜色空间，粗估肤色区域，以减少人脸的搜索面积，但是后来苦于没能高效率的区分出肤色区域，放弃了该方法。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">4）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">换了策略，考虑到视频中人脸检测的特殊性，上一帧人脸的位置信息对下一帧的检测有很高的指导价值，所以采有帧间约束的方法，减少了人脸搜索的区域，并且动态调整Haar检测函数的参数，得到了较高的效率。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">5）</span><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">其他关于算法之外的优化需要根据不同的处理器做具体的优化。</span></p><h3 style="font-size: 10pt; border-bottom: 1px dotted #d6d6d6; color: #000000; background-color: transparent"><span style="line-height: 31px; font-weight: normal; font-size: 16pt; font-family: 宋体">四、</span><span style="line-height: 31px; font-weight: normal; font-size: 16pt; font-family: 宋体">总结</span></h3><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">之前没怎么接触到计算机视觉领域，这次reseach对我来说是一个不小的挑战，发现其中涉及大量的数学知识，线代，统计学，数学分析等等，虽然感到困难重重，但我感到莫大的兴趣，尤其是机器学习领域，在我眼前展开的是一幅美妙的画面，大牛们神乎其技各显神通，复杂的数学公式背后蕴含着简单的哲理和思想。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">人类的发展来源于对自然背后神秘力量的好奇和膜拜，简单的结构往往构建出让人难以想象的伟大，0和1构成了庞大的电子信息世界，DNA构成了自己都无法完全了解自己的生命体，夸克或是比夸克还小的粒子构成了这个令人着迷的宇宙，在这些简单的结构背后，是什么在注视着我们，狭义的编程只是在计算机的硬件躯壳内构建可执行的程序，而广义的编程在我看来是创造世界的一种手段。</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">现在，我给你一个创造世界的机会，你是用Vim还是Emacs，也许你会调侃的跟我说：</span></p><p style="margin: 0pt auto; text-indent: 21pt"><span style="line-height: 21px; font-size: 10.5pt; font-family: 宋体">&ldquo;恩，我用E&nbsp;=&nbsp;mc^2&rdquo;。</span></p><p style="margin: 10px auto; text-indent: 0px">&nbsp;</p><p style="margin: 10px auto; text-indent: 0px">&nbsp;附录：</p><span style="line-height: 21px">论文列表：</span>&nbsp;<br /><p style="margin: 10px auto; text-indent: 0px">【1】《Rapid&nbsp;Object&nbsp;Detection&nbsp;using&nbsp;a&nbsp;Boosted&nbsp;Cascade&nbsp;of&nbsp;Simple&nbsp;Features》</p><p style="margin: 10px auto; text-indent: 0px">【2】《Robust&nbsp;Real-Time&nbsp;Face&nbsp;Detection》</p><span style="line-height: 21px; font-size: 10.5pt; text-indent: 30px">【3】《</span>An Extended Set of Haar-like Features for Rapid Object Detection》<p style="margin: 10px auto; text-indent: 0px">【4】《Crytographic Limitations on Learning Boolean Formulae and Finite Automata》</p><p style="margin: 10px auto; text-indent: 0px">【5】《A Theory of the Learnable》</p><p style="margin: 10px auto; text-indent: 0px">【6】《The Computational Complexity&nbsp;of Machine Learning》</p><p style="margin: 10px auto; text-indent: 0px">【7】《The Strength of Weak Learnability》</p><p style="margin: 10px auto; text-indent: 0px">【8】《Boosting a weak learning algorithm》</p><p style="margin: 10px auto; text-indent: 0px">【9】《A Decision-Theoretic Generalization of On-Line Learning&nbsp;and an Application to Boosting》</p></div><p style="margin: 10px auto; text-indent: 0px"><span style="color: #008080"><br /></span></p></div><div id="MySignature" style="margin-top: 10px; color: #000000; font-family: Verdana,Geneva,Arial,Helvetica,sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 23px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #ffffff">我是这世界的某个bug</div><br /> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 199 ms, 6 Queries.</span>";
//]]>
</script></body>
</html>