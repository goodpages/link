<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>游戏 - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-index">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: block">
						<div class="announce-content">
						游戏
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							<span class="pagebar-mainbody"> 分页： 1/46  <a href="index.php-go=category_62&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=1"><img src="doubleleft.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleleft.gif" alt="第一页" title="第一页" border="0"/></a> <span class="pagebar-selections"> <span class="pagelink-current">1</span>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5212  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5212'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=2">2</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5209  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5209'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=3">3</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5208  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5208'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=4">4</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5207  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5207'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=5">5</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5206  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5206'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=6">6</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5205  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5205'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=7">7</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5204  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5204'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=8">8</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5202  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5202'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=9">9</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5159  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5159'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=10">10</a> </span> <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5212  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5212'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=2"><img src="singleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/singleright.gif" alt="下页" title="下页" border="0"/></a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5149  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5149'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=46"><img src="doubleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleright.gif" alt="最后页" title="最后页" border="0"/></a> </span> [ 显示模式： <a href="index.php-go=category_62&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=1" title="切换到摘要模式">摘要</a> | <a href="index.php-go=category_62&mode=2&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=2&page=1" title="切换到列表模式">列表</a> ]
						</div>
					</div>
					<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Feb</span>
	<span class="textbox-calendar-day">9</span>
	</div>
	<div class="textbox-title">
		<h4>
		[置顶] <a href="javascript: showhidediv('top_5836');">个人如何成为一个优秀的独立游戏开发者？</a> <span id="starid5836"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 16:25 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-5836.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?5836#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb5836");'>引用(0)</a> , <a href="read.php-5836.htm" tppabs="http://i.renjihe.com/blog/read.php?5836">阅读(13)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb5836" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div id="top_5836" style="display: none;">
	<div class="textbox-content">
	<span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">关于第一个问题，如何在只懂编程的基础下开发游戏，必须得提到美感。在我看来，对美的理解和品位是决定一切的关键。拥有较好的美感并不能直接让你做出很好的游戏，但它能引导你去改进游戏图像音乐方面的不足之处（对于编程也有一定积极作用）。它就像是短板效应中最短的那块木板，任凭技艺再高超也无法超出它所限制的高度。还有一点需要注意的是，美感并不代表追求照片般的精细程度，</span><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px" rel="nofollow" href="javascript:if(confirm('http://www.tudou.com/programs/view/J5gbygLnP48/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.tudou.com/programs/view/J5gbygLnP48/'" tppabs="http://www.tudou.com/programs/view/J5gbygLnP48/" target="_blank" class=" wrap external">额外加分：画质VS美学</a><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">讲的比较透彻。（额外加分是我知道的唯一讲述游戏开发的视频Podcast，强力推荐，每周都会有一个话题，翻译成中文的不多可以在这里找到</span><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px" rel="nofollow" href="javascript:if(confirm('http://www.youku.com/playlist_show/id_6033424_ascending_1_mode_pic_page_1.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.youku.com/playlist_show/id_6033424_ascending_1_mode_pic_page_1.html'" tppabs="http://www.youku.com/playlist_show/id_6033424_ascending_1_mode_pic_page_1.html" target="_blank" class=" wrap external">Extra Credit 额外加分</a><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">，Youtube上有专门的频道可以订阅</span><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px; white-space: nowrap; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px" rel="nofollow" href="javascript:if(confirm('https://www.youtube.com/user/ExtraCreditz  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.youtube.com/user/ExtraCreditz'" tppabs="https://www.youtube.com/user/ExtraCreditz" target="_blank" class=" external"><span style="font-size: 0px; line-height: 0; text-shadow: none; background-color: transparent; border: 0px; font-family: a; color: transparent" class="invisible">https://www.</span><span class="visible">youtube.com/user/ExtraC</span><span style="font-size: 0px; line-height: 0; text-shadow: none; background-color: transparent; border: 0px; font-family: a; color: transparent" class="invisible">reditz</span></a><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">。）</span><br /><br /><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">好了，进入正题，只懂编程，如何找到图像，声音资源开发游戏。</span><br /><br /><ol style="padding: 0px; margin: 0.8em 0px 0.8em 2em; list-style-position: outside; color: #222222; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px"><li style="padding: 0px; margin: 0px 0px 5px">选择一种自己擅长的美术风格。上面讲了优秀的游戏画面并不是一味地追求高画质，而是要能够反映作者的美感，游戏内容都应为这个目的服务，整体风格和谐统一是最基本的要求。所以即使画技不好（我认为每个人都会画画，只是水平高低不同而已），也有许多选择：</li></ol><ul style="padding: 0px; margin: 0.8em 0px 0.8em 2em; list-style-position: outside; color: #222222; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px"><ul style="padding: 0px; margin: 0.8em 0px 0.8em 2em; list-style-position: outside"><li style="padding: 0px; margin: 0px 0px 5px">几何图型：代表作<a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://en.wikipedia.org/wiki/Geometry_Wars  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://en.wikipedia.org/wiki/Geometry_Wars'" tppabs="http://en.wikipedia.org/wiki/Geometry_Wars" target="_blank" class=" wrap external">Geometry Wars</a>。</li><li style="padding: 0px; margin: 0px 0px 5px">涂鸦：火柴棍人，各类涂鸦画风的游戏等。</li><li style="padding: 0px; margin: 0px 0px 5px">复古像素风：最近比较流行这种风格，个人认为类似于十字绣，舍得画时间最后都能得到还算不错的图片，代表当然是<a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://minecraft.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://minecraft.net/'" tppabs="http://minecraft.net/" target="_blank" class=" wrap external">Minecraft</a>了。</li><li style="padding: 0px; margin: 0px 0px 5px">文字或ASCII游戏：虽然这种风格的黄金时期已经过去了，但还是拥有一批坚定的拥护者，代表是<a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://www.bay12games.com/dwarves/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bay12games.com/dwarves/'" tppabs="http://www.bay12games.com/dwarves/" target="_blank" class=" wrap external">Bay 12 Games: Dwarf Fortress</a>。</li><li style="padding: 0px; margin: 0px 0px 5px">简单的3D模型：代表是物理布娃娃（Ragdoll）类的游戏。</li><li style="padding: 0px; margin: 0px 0px 5px">照片：不一定直接使用照片，可以进行一些后期处理，<a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://en.wikipedia.org/wiki/The_Last_Express  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://en.wikipedia.org/wiki/The_Last_Express'" tppabs="http://en.wikipedia.org/wiki/The_Last_Express" target="_blank" class=" wrap external">The Last Express</a>是这方面的先驱。</li><li style="padding: 0px; margin: 0px 0px 5px">把控制权交给自己的想象力，只要能做到风格同一，任何形式都是可以的。</li><br /></ul></ul><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">2. 使用现成的资源。网络上有太多现成的资源，打包销售的，免费分享的，如果是做着玩，还可以使用商业游戏剥离出来的资源包。在使用过程中需要尊重别人的版权和相关协议，CC、GPL等。下面是一些常用的网站。</span><br /><ul style="padding: 0px; margin: 0.8em 0px 0.8em 2em; list-style-position: outside; color: #222222; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px"><ul style="padding: 0px; margin: 0.8em 0px 0.8em 2em; list-style-position: outside"><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://www.freesound.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freesound.org/'" tppabs="http://www.freesound.org/" target="_blank" class=" wrap external">Freesound.org</a><br /></li><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://opengameart.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://opengameart.org/'" tppabs="http://opengameart.org/" target="_blank" class=" wrap external">OpenGameArt.org</a><br /></li><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('https://soundcloud.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://soundcloud.com/'" tppabs="https://soundcloud.com/" target="_blank" class=" wrap external">SoundCloud - Share Your Sounds</a><br /></li><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://www.bfxr.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bfxr.net/'" tppabs="http://www.bfxr.net/" target="_blank" class=" wrap external">Bfxr. Make sound effects for your games.</a><br /></li><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px; white-space: nowrap" rel="nofollow" href="javascript:if(confirm('http://www.abundant-music.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.abundant-music.com/'" tppabs="http://www.abundant-music.com/" target="_blank" class=" external"><span style="font-size: 0px; line-height: 0; text-shadow: none; background-color: transparent; border: 0px; font-family: a; color: transparent" class="invisible">http://www.</span><span class="visible">abundant-music.com/</span></a><br /></li><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px; white-space: nowrap" rel="nofollow" href="javascript:if(confirm('http://forums.tigsource.com/index.php?topic=8970.0  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://forums.tigsource.com/index.php?topic=8970.0'" tppabs="http://forums.tigsource.com/index.php?topic=8970.0" target="_blank" class=" external"><span style="font-size: 0px; line-height: 0; text-shadow: none; background-color: transparent; border: 0px; font-family: a; color: transparent" class="invisible">http://</span><span class="visible">forums.tigsource.com/in</span><span style="font-size: 0px; line-height: 0; text-shadow: none; background-color: transparent; border: 0px; font-family: a; color: transparent" class="invisible">dex.php?topic=8970.0</span></a>&nbsp;登陆了Steam的<a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://www.realmofthemadgod.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.realmofthemadgod.com/'" tppabs="http://www.realmofthemadgod.com/" target="_blank" class=" wrap external">Realm of the Mad God</a>就是用的这个tileset。</li><li style="padding: 0px; margin: 0px 0px 5px"><a style="color: #225599; text-decoration: none; -webkit-tap-highlight-color: rgba(225, 225, 225, 0.498039); margin: 0px 4px 0px 0px" rel="nofollow" href="javascript:if(confirm('http://unity3d.com/asset-store/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://unity3d.com/asset-store/'" tppabs="http://unity3d.com/asset-store/" target="_blank" class=" wrap external">Unity - Asset Store</a><br /></li><li style="padding: 0px; margin: 0px 0px 5px">在Google中搜索free game assets。</li></ul></ul><br /><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">关于第二个问题，个人开发者如何与大公司竞争，我的看法是不用竞争，因为大家做的不是一件事。游戏公司做游戏首要目标是赚钱，而独立开发者是做出一个自己喜欢的优秀游戏。并不是说独立开发者做游戏不为钱，如果以此为生，获取利润绝对是很重要的，但独立开发者的立足根本是对游戏独到的理解，敢去尝试大公司不敢或者不愿尝试的领域，这也是玩家愿意为其买单，独立游戏越来越流行的原因。</span><br /><br /><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">至于如何成为一个优秀的独立游戏开发者，我不能提供什么信息，因为我也在为达到这一目标努力着，期待那些优秀的开发者能够分享他们宝贵的经验。但有一点我相信他们肯定会提及，那就是不断地去做游戏。</span><br /><br /><span style="font-size: 13px; line-height: 22px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #222222">P.S. 很多优秀的独立游戏都是一个或者两个人做出来的，人多并不一定就会增加做出优秀游戏的可能性，当然如果以赚钱为目的，优势还是很明显的。</span>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
	</div>
	<div class="textbox-top"></div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">27</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7422.htm" tppabs="http://i.renjihe.com/blog/read.php?7422">手游2016大数据报告：告诉你互联网最赚钱行业的未来密码</a> <span id="starid7422"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 14:35 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7422.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7422#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7422");'>引用(0)</a> , <a href="read.php-7422.htm" tppabs="http://i.renjihe.com/blog/read.php?7422">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7422" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<table border="0" cellspacing="0" cellpadding="0" style="word-wrap: break-word; empty-cells: show; border-collapse: collapse; table-layout: fixed; width: 678px; overflow: hidden; color: #000000; font-family: Tahoma, 'Microsoft Yahei', Simsun; font-size: 14px; line-height: 25.2px"><tbody><tr style="word-wrap: break-word"><td id="postmessage_1973936" class="t_f" style="word-wrap: break-word; font-size: 16px">作为中国互联网生态中重要的一极，手机游戏（以下简称手游）市场的任何波动，都牵连着资本、巨头和创业者的心。在经过多轮竞争后，目前整个手游市场格局趋于稳定，资本的投入趋于理性，用户增量空间依然可期。从产品层面看，手游业则正在经历一次&ldquo;效益升级&rdquo;。<br /><br />　　企鹅智酷联手应用宝大数据，基于产品数据、智酷全国智能手机用户调研和行业趋势洞察，发布了这份《中国手游行业2016年中报告》。<br /><br />　　在这份报告中，我们将针对手游的精细化运营，来探索几个核心议题：<br /><br />　　重度和轻度手游玩家各自有怎样特征？<br /><br />　　用户对不同类型游戏存在怎样的需求差异？<br /><br />　　开发商/渠道商又该如何操作，才能挖掘出更多商业价值？<br /><br />　　以下为报告全文：<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350726" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-2892" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093231ipcljlbbej5nwclw.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350727" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-2674" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093231f0n5fw7zqkkqsp1k.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　企鹅智酷联手应用宝大数据，基于产品数据、智酷全国智能手机用户调研和行业趋势洞察，发布了这份《中国手游行业2016年中报告》。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350728" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-2670" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093231v9y8z2dwd2nt82d2.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　报告章节目录，从多个维度，以数据和分析来呈现中国手游行业的现状与未来。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350729" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-2579" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093232qxyeaxqggzqryett.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350730" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-2495" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093232aligwqzt6cc9wnid.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　从2008年开始，手机游戏与智能手机和移动互联网结合，呈现出巨大的生机。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350731" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-2014" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932321wticyywycwisbsl.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　在应用宝可监测的手机网民中，49%的用户安装了手游APP。用户日均手游使用时长约32分钟，日均打开手游的次数约3.3次。<br /><br />　　这意味着用户每天打开的手游APP数量有限，专注于自己的喜好或爆款。尽管整体的用户增量空间可期（51%待发掘智能手机用户），但整体市场正在进入爆款迭代+用户重度垂直的时期。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350732" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1822" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093232h3r3sp5e7s04o7s9.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　CNNIC第36次《中国互联网络发展状况统计报告》数据显示，截至2015年6月，我国使用手机上网玩游戏的用户规模达到2.67亿，较去年底增长了1876万，占整体手机网民的45%。<br /><br />　　自2014年起，手游用户的整体规模进入连续两年的稳定期。尚未渗透的用户，可能需要新的产品形态去突破。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350733" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1821" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093233nng5zc5q65fnrc6k.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游APP玩家以男性用户居多，主要分布在较大城市（二/三线城市）。相对于各级别城市的人口总数而言，手游APP在一线城市渗透情况更好，这和手游人口红利，推广成本/渗透时间等因素相关。<br /><br />　　相对而言，大城市的用户覆盖程度更高，手游开发机会更大。<br /><br />　　在没玩过游戏的智能手机用户中，女性用户比男性高出11%。<br /><br />　　考虑到智能手机用户和中国网民的性别比例（男性均高于女性），女性的手游热情仍有待进一步挖掘。<br /><br />　　这也是一个新的机会窗口：适合女性的手游可能会更快激活增量用户市场。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350735" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1820" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093233ujou2f5j02vw90tf.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350736" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1819" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093233zfcxzd9dix4mnzdi.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游类型中，角色沉浸感强和具有画面冲击力的角色扮演类、动作冒险类游戏最受用户欢迎。<br /><br />　　休闲益智类、飞行射击类轻量移动游戏因能打发碎片化时间，游戏规则简单，用户也较为喜欢。<br /><br />　　玩休闲益智类游戏的女性用户更多，玩体育竞技类游戏的男性用户更多。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350737" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1725" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093234w6lhqqhqqzzflh13.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　联网手游以84%的渗透率占据第一，单机类手游排名第二。<br /><br />　　联网手游用户中男性更多，而轻量级手机网页游戏中，女性玩家更多。<br /><br />　　联网手游超过单机手游的用户渗透，代表了整个手游产品设计进入了一个新的课题：如何激活网络在手游中的作用和价值。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350739" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1707" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932346cfwxckx27k5gqc0.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游题材/类型是吸引用户下载的最主要原因。口碑和热度也是影响用户体验的重要因素，这在20岁以下的年轻人中尤为明显。<br /><br />　　26-35岁群体，多具有早期端游的体验回忆，经典端游移植手游，能对这个群体产生较大吸引力。<br /><br />　　63%的用户在成块闲暇时间（饭后/睡前等）体验手游，一半的用户玩手游是基于游戏目的（体验乐趣/缓解压力），消磨零碎时间并不是用户玩手游的最主要场景。<br /><br />　　男性用户体验手游更追求团队作战乐趣，游戏类型上倾向体育竞技，女性更容易在零碎时间拿出手机玩游戏，轻量级的休闲益智类游戏更受欢迎。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350740" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1705" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093234z9aw4p7n4733a193.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　在均值调研中我们发现，手游比端游更难维持热度，次日留存和7日留存率都较低。5.7%用户的热度不超过一天，只有33%的用户对一款手游的热度能维持半年以上。<br /><br />　　手游时代，用户对游戏的消费更加快速，市场因此对开发者提出更高要求&mdash;&mdash;游戏要在开始就能吸引用户，另外还要在故事和玩法上进行创新，尽量延迟用户的离开。<br /><br />　　对于不再热衷的游戏，超过70%的用户选择直接卸载删除。&ldquo;剧情、功能单一&rdquo;是用户删除游戏的首要原因。<br /><br />　　游戏太消耗时间、太费钱也导致四成用户选择删除游戏。<br /><br />　　值得注意的是，只有11%的用户会因为好友不玩了而放弃游戏&mdash;&mdash;联网手游虽然已成为市场主流，但社交元素尚未形成足够的用户游戏粘性。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350742" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1281" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093235rzbogxmmrebblfe7.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350743" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1194" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093235norxlqlzznwebxnb.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　除了打发成块闲暇时间（饭后/睡前），享受与他人作战乐趣是重度用户体验手游的重要原因。<br /><br />　　而对于轻度用户，这个因素并不具有吸引力；从分布来说，大城市的重度手游用户相对更多，集中在20-30岁的人群。<br /><br />　　小城市（四线及以下）的重度用户多于轻度用户；25岁以下用户中，轻度用户多于重度用户。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350744" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1090" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093236nuqxuqaj4qxnjyoz.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　高消费用户更加看重游戏体验的技术环境（不能存在外挂/BUG）以及游戏搭档合拍；<br /><br />　　低消费用户比较在意游戏对设备的影响（手机耗电快/易发热）；<br /><br />　　25岁以下的低消费用户多于高消费用户；<br /><br />　　在城市分布上，不同程度消费的用户并无明显差异。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350745" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1089" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932363u6jxre0406x6rlz.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　常见的手游设定中，能够带来强烈成就感的游戏环节（打败对手、游戏通关）最受用户欢迎。个人成长升级、获得装备的体验也深受用户喜欢。<br /><br />　　对于重度用户来说，他们最看重打败对手和获得装备这样的游戏环节，二者比例均超过60%。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350746" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1088" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/09323673cxp47px5jz7ej9.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　一次性付费是用户最希望采用的付费方式，其次为游戏免费+道具收费。<br /><br />　　高消费用户更能接受游戏、道具双重收费，比例是整体水平两倍多。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350747" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-1087" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932369fqvhvjkakodf1ov.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　对于游戏/道具的定价，用户的接受度集中在低价（10元以下）和高价（50元以上）两端。 11-50元的中间价位接受度最低。<br /><br />　　超过一半的低消费用户每天用于游戏的时间不超过一小时，比其它用户更愿意体验单机游戏，体验手游的目的以消磨时间、缓解压力为主。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350748" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="feed-1.php-go=entry_6847" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093237emtx6h4egzeleeyh.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350749" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-save_6847" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093237eo5wpstbeufwsc4u.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　CNNIC发布报告显示，国内手游用户的付费率显著提高，由2014年27.6%提升至2015年的46.6%。<br /><br />　　根据企鹅智酷调查，2016年上半年，手游用户付费率进一步提升至68.4%，较2015年提升了21.8个百分点。<br /><br />　　用户平均收入的增长、游戏重度化造成的用户黏性增强，用户付费意识提升，加上便捷多样的支付手段等多方面原因促成用户付费比例快速增长。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350750" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_37&mode=2&page=1" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932373jcxwzmc2yxaw2fq.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游付费用户中，月均消费在50元以上的比例，2014年到2015年有明显提升，月均消费100元以上的付费用户占比涨幅翻倍。<br /><br />　　用户平均收入的增长、手游重度化造成的用户黏性增强，以及便捷多样的支付手段等原因，促成了用户消费提升。对于游戏变现来说，2015年开启了一个黄金时代。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350751" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_37&mode=2&page=2" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093238e6w4wt4hzlxmc3hl.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　和其它数字服务相比，手游用户中有过付费行为的比例高达68.4%，是从未付费用户的两倍多。<br /><br />　　不同类型用户付费情况同样存在很大差异。中度、重度用户的付费渗透率，显著高于轻度用户。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350752" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_37&mode=2&page=3" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093238gqoz6g4q8dv3vqov.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　用户每天在手游上的时间消费，30分钟-3小时是最集中的时段。15.2%的用户每天用于手游的时间超过3小时。<br /><br />　　只有三成用户每天用于手游的平均时间在半小时以内。<br /><br />　　对于游戏/道具定价，四成重度用户能接受100元以上的单价。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350753" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_37&mode=2&page=4" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093238ce5wtw59xw5uu59x.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　对于感兴趣的游戏，半数以上用户会在不同设备上体验不同版本。<br /><br />　　游戏改编的影视作品，有四成用户抱有期待；而对于游戏改版为漫画小说，支持者仅为23%。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350754" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_37&mode=2&page=5" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093239lvluccyed7cppdhv.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游用户希望能体验同款游戏的电脑版本，而电脑游戏用户对同款游戏的手游版却没有那么期待。<br /><br />　　对于游戏改编的其他作品形式，手游用户的体验意愿也相对更强烈。<br /><br />　　一方面轻量的手游还无法做到复杂功能和情境的完全还原；另一方面手游在体验设备和操作习惯上受限，很难享受到端游的深度畅玩。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350755" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_37&mode=1&page=1" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093239v47tvzzakqqwepaq.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350756" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="feed-1.php-go=entry_6782" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093239rbrgs5chebdnad5s.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　超过60%的用户愿意为角色扮演类手游付费，它是用户付费意愿最高的手游类型。<br /><br />　　动作冒险、经营策略类手游是用户付费意愿第二高的手游类型。<br /><br />　　部分用户能够接受50元以上的游戏/道具收费，这类高消费用户最愿付费的手游类型是角色扮演和经营策略，其付费意愿均高于整体水平。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350757" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-save_6782" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093240bpe129jjf6bezpjz.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　在日均打开次数上，各类手游APP稳定在3-4次，类别之间并无明显差异。<br /><br />　　角色扮演类手游用户带入感强，无论用户吸收还是用户粘性，均表现出色，用户付费意愿位列各手游类型之首。<br /><br />　　目前角色扮演类手游数量不及整个手游生态APP十分之一，是值得关注的一座金矿。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350758" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="algorithm-technology-and-others.html" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093240enqhg4naqm2m34le.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　休闲益智类手游APP游戏规则简单，同质化严重，导致此类APP体量巨大，但其用户留存能力较弱；用户对此类手游APP的付费意愿低，商业开发风险高。<br /><br />　　动作冒险类游戏用户很喜欢，但是现有的APP数量并不满足用户需求。<br /><br />　　棋牌类手游社交互动性强，单个APP拥有用户规模最大，此类APP以4%的数量占比吸引了16%的游戏用户下载。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350759" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="feed-1.php-go=entry_6750" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093240u09t6szfo3y6yya3.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　&ldquo;更多游戏角色&rdquo;和&ldquo;快速升级&rdquo;是用户最愿付费的两类手游特性，二者比例分别为50.2%、41.1%。<br /><br />　　游戏关卡的帮助提示和音画效果提升对用户付费的吸引力低，游戏的核心内容仍然是用户最意付费的特性。<br /><br />　　对于游戏中成长升级、获取装备、打败对手等经历所带来的体验，付费用户的感受比非付费用户更强烈。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350760" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-save_6750" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093241gg60b3nftlfol0df.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游的题材、玩法的创新，仍然是用户的第一需求。<br /><br />　　合作和海外拓展也是中国游戏发展的大趋势。同时，用户希望在手游IP衍生领域有更多内容涌现，例如进行其他形式改编，举办电竞比赛、游戏展览等。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350761" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_88&mode=2&page=1" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093241vx6b00x7r030z7z3.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　基础性能是用户最希望改进的手游特性，包括改善耗电发热、减少游戏Bug等。<br /><br />　　游戏的整体体验是用户希望改善的第二类改进，包括丰富故事、改善游戏操作和音效等。<br /><br />　　除此之外，用户还希望手游改善压缩包大小等游戏细节，同时增加新功能。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350762" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="index-1.php-go=category_88&mode=1&page=1" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932417eto9d4dod7ed9zd.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350763" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="feed-1.php-go=entry_6703" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093242of500fj5n0sco380.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游行业经过自2013年开始的用户规模高速增长后，在2015年逐渐走向成熟。无论是用户增速，还是资本热度，都在回归理性。<br /><br />　　对于游戏来说，重度和垂直时代让产品、技术重要性更加凸显。手游需要依靠品质来吸引用户长期使用和提高体验，游戏玩法的差异化发展和创新尤为重要。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350764" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-save_6703" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932427tn4gjyuqnkgsht2.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　手游用户规模在现有模式下，已趋于稳定。而随着手游APP的海量增长，吸引留存沉浸用户越加困难，仅有33.1%的用户会玩同一款手游超过半年，因此在产品高热期充分挖掘多元价值变得更为重要。<br /><br />　　用户的手游消费意愿在快速提升，中度和重度玩家的付费意愿覆盖度超过70%，挖掘手游用户的付费行为正在成为新的生命线，游戏付费环节的设计对未来手游开发越来越重要。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350765" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="feed-1.php-go=entry_6677" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093242wxihatzarbpwsrrx.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　对于手游公司而言，国际化的诱惑是无法抗拒的。中国手游产品在经历了探索期后，近年来已有多款产品成功拓展了海外市场。<br /><br />　　在产品出海之外，手游资本出海也成为了新的价值方向。除了投资成熟产品获取可观的利润和现金流之外，对潜力产品和潜力团队的投资，以及对手游新技术和解决方案的布局，也同样重要。<br /><br />　　资本出海投资和产品出海赚钱，是两条看似平行实则相交的路线。资本的海外投资并购，可以拓展全球渠道资源、本地化团队与文化认知，这对于自身产品的海外版本研发和落地推广，有着重要价值。<br /><br />　　基于体验环境、体验习惯、载体的差异性，端游到手游的移植鲜有成功。同一IP的情怀升级可能会吸引目标用户进入，但手游生态差异导致深度畅玩受限，用户流失以及卸载APP的风险较高。<br /><br />　　端游成功移植手游四要素：<br /><br />　　针对目标用户经典玩法还原；付费内容相对前置；降低游戏复杂度，做好前期新手引导；做好社交关系链，让用户更好融入组织，良性社交。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350767" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-save_6677" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093243f0hthwwx4r4e8ier.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　联网手游超过单机手游，但联网手游依然是游戏性为主，好友社交对留住用户的价值还没有充分挖掘。<br /><br />　　中度、重度手游研发的成本高，对用户的期求不仅是稳定，更要有足够黏度。未来手游市场的竞争，中重度手游的社交化元素将是关键。<br /><br />　　从单纯分享转变到和好友PK，以及排名功能社交深化，满足用户竞争心理，提高移动游戏的生命力和耐玩度。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350768" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="feed-1.php-go=entry_6672" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932434jgrxfdq4ir69znk.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br />　　市场巨头通过强强联合和收购明星产品，优势互补以达到成本收益最优，同时帮助行业培养用户习惯，搭建平台，规范、引领行业进化，帮助行业找寻新的增长点。<br /><br />　　中国市场的用户需求更为多元，存在很多可拓展的空间和领域，利于小公司的生存。小公司可以注重创新小众方向，灵活根据市场需求调节，切入热点，并通过大公司帮助拓展，减小成本压力，精准把握尾量用户，细分游戏类型做差异化的产品。<br /><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350769" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="read-1.php-save_6672" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093243tss1zb1w8zs1wy1e.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="center"><img id="aimg_350770" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="132352310048046-1.jpg" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/0932441loxxmzmor3o1n3g.jpg" border="0" alt="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." title="手游2016大数据报告：告诉你互联网最赚钱行业的未来密码 ..." width="600" /></p><p style="word-wrap: break-word; margin: 0px; padding: 0px"></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="left">via：腾讯</p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="left">相关阅读：<a style="word-wrap: break-word; color: #000066" href="javascript:if(confirm('http://www.gameres.com/feed.php?go=entry_6775  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.gameres.com/feed.php?go=entry_6775'" tppabs="http://www.gameres.com/671406.html" target="_blank">App Annie：2016年Q2全球移动应用数据报告</a></p><br /><p style="word-wrap: break-word; margin: 0px; padding: 0px" align="left"><span style="word-wrap: break-word; font-size: x-small"><span style="word-wrap: break-word; color: #8b0000">声明：游资网登载此文出于传递信息之目的，绝不意味着游资网赞同其观点或证实其描述。</span></span></p></td></tr></tbody></table><div class="pattl" style="word-wrap: break-word; overflow: hidden; padding: 1em 0px; width: 678px; font-family: Tahoma, 'Microsoft Yahei', Simsun; border-bottom-width: 1px !important; border-bottom-style: dashed !important; border-bottom-color: #cdcdcd !important"><dl class="tattl attm" style="word-wrap: break-word; margin: 0px; padding: 10px 10px 10px 0px; float: none; overflow: visible; width: 580px; height: auto"><dt style="word-wrap: break-word; float: left; width: 0px; font-weight: 700"></dt><dd style="word-wrap: break-word; margin: 0px; padding: 0px; color: #999999"><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><a id="aid350766" style="word-wrap: break-word; color: #000066; font-weight: 700" href="javascript:if(confirm('http://www.gameres.com/read.php?save_6775  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.gameres.com/read.php?save_6775'" tppabs="http://www.gameres.com/forum.php?mod=attachment&aid=MzUwNzY2fDg5YjJkODlkfDE0Njk1OTExNjV8MHw2NzE4NTE%3D&nothumb=yes" target="_blank" class="xw1">550.jpg</a>&nbsp;<span style="word-wrap: break-word; color: #666666" class="xg1">(50.69 KB, 下载次数: 1)</span></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><img id="aimg_350766" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="wKioL1WwS4ug-Z7oAAFOxRrQ8hk941-1.jpg-9f906c" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093243x1gozllcww8wpokh.jpg" border="0" alt="550.jpg" title="550.jpg" width="600" /></p></dd></dl><dl class="tattl attm" style="word-wrap: break-word; margin: 0px; padding: 10px 10px 10px 0px; float: none; overflow: visible; width: 580px; height: auto"><dt style="word-wrap: break-word; float: left; width: 0px; font-weight: 700"></dt><dd style="word-wrap: break-word; margin: 0px; padding: 0px; color: #999999"><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><a id="aid350741" style="word-wrap: break-word; color: #000066; font-weight: 700" href="javascript:if(confirm('http://www.gameres.com/wKiom1WwSafxAJLkAACLD-v2DuE993.jpg?9f906c  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.gameres.com/wKiom1WwSafxAJLkAACLD-v2DuE993.jpg?9f906c'" tppabs="http://www.gameres.com/forum.php?mod=attachment&aid=MzUwNzQxfDE1MGMxZjk1fDE0Njk1OTExNjV8MHw2NzE4NTE%3D&nothumb=yes" target="_blank" class="xw1">525.jpg</a>&nbsp;<span style="word-wrap: break-word; color: #666666" class="xg1">(63.15 KB, 下载次数: 1)</span></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><img id="aimg_350741" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="wKioL1WwS46x4r0fAAB3U4E3Fv0834-1.jpg-9f906c" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093235epmvzglp13m9aalp.jpg" border="0" alt="525.jpg" title="525.jpg" width="600" /></p></dd></dl><dl class="tattl attm" style="word-wrap: break-word; margin: 0px; padding: 10px 10px 10px 0px; float: none; overflow: visible; width: 580px; height: auto"><dt style="word-wrap: break-word; float: left; width: 0px; font-weight: 700"></dt><dd style="word-wrap: break-word; margin: 0px; padding: 0px; color: #999999"><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><a id="aid350738" style="word-wrap: break-word; color: #000066; font-weight: 700" href="javascript:if(confirm('http://www.gameres.com/wKioL1WwS4_Q3cchAABX8MNPuDM847.jpg?9f906c  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.gameres.com/wKioL1WwS4_Q3cchAABX8MNPuDM847.jpg?9f906c'" tppabs="http://www.gameres.com/forum.php?mod=attachment&aid=MzUwNzM4fGU0ODI3NWU1fDE0Njk1OTExNjV8MHw2NzE4NTE%3D&nothumb=yes" target="_blank" class="xw1">522.jpg</a>&nbsp;<span style="word-wrap: break-word; color: #666666" class="xg1">(49.72 KB, 下载次数: 1)</span></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><img id="aimg_350738" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="wKiom1WwSbCxqAwWAACn6ZTM3vU343-1.jpg-9f906c" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093234ws2zgwa0gg6gg6e2.jpg" border="0" alt="522.jpg" title="522.jpg" width="600" /></p></dd></dl><dl class="tattl attm" style="word-wrap: break-word; margin: 0px; padding: 10px 10px 10px 0px; float: none; overflow: visible; width: 580px; height: auto"><dt style="word-wrap: break-word; float: left; width: 0px; font-weight: 700"></dt><dd style="word-wrap: break-word; margin: 0px; padding: 0px; color: #999999"><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><a id="aid350734" style="word-wrap: break-word; color: #000066; font-weight: 700" href="javascript:if(confirm('http://www.gameres.com/dailyprogrammer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.gameres.com/dailyprogrammer'" tppabs="http://www.gameres.com/forum.php?mod=attachment&aid=MzUwNzM0fDNmNTZiYmE5fDE0Njk1OTExNjV8MHw2NzE4NTE%3D&nothumb=yes" target="_blank" class="xw1">518.jpg</a>&nbsp;<span style="word-wrap: break-word; color: #666666" class="xg1">(43.87 KB, 下载次数: 0)</span></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"></p><p style="word-wrap: break-word; margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px; margin-bottom: 5px !important" class="mbn"><img id="aimg_350734" style="word-wrap: break-word; cursor: pointer; max-width: 620px" class="zoom" src="wKiom1WwSbSgJjv9AADw20qCrkQ890-1.jpg-9f906c" tppabs="http://www.gameres.com/data/attachment/forum/201607/25/093233buooutjnznioibeu.jpg" border="0" alt="518.jpg" title="518.jpg" width="600" /></p></dd></dl></div>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">25</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7417.htm" tppabs="http://i.renjihe.com/blog/read.php?7417">解构C#游戏框架uFrame兼谈游戏架构设计</a> <span id="starid7417"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 21:10 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7417.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7417#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7417");'>引用(0)</a> , <a href="read.php-7417.htm" tppabs="http://i.renjihe.com/blog/read.php?7417">阅读(2)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7417" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<div id="cnblogs_post_body" class="cnblogs-markdown" style="margin: 0px 0px 20px; padding: 0px; word-break: break-word; font-family: 微软雅黑, 宋体, 黑体, Arial; font-size: 14px; line-height: 25.2px"><div id="navCategory" style="margin: 0px; padding: 0px"><p style="margin: 10px auto; padding: 0px; font-size: 18px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6459  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6459'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/4531234.html"><strong style="margin: 0px; padding: 0px">c#语言规范</strong></a></p><p style="margin: 10px auto; padding: 0px; font-size: 18px"><strong style="margin: 0px; padding: 0px">阅读目录</strong></p><ul style="margin: 0px 0px 0px 30px; padding: 0px; word-break: break-all"><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_label0'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_label0">1.概览</a></li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_label1'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_label1">2.基本概念</a></li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_label2'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_label2">3.依赖注入</a></li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_label3'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_label3">4.Manager of Managers</a></li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_label4'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_label4">5.利用UniRX实现响应式编程</a></li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_label5'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_label5">6.研究总结</a></li></ul></div><div style="margin: 0px; padding: 0px; text-align: right"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_labelTop'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_labelTop">回到目录</a><a style="margin: 0px; padding: 0px; outline: none; color: #21759b" name="_label0"></a></div><h2 style="padding: 5px 0px 5px 10px; font-size: 21px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 24px; line-height: 23px; text-shadow: #222222 2px 2px 3px; margin: 12px 0px !important; background: #2b6600">1.概览</h2><p style="margin: 10px auto; padding: 0px; font-size: 15px"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('https://github.com/InvertGames/read.php?6416  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://github.com/InvertGames/read.php?6416'" tppabs="https://github.com/InvertGames/uFrame-MVVM">uFrame</a>是提供给Unity3D开发者使用的一个框架插件，它本身模仿了MVVM这种架构模式（事实上并不包含Model部分，且多出了Controller部分）。因为用于Unity3D，所以它向开发者提供了一套基于Editor的可视化编辑工具，可以用来管理代码结构等。<br />需要指出的是它的一个重要的理念，同时也是软件工程中的一个重要理念就是关注分离（Separation of concern，SoC）。uFrame借助控制反转（IoC）/依赖注入（DI）实现了这种分离，从而进一步实现了MVVM这种模式。且在1.5版本之后，引入了UniRx库，引进了响应式编程的思想。<br />本文主要描述uFrame的这种设计思路以及uFrame本身的一些重要概念，且文中的uFrame版本为1.6。</p><div style="margin: 0px; padding: 0px; text-align: right"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_labelTop'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_labelTop">回到目录</a><a style="margin: 0px; padding: 0px; outline: none; color: #21759b" name="_label1"></a></div><h2 style="padding: 5px 0px 5px 10px; font-size: 21px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 24px; line-height: 23px; text-shadow: #222222 2px 2px 3px; margin: 12px 0px !important; background: #2b6600">2.基本概念</h2><h4 style="padding: 0px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 25px; line-height: 25px; margin: 18px 0px !important; background: #2b6695">2.1.清晰且简单</h4><p style="margin: 10px auto; padding: 0px; font-size: 15px">uFrame本身实现了一套MVVM的架构模式。我们之前更熟悉MVC架构模式，虽然MVC分层方式清楚，但是如果使用不当很可能让大量代码都集中在Controller之中，从而造成Controller的臃肿，甚至很多时候Controller和View会产生很多耦合。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">而MVVM和MVC最大的一个区别是引入了ViewModel的概念。从名字上看，ViewModel是一种针对视图的模型。由于引入了ViewModel，从而解放了Controller。具体到Unity3D项目，使用uFrame我们可以将U3D中和视觉相关的内容和真正的核心逻辑剥离。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">在uFrame中，使用<strong style="margin: 0px; padding: 0px">Element</strong>这个概念将业务分拆成三部分：</p><ul style="margin: 0px 0px 0px 30px; padding: 0px; word-break: break-all"><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><strong style="margin: 0px; padding: 0px">ViewModel</strong>：保存游戏中对象的<strong style="margin: 0px; padding: 0px">数据结构</strong>，例如血量、经验、金钱等等。</li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><strong style="margin: 0px; padding: 0px">Controller</strong>：处理游戏业务逻辑。例如加血、减血之类的。</li><li style="margin: 0px 0px 1em; padding: 0px; list-style: disc; font-size: 15px"><strong style="margin: 0px; padding: 0px">View</strong>：游戏世界中可以见的对象，和ViewModel绑定，以在游戏中进行展现。</li></ul><p style="margin: 10px auto; padding: 0px; font-size: 15px">其中ViewModel和Controller是属于Element的，View是配合Element而产生的游戏世界中的可见对象。<br />下面是一个的名为&ldquo;Player&rdquo;的Element在uFrame中的样子：<br /><img style="margin: 0px; padding: 0px; border: 0px; max-width: 900px" src="read-1.php-6312" tppabs="http://images2015.cnblogs.com/blog/686199/201606/686199-20160617095504917-1812275961.png" border="0" /></p><h4 style="padding: 0px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 25px; line-height: 25px; margin: 18px 0px !important; background: #2b6695">2.2.可移植性</h4><p style="margin: 10px auto; padding: 0px; font-size: 15px">通过刚刚的例子，我们可以看到<strong style="margin: 0px; padding: 0px">ViewModel</strong>和<strong style="margin: 0px; padding: 0px">Controller</strong>事实上是处在幕后的，它们只需要实现纯逻辑代码即可，完全不需要关心在游戏中视觉上如何展示。正是因为不必关心具体的表现如何，所以ViewModel和Controller是具备移植性的。而在U3D项目中，<strong style="margin: 0px; padding: 0px">View</strong>需要挂载在游戏对象上，同时它也是连接具体的游戏世界和抽象的逻辑代码之间的桥梁，通过<strong style="margin: 0px; padding: 0px">View</strong>，uFrame将<strong style="margin: 0px; padding: 0px">ViewModel</strong>和<strong style="margin: 0px; padding: 0px">Controller</strong>与U3D连接。<br />因此，我们不能通过<strong style="margin: 0px; padding: 0px">Controller</strong>来访问<strong style="margin: 0px; padding: 0px">View</strong>，因为正常情况下它们是不知道彼此的存在的，Controller将只和<strong style="margin: 0px; padding: 0px">ViewModel</strong>进行交互，这样才能保持整体结构的清晰。<br />同时，我们也不应该通过<strong style="margin: 0px; padding: 0px">ViewModel</strong>直接获取<strong style="margin: 0px; padding: 0px">View</strong>，这是因为<strong style="margin: 0px; padding: 0px">ViewModel</strong>应该只关心它自己的数据，而不关心到底是哪个<strong style="margin: 0px; padding: 0px">View</strong>绑定了自己。</p><h4 style="padding: 0px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 25px; line-height: 25px; margin: 18px 0px !important; background: #2b6695">2.3.MVVM和Controller</h4><p style="margin: 10px auto; padding: 0px; font-size: 15px">既然说uFrame模仿了MVVM的架构，但是和传统的MVVM相比，uFrame却多出了一个Controller。<br /><img style="margin: 0px; padding: 0px; border: 0px; max-width: 900px" src="read-1.php-6311" tppabs="http://images2015.cnblogs.com/blog/686199/201606/686199-20160613232802245-739389242.jpg" border="0" /><br />因此需要在这里指出，uFrame中的Controller用来配合ViewModel封装逻辑。 这是因为在uFrame中逻辑并不在ViewModel中，相反，当我们执行一条命令时，是对应的Controller来执行相应的逻辑。游戏逻辑有时有可能会十分复杂，但是由于将游戏逻辑移到了Controller中，因此ViewModel是十分轻量级的。</p><div style="margin: 0px; padding: 0px; text-align: right"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_labelTop'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_labelTop">回到目录</a><a style="margin: 0px; padding: 0px; outline: none; color: #21759b" name="_label2"></a></div><h2 style="padding: 5px 0px 5px 10px; font-size: 21px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 24px; line-height: 23px; text-shadow: #222222 2px 2px 3px; margin: 12px 0px !important; background: #2b6600">3.依赖注入</h2><h4 style="padding: 0px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 25px; line-height: 25px; margin: 18px 0px !important; background: #2b6695">3.1.面向接口编程</h4><p style="margin: 10px auto; padding: 0px; font-size: 15px">在介绍依赖注入之前，我们先来看一段项目中的代码。</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px" class="hljs-class"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">EquipDevelopPanelScript</span> : <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">IPanelScript</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public void <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">SetType</span>(<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">DevelopType</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">Type</span>)&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">Type</span> == <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">DevelopType</span>.<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">Split</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">TODO</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">Type</span> == <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">xxx</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">TODO</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">Type</span> == <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">xxxx</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-type">TODO</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; ... &#125;</span></pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">可以看到：</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">首先，在这段代码中我们设计的EquipDevelopPanelScript类（处在UI层的类！）的SetType方法很长（170+行），并且方法中有一个冗长的if&hellip;else结构，且每个分支的代码的业务逻辑很相似，只是很少的地方不同，无非是根据不同的类型来设置显示内容。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">再者，我认为这个设计比较大的一个问题是违反了OCP原则（开放关闭原则，指设计应该对扩展开放，对修改关闭。）。在这个设计中，如果以后我们增加一个新的UI类型，我们就要打开EquipDevelopPanelScript，修改SetType方法。而我们的代码应该是对修改关闭的，当有新UI加入的时候，应该使用扩展完成，避免修改已有代码。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">一般来说，当一个方法里面出现冗长的if&hellip;else或switch&hellip;case结构，且每个分支代码业务相似时，往往预示这里应该引入多态性来解决问题。而这里，如果把不同的UI类型看成一个策略，那么引入策略模式（Strategy Pattern，即将逻辑分别封装起来，让他们之间可以相互替换，此模式使得逻辑的变化独立于使用者。）是明智的选择。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">最后，说一个小的问题，UI层主要是用来对数据进行展现，不应该包含过多的逻辑。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">因此我们采用这样的思路：<strong style="margin: 0px; padding: 0px">面向接口而不是具体的类（或逻辑）编程，使得我们可以轻松的替换具体的实现。</strong>所以，我们可以定义一个接口Interface：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">interface</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">IDevelopType</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">SetInfoByType</span>()</span>; &#125;</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">该接口将之前代码中TODO的部分归纳为了一个方法SetInfoByType，而只需要实现该接口的不同类（例如SplitTypeClass）重写SetInfoByType方法，便实现了在UI层中去除具体逻辑的功能。之后，我们只需要根据不同的要求，提供实现了IDevelopType接口的不同的类即可。<br />所以之前的100多行代码可以变成了这样的2行代码：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word">IDevelopType typeInfo = XXXX.GetInfoByType(<span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">Type</span>); teypInfo.SetInfoByType();</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">使用这种思路将之前的代码重构之后，我们能获得什么好处呢？</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">1.代码结构变得很清晰了，虽然类的数量增加了(因为if...else块中的逻辑被封装成了类），但是每个类中方法的代码都非常短，没有了以前SetType方法那种很长的方法，也没有了冗长的if&hellip;else。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">2.类的职责更明确了，UI层的类的主要作用是来将数据展示出来，具体的逻辑交给别的类来处理。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">3.引入Strategy策略模式后，不但消除了重复性代码，更重要的是使得设计符合了开闭原则。如果以后要加一个新UI类型，只要新建一个类，实现IDevelopType接口，当需要使用这个UI类型时，我们只要实例化一个新UI类型类，并赋给局部变量typeInfo即可，已有的EquipDevelopPanelScript代码不用改动。这样就实现了对扩展开放，对修改关闭。</p><h4 style="padding: 0px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 25px; line-height: 25px; margin: 18px 0px !important; background: #2b6695">3.2.依赖注入的本质</h4><p style="margin: 10px auto; padding: 0px; font-size: 15px">好了，说了这么多依赖注入在哪里呢？其实它早就存在了。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">我们再仔细看看刚刚的设计，经过这样设计之后，有个基本的问题被解决了：<strong style="margin: 0px; padding: 0px">现在EquipDevelopPanelScript类的SetType方法不再依赖具体的UI类型，而仅仅依赖一个IDevelopType接口，接口是不能实例化的，但最终还是会被赋予一个实现了IDevelopType接口的具体UI类型类。</strong></p><p style="margin: 10px auto; padding: 0px; font-size: 15px">这里，实例化一个具体的UI类型类，并赋给变量typeInfo的过程，就是依赖注入，这里要清楚，依赖注入其实只是一个过程的称谓。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">通过阅读uFrame的源代码，最直观的印象是：一个良好的设计必须做到将变化隔离，使得变化部分发生变化时，不变部分不受影响。只有这样才有可能适用于各种情况。为了做到这一点，就要利用面向对象中的多态性，使用多态性后，类和类之间便不再直接存在依赖，取而代之的是依赖于一个抽象的接口，这样，客户类就不能在内部直接实例化具体的服务类。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">但是这样做的结果是客户类在运作中又客观需要具体的服务类提供服务，因为接口是不能实例化去提供服务的，于是就产生了&ldquo;客户类不能依赖具体服务类&rdquo;和&ldquo;客户类需要具体服务类&rdquo;这样一对矛盾。为了解决这个矛盾，开发人员提出了一种模式：客户类（如上例中的EquipDevelopPanelScript）定义一个注入点（临时变量typeInfo），用于服务类（实现IDevelopType接口的具体类，如SplitTypeClass等等）的注入，之后根据具体情况，实例化服务类，注入到客户类中，从而解决了这个矛盾。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">uFrame的基本思想便是使用依赖注入、面向接口编程使代码解耦，这些也是值得我们学习的地方。<br />例如下面这段uFrame的核心代码，大量的使用面向接口的思路，解除耦合：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"> <span style="margin: 0px; padding: 0px; color: green" class="hljs-comment">//参数只要实现IDisposable接口即可，不是具体的类型</span> <span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">public</span> IDisposable <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">AddBinding</span><span style="margin: 0px; padding: 0px" class="hljs-params">(IDisposable binding)</span> </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">if</span> (!Bindings.ContainsKey(<span style="margin: 0px; padding: 0px" class="hljs-number">-1</span>))&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bindings[<span style="margin: 0px; padding: 0px" class="hljs-number">-1</span>] = <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">new</span> List&lt;IDisposable&gt;();&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; Bindings[<span style="margin: 0px; padding: 0px" class="hljs-number">-1</span>].Add(binding);&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">return</span> binding; &#125;</pre><div style="margin: 0px; padding: 0px; text-align: right"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_labelTop'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_labelTop">回到目录</a><a style="margin: 0px; padding: 0px; outline: none; color: #21759b" name="_label3"></a></div><h2 style="padding: 5px 0px 5px 10px; font-size: 21px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 24px; line-height: 23px; text-shadow: #222222 2px 2px 3px; margin: 12px 0px !important; background: #2b6600">4.Manager of Managers</h2><p style="margin: 10px auto; padding: 0px; font-size: 15px">如果在Unity3D项目开发中没有考虑过架构的问题，那么最常见也最直接的一种做法就是在游戏场景中创建一个空的GameObject，然后挂上所有与GameObject无关的逻辑控制的脚本，并且使用GameObject.Find()访问对象数据。这样做最直接，但这个选择却十分糟糕，因为逻辑代码散落在各处，基本没有可维护性。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">之后，我们可能会考虑将代码放在不同的单例中，但是有可能会导致一个单例的代码过多的问题，且和刚刚那个最直接的做法没有本质的区别，虽然存在很多单例，但是由于缺少组织，代码还是散落在各处，不适宜维护拓展。因此，我们需要一种可以组织代码的方式来架构我们的项目。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">一个更好的思路是将代码按照业务划分成一些子系统，并通过相应的管理器来管理，例如UISysManager、GameStateSysManager等等。一个子系统内可以封装很多内容，但是只通过管理器对外暴露一些接口，使得整个子系统成为一个黑箱，外部调用者通过子系统暴露在外的接口进行操作。而这些Manager又需要被更高层级的Manager进行管理，使得整个游戏架构按照逻辑构造成了树状的结构，如下图：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fox(游戏最高层管理器或者称为总入口)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LogicMgr(逻辑管理）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpMgr（网络管理）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px" class="hljs-regexp">/&nbsp;&nbsp;&nbsp;&nbsp;&#124;&nbsp;&nbsp; &#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/</span>&nbsp;&nbsp;&nbsp;&nbsp; &#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px" class="hljs-regexp">/&nbsp;&nbsp;&nbsp;&nbsp; &#124;&nbsp;&nbsp;&nbsp;&nbsp;&#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px" class="hljs-regexp">/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#124;&nbsp;&nbsp;&nbsp;&nbsp; &#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#92;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UISysManager XXXXMgr XXXXMgr YYYMgr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;YYYYMgr</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">这样做的优点便是代码的逻辑层次清晰，将逻辑模块化易于管理，且将对逻辑对象的访问都通过管理器的接口实现，从而规范了对游戏内对象的操作方式。例如我想要获取一个UI，只需要这样调用：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-built_in">UIClass</span> ui = Fox.LogicMgr.UISysManager.GetUI(<span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">id</span>);</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">作为UI子系统外的调用者无需关心GetUI内部发生了什么，他需要做的仅仅是使用UI系统管理器提供的接口来获取目标UI。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">uFrame中也包含类似的思想，它为我们提供了一个称为SubSystem的控件，在uFrane的Editor设计器中SubSystem是这样子的：<br /><img style="margin: 0px; padding: 0px; border: 0px; max-width: 900px" src="read-1.php-6310" tppabs="https://camo.githubusercontent.com/bd349155fdb241b92f519b9125cbb0bf50167715/687474703a2f2f692e696d6775722e636f6d2f65657536587a6c2e6a7067" border="0" /><br />且每个SubSystem在设计器中都会对应一个System Loader类的实例，用来在运行时对子系统进行初始化等工作。</p><div style="margin: 0px; padding: 0px; text-align: right"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_labelTop'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_labelTop">回到目录</a><a style="margin: 0px; padding: 0px; outline: none; color: #21759b" name="_label4"></a></div><h2 style="padding: 5px 0px 5px 10px; font-size: 21px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 24px; line-height: 23px; text-shadow: #222222 2px 2px 3px; margin: 12px 0px !important; background: #2b6600">5.利用UniRX实现响应式编程</h2><p style="margin: 10px auto; padding: 0px; font-size: 15px"><strong style="margin: 0px; padding: 0px">uFrame框架1.6版本中处理View的绑定时大量的使用了响应式编程的思想。</strong></p><p style="margin: 10px auto; padding: 0px; font-size: 15px">所谓的响应式编程指的是：使用异步数据流进行编程，而所谓的异步数据流简单的说就是按时间排序的事件序列。而我们需要做的就是监听或者订阅（Subscribe）事件流，当事件触发（Publish）时响应即可。换句话说，这是一种观察者模式或者说订阅发布模式的实现。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">uFrame实现响应式编程的方式是引入了UniRx库。需要说明的是Rx库是微软推出的一个响应式拓展的框架，但是由于Rx库无法在Unity3D中运行且存在iOS中IL2CPP兼容性的问题，因此后来有人为Unity3D重写了Rx库，也就是UniRx库。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">为了实现观察者模式，UniRx提供了两个关键接口：IObservable和IObserver。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">IObservable接口定义如下：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px" class="hljs-class"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">interface</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">IObservable</span>&lt;<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">out</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">T</span>&gt; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px" class="hljs-function">IDisposable <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">Subscribe</span><span style="margin: 0px; padding: 0px" class="hljs-params">(IObserver&lt;T&gt; observer)</span></span>; &#125;</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">IObserver接口定义如下：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px" class="hljs-class"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">interface</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">IObserver</span>&lt;<span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">in</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">T</span>&gt; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">OnCompleted</span><span style="margin: 0px; padding: 0px" class="hljs-params">()</span></span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">OnError</span><span style="margin: 0px; padding: 0px" class="hljs-params">(Exception error)</span></span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-title">OnNext</span><span style="margin: 0px; padding: 0px" class="hljs-params">(T value)</span></span>; &#125;</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">在uFrame中，很多地方会使用这两个接口以实现观察者模式，例如在ViewModel中的订阅方法Subscribe的参数就是一个IObserver的集合：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word">public IDisposable Subscribe(IObserver&lt;IObservableProperty&gt; observer) &#123;&nbsp;&nbsp;&nbsp;&nbsp; PropertyChangedEventHandler propertyChanged = <span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px" class="hljs-params">(sender, args)</span> =&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var property = sender as IObservableProperty;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px" class="hljs-regexp">//i</span>f (property != <span style="margin: 0px; padding: 0px; color: #a31515" class="hljs-literal">null</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; observer.OnNext(property);&nbsp;&nbsp;&nbsp;&nbsp; &#125;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyChanged += propertyChanged;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">return</span> Disposable.Create(<span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px" class="hljs-params">()</span> =&gt;</span> PropertyChanged -= propertyChanged); &#125;</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">自然IObserver集合是基于观察者模式设计的。观察者模式的关键在于被观察的对象有一些行为或者属性，观察者可以注册某些感兴趣的属性或者行为。当被观察者发生状态改变时，会通知观察者（通常是发起一个事件），之后会有相应该事件的���法被调用，uFrame借助UniRx实现了这种模式。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">下面我们就通过一个小例子来看看这种观察者模式在uFrame中的实现：</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">View中将指定的LevelSelectButton和RequestMainMenuScreenCommand进行绑定：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word">&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">this</span>.BindButtonToHandler(LevelSelectButton, <span style="margin: 0px; padding: 0px" class="hljs-function"><span style="margin: 0px; padding: 0px" class="hljs-params">()</span> =&gt;</span>&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Publish(<span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">new</span> RequestMainMenuScreenCommand()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ScreenType = <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">typeof</span> (LevelSelectScreenViewModel)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;);&nbsp;&nbsp; &#125;);</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">绑定的代码可以重写成以下形式可能更容易理解，即Publish发布一个事件：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">var</span> evt= <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">new</span> RequestMainMenuScreenCommand(); evt.ScreenType = <span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-keyword">typeof</span>(LevelSelectScreenViewModel); Publish(evt);</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">Controller中订阅/监听RequestMainMenuScreenCommand，并注册回调函数：</p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word"><span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-selector-tag">this</span><span style="margin: 0px; padding: 0px" class="hljs-selector-class">.OnEvent</span>&lt;<span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-selector-tag">RequestMainMenuScreenCommand</span>&gt;()<span style="margin: 0px; padding: 0px" class="hljs-selector-class">.Subscribe</span>(<span style="margin: 0px; padding: 0px; color: #0000ff" class="hljs-selector-tag">this</span><span style="margin: 0px; padding: 0px" class="hljs-selector-class">.RequestMainMenuScreenCommandHandler</span>);</pre><p style="margin: 10px auto; padding: 0px; font-size: 15px">其中this.OnEvent方法会返回一个IObservable的对象，所以我们可以接着调用Subscribe(handler)来订阅事件T，每当T事件被发布（Publish），对应的handler就会被调用。</p><div style="margin: 0px; padding: 0px; text-align: right"><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://www.cnblogs.com/murongxiaopifu/p/read.php?6417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnblogs.com/murongxiaopifu/p/read.php?6417#_labelTop'" tppabs="http://www.cnblogs.com/murongxiaopifu/p/5582408.html#_labelTop">回到目录</a><a style="margin: 0px; padding: 0px; outline: none; color: #21759b" name="_label5"></a></div><h2 style="padding: 5px 0px 5px 10px; font-size: 21px; border-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: #ffffff; height: 24px; line-height: 23px; text-shadow: #222222 2px 2px 3px; margin: 12px 0px !important; background: #2b6600">6.研究总结</h2><p style="margin: 10px auto; padding: 0px; font-size: 15px">uFrameMVVM架构无疑是十分简洁和易拓展的。它所使用的一些架构设计的思想十分值得我们学习和借鉴。例如利用依赖注入，使整个架构面向接口编程，因而具备了很强的拓展性。引入响应式编程的思想，实现了各个部分之间基于发布订阅模式的通信方式，更加消除了各个模块之间的耦合，使得代码易于维护和测试。最后，其整体逻辑架构也有一些Manager of Managers的思想，各个模块之间能够有效的管理和组织，使得基于该架构的游戏逻辑层次清晰。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">但是，由于该插件提供的设计器要依赖Unity3D的Editor进行可视化操作，因此有可能会导致Editor方面的一些潜在风险，例如游戏内部系统过多会导致Editor的可视化区域难以管理，或者是我们在开发中对Editor的不当操作导致一些未知的问题。甚至由于是第三方提供的代码，因此uFrame的版本更迭可能会带来很多问题（1.5到1.6发生了很大的变化）等等。</p><p style="margin: 10px auto; padding: 0px; font-size: 15px">因此，建议重点学习和掌握工具所提供的思想和设计思路。</p></div><div id="MySignature" style="margin: 0px; padding: 0px; font-family: 微软雅黑, 宋体, 黑体, Arial; font-size: 14px; line-height: 25.2px"><a style="margin: 0px; padding: 0px; outline: none; color: black" rel="license" href="javascript:if(confirm('http://creativecommons.org/licenses/by-nc-sa/2.5/cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://creativecommons.org/licenses/by-nc-sa/2.5/cn/'" tppabs="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/"><img style="margin: 0px; padding: 0px; border: 0px" src="read-2.php-6309" tppabs="https://i.creativecommons.org/l/by-nc-sa/2.5/cn/88x31.png" border="0" alt="知识共享许可协议" /></a><br />本作品采用<a style="margin: 0px; padding: 0px; outline: none; color: black" rel="license" href="javascript:if(confirm('http://creativecommons.org/licenses/by-nc-sa/2.5/cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://creativecommons.org/licenses/by-nc-sa/2.5/cn/'" tppabs="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/">知识共享署名-非商业性使用-相同方式共享 2.5 中国大陆许可协议</a>进行许可，我的博客欢迎复制共享，但在同时，希望保留我的署名权<a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('https://mvp.microsoft.com/zh-cn/PublicProfile/read.php?6284  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://mvp.microsoft.com/zh-cn/PublicProfile/read.php?6284'" tppabs="https://mvp.microsoft.com/zh-cn/PublicProfile/5001664?fullName=Jiadong%20%20Chen">陈嘉栋</a>（慕容小匹夫），并且，不得用于商业用途。如您有任何疑问或者授权方面的协商，请<a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://msg.cnblogs.com/msg/send/read.php?6198  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://msg.cnblogs.com/msg/send/read.php?6198'" tppabs="http://msg.cnblogs.com/msg/send/%E6%85%95%E5%AE%B9%E5%B0%8F%E5%8C%B9%E5%A4%AB">给我留言</a>。&nbsp;<br />知乎专栏：<br /><a style="margin: 0px; padding: 0px; outline: none; color: black" href="javascript:if(confirm('http://zhuanlan.zhihu.com/read.php?5520  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://zhuanlan.zhihu.com/read.php?5520'" tppabs="http://zhuanlan.zhihu.com/chenjiadong">Runtime</a><br />联系方式：<br />Email：shaun.chan@hotmail.com</div>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">22</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7396.htm" tppabs="http://i.renjihe.com/blog/read.php?7396">“手游审核前置”新规正式实施：情况真有那么糟？</a> <span id="starid7396"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 14:35 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7396.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7396#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7396");'>引用(0)</a> , <a href="read.php-7396.htm" tppabs="http://i.renjihe.com/blog/read.php?7396">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7396" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">7月1日，中国的<a style="outline: none; color: #000000; text-decoration: none; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #536da6" href="javascript:if(confirm('http://games.qq.com/mobile/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://games.qq.com/mobile/'" tppabs="http://games.qq.com/mobile/" target="_blank" class="a-tips-Article-QQ">手游</a>行业迎来一个拐点&mdash;&mdash;国家新闻出版广电总局发布的《关于移动游戏出版服务管理的通知》正式实施。也就是说，从今天开始，手游的出版需国家新闻出版广电总局前置审批，才能上线运营。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">新《通知》的消息在6月初就已经公布，一个月以来，业内对此事议论纷纷，其中&ldquo;苹果App Store是否会受到新规影响&rdquo;是大家关注的焦点之一。而就在昨天，苹果官方发的一则公开信，给予不少中国开发者以沉重一击：致中国地区开发人员的一封信，遵照&ldquo;通知&rdquo;，上架App Store的游戏必须办理版号。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px" align="center"><img style="border: none; vertical-align: bottom; max-width: 640px" src="read-1.php-6205" tppabs="http://img1.gtimg.com/gamezone/pics/hv1/77/166/2092/136074707.png" border="0" alt="苹果致中国地区开发人员的一封信截图" /></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 10pt" align="center">苹果致中国地区开发人员的一封信截图</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">这则消息一下就占据了多家游戏媒体订阅号的头条大图，众人纷纷对此事可能产生的影响进行了极端预测，包括以下两种比较悲观的情况：</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">中国的独立手游将因此灭亡。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">国外游戏因为App Store中国区申请版号的繁琐流程，干脆放弃中国市场，不久之后中国区的appstore将只剩下国产手游和被国内公司引进的海外手游。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">看到这里，许多原本不太关注新规的玩家或手游开发者，可能会感到很绝望。再翻开知乎、微博等地，讨论手游审核新规的，基本上也都一片哀嚎之声。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><span style="font-size: 16px"><strong>手游出版前置审批的影响真的有这么严重吗？</strong></span></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">腾讯游戏频道采访了几位资深游戏行业从业者，他们之中有研发、有发行，有大公司的、也有中小CP、独立开发商。我们发现，产业链不同环节的人看待这个问题确实有很大的差别。我们在此列举一部分具有代表性的观点。（由于部分受访者言辞激烈，我们决定全部匿名）</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px" align="center"></p><div class="mbArticleSharePic&nbsp;&nbsp;&nbsp;&nbsp;" style="position: relative; z-index: 1; margin: 0px auto; width: 437px"><img style="border: none; vertical-align: bottom; max-width: 640px" src="read-1.php-6166" tppabs="http://img1.gtimg.com/gamezone/pics/hv1/78/166/2092/136074708.png" border="0" alt="版号送审流程图（图片来自文公子ASO公众号）" /></div><p>&nbsp;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 10pt" align="center">版号送审流程图（图片来自文公子ASO公众号）</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><span style="font-size: 18px"><strong>专注研发领域的人这样说：</strong></span></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某独立游戏人：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">对于现金流良好的公司来说，就是被恶心一下，花点小钱，找相应的工作人员来搞定就是了，影响不大。但我伤心的是，这会对身边那些有创意、没现金的独立游戏人或爱好者造成很大的困扰，他们的产量和质量可能都会受到影响。想想，本来我可能48小时做个游戏，一高兴了就发App Store上去了；现在一想到要把手机、安装盘啥的快递过去，我就宁可洗洗睡了。所以，我再次决定认真考虑移民！</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某中小CP负责人：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">我们不发愁这事，我们产品交给发行商代理，他们会负责办版号，所以现在主要是发行商在发愁这事。这个政策主要影响的就是上线时间，尤其是原本计划7、8、9月期间上线的产品，内容上影响不大，大部分CP做内容也不会过线，有黄暴的改掉就好。我们现在跟发行商的合作还挺好的，不存在因为他们帮我们办了版号，就为难我们的情况。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某大厂游戏研发人员：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">新规对我们影响不大啊，毕竟中国上有政策下有对策。我们还是比较在意苹果的审核标准。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某手游大厂高管：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">这个政策对我们的影响并不大，因为我们愿意投入时间和金钱去做大IP的精品。我们布局的产品研发周期足够长，有资质也有能力在正式商业化前去完成必要的审核。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">这个政策对中小公司来说风险可能很大。大部分的手游生命周期很短，竞争非常激烈，市场变化也很快。中小公司都盼着尽早上线变现，会不会出现审核完毕后，产品已经错过了最佳上线时间？我不知道广电总局的审核是否匹配快速变化的移动互联网市场。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">每个国家都有自己的法律法规，苹果遵守中国法律天经地义。手游进入门槛相对较低，乱象多，确实需要些措施来规范市场。但我认为一个产品是否适合，在市场经济时代是由市场说了算的。相对于审核而言，更重要的是有效发挥政府的监管作用。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某大厂工作室市场负责人：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">总体来说，版号管理对于行业长远发展是有益的。渠道和广告平台等，现在已经开始要求发行商提供版号用于上线审核，这样可以较大地减弱盗版、山寨的情况。有一些人认为可能会给中小CP和独立开发者造成困难，但是从另一个方面去考虑，也许可以规范和引导整个行业分工的健康发展，有专业资质和能力的发行商将更受重视。但这也是一个理想的假设，需要时间验证。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">近期，手游产品的庞大数量与政府审批流程效率的不匹配是近期网络上争论比较多。因为审批期限已经到来，所以申报产品激增，审批效率降低。多数手游厂商没有相关经验，在前期准备资料和沟通方面就有很多困难。不能如期拿到版号是手游厂商最恐惧、也是最无奈的。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><span style="font-size: 18px"><strong>专注发行领域的人这样说：</strong></span></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某手游发行商CEO：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">广东买量派的发行公司笑了，他们从来都是自己买量自己导官网包，不上渠道也不上App Store，自己监管自己。手游不像页游，都有落地网页有据可查，这个条文颁发对他们影响不大。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">有海外资质的发行公司笑了，他们的产品本身就是立足于海外市场的，届时如果国内用户有需求，勾选人民币充值就可以了。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">三证齐全的公司（中小型发行公司基本很难拥有这个资质）笑了，以后专门增加一个游戏评审专员，收各个无证经营CP、小发行一个手续费，条文颁发无异于给这些公司提供了一个新的盈利增长点。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某手游发行商负责人：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">新政策对发行公司来说肯定是有影响的，公司需要积极去响应新政策，且新资料篇也需要重新审核，给公司增加了时间成本，迫使游戏的上线计划被打乱。但新政的出台也正好是给市场一个洗牌的机会，以前正规送审的公司非常少，这也是中国手游行业乱的最大原因。而现在那些涉及不合法的公司将被清除，对整个市场是好事。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某手游公司创始人：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">对大环境来说是好事，但是对于独立开发者和中小型CP是一个致命的打击，因为可能大家只能找大的厂商去做发行，那大厂就拥有了更多的议价权。所以这个新规其实对大厂帮助比较大，中小发行团队可选择的就变得更少了。不过现在有很多CP目标是做全球化的产品，国外的渠道还是可以随便上的，没有影响。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><strong>某手游公司CEO：</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">对商业游戏来说影响不大，大部分游戏都已经办版号了，未来办版号的成本也在可接受的范围之内。实际影响比较大的是独立游戏，办个版号不但耗时耗力耗钱，还有申请资质这种很难绕过的槛。对于独立游戏开发者来说，去海外没问题，但是没有必要为了版号问题放弃国内市场（除非游戏内容是睬红线的），最方便省力的方法就是找一家发行公司来帮你的游戏搞定版号，比如我们&hellip;&hellip;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px" align="center"></p><div class="mbArticleSharePic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" style="position: relative; z-index: 1; margin: 0px auto; width: 554px"><img style="border: none; vertical-align: bottom; max-width: 640px" src="read-1.php-6159" tppabs="http://img1.gtimg.com/gamezone/pics/hv1/79/166/2092/136074709.png" border="0" alt="&ldquo;手游审核前置&rdquo;新规正式实施：情况真有那么糟？" /></div><p>&nbsp;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">从这些采访中也能看出，大部分游戏行业人士对新规的态度都比较一致：</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">游戏大厂受到的影响并不大，通常会有专人负责版号业务，即便是上线时间可能因此有一些推迟，但大厂的核心产品也普遍是重度游戏，开发周期长、生命周期也相对更长，有更充足的时间来准备版号。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">对于中小CP来说，影响会更大一些，但也不会对其造成毁灭性打击，尤其是对于准备将自己的产品交给发行商的CP。据<strong>某发行商负责人透露，尽管也有CP自己办版号的情况，但大多数时候是由发行商负责版号的申请。</strong></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">值得一提的是，<strong>不少CP担心由发行商办版号，会导致发行拥有更高的议价权，使得CP的<a style="outline: none; color: #000000; text-decoration: none; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #536da6" href="javascript:if(confirm('http://datalib.games.qq.com/net_game/259/read.php?6150  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://datalib.games.qq.com/net_game/259/read.php?6150'" tppabs="http://datalib.games.qq.com/net_game/259/index.shtml" target="_blank" class="a-tips-Article-QQ">生存</a>空间进一步收窄。但某发行商负责人表示：不太会出现这样的情况。</strong>&ldquo;办版号本来就是发行商该做的事，不会一个版号的事就给发行增加谈判筹码。还是要从游戏本身的品质出发去谈合作。&rdquo;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">而事实上，<strong>一些游戏发行商已经推出了新的代理发行方式：不绑定发行，仅协助优秀的独立游戏解决版号问题。</strong>具体的操作是：先以发行商的名义协助游戏把版号办了，成本费用发行方垫付（费用多少事先约定好，比如说1万元）。后续游戏收入若能抵扣掉版号成本后，所有的收入都归开发者，且开发者可以随便再拿去给别人发行；如果游戏最终收入不够抵扣版号费用，就算了，也不用欠发行商钱。&mdash;&mdash;该发行商唯一的要求是，合作期间游戏带上自己公司的LOGO，推广自己的品牌。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em"><span style="font-size: 18px"><strong>打击最大的是：不打算找发行的独立游戏开发者。</strong></span></p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">在知乎上，一位名为&ldquo;冷月无声&rdquo;的网友（自称是一名手游研发人员）吐槽了《通知》所需要提交的材料，获得了最多的点赞数。在他看来，正常的材料都能理解，但以下材料很&ldquo;荒谬&rdquo;：</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">1.必须刻录5张光盘，必须是DVD。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">安卓版安装包一张，iOS版安装包一张。还有3张是公司相关的资质证明扫描件的jpg格式。对你没看错，现在这个时代了，不能直接传文件，甚至不能把5个文件放在同一张光盘里。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">2.必须寄过去两个装好游戏的手机，安卓一部，iPhone一部。假设这个游戏没有安卓版，就提供iphone两部。一个公司假如有N个游戏，就要寄2&times;N个手机。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">3.手机里必须有电话卡，电话卡必须有流量。不能寄iTouch，假设有穷苦的小公司一直用iTouch做测试机，则必须为了审核买iPhone。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px" align="center"></p><div class="mbArticleSharePic&nbsp;&nbsp;" style="position: relative; z-index: 1; margin: 0px auto; width: 640px"><img style="border: none; vertical-align: bottom; max-width: 640px" src="read-1.php-6137" tppabs="http://img1.gtimg.com/gamezone/pics/hv1/239/170/2092/136075889.png" border="0" alt="&ldquo;手游审核前置&rdquo;新规正式实施：情况真有那么糟？" /></div><p>&nbsp;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">该知乎答案在之后发布了更新，称近期接到了新的通知，手游版号申请材料的&ldquo;设备提供&rdquo;有变动：提交手机改为提交4个同样的DVD安装光盘，若游戏只有安卓或iOS一个版本，则提交4个光盘，每个装有1个该版本游戏的安装包；若游戏有安卓和iOS两个版本，则提交4个光盘，每个光盘有1个安卓和1个iOS的安装包。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">可以看出，准备各种材料对于独立游戏开发者来说是一件相当繁琐的事，如果自己准备，则需要耗费大量的精力&mdash;&mdash;并且很可能递交的材料不符合规定，来回折腾。也因此，催生出手游版号代办这样类似中介的产业。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">即便如此，从媒体曝光的版号代办价格来看，一个版号15000~35000元，对一般游戏厂商来说是不痛不痒，但对于个人独立开发者来说，这很可能比他开发游戏的全部成本都要高得多。付出这笔钱，都会使得很多独立游戏望而却步。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">&ldquo;其实大家并不担心办不下来，就是觉得突然来这么一茬很恶心，花时间又花人力。&rdquo;某独立游戏开发者如是说。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px" align="center"></p><div class="mbArticleSharePic&nbsp;&nbsp;" style="position: relative; z-index: 1; margin: 0px auto; width: 467px"><img style="border: none; vertical-align: bottom; max-width: 640px" src="read-1.php-6107" tppabs="http://img1.gtimg.com/gamezone/pics/hv1/80/166/2092/136074710.png" border="0" alt="最近很火的游戏版号代办产业" /></div><p>&nbsp;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 10pt" align="center">最近很火的游戏版号代办产业</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">在6月28日，国家新闻出版广电总局在北京召开了为期两天的&ldquo;<a style="outline: none; color: #000000; text-decoration: none; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: #536da6" href="javascript:if(confirm('http://games.qq.com/ntgame/read.php?6094  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://games.qq.com/ntgame/read.php?6094'" tppabs="http://games.qq.com/ntgame/netgame.shtml" target="_blank" class="a-tips-Article-QQ">网络游戏</a>内容管理培训会&rdquo;，给相关企业做了一些关于新规的培训，具体培训内容包括政策解读、具体申报审批材料、游戏内容规范等。</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">会后，我们联系到了相关内部人士，阐明了游戏行业目前对新规的种种疑惑，询问对方是否会将培训的重点内容整理发布，以指导游戏同行们更好地申办版号。对方表示：&ldquo;目前新规刚开始实施，总局希望能在新规实施了一段时间之后，再安排发布类似的、更具实操意义的指导方案。&rdquo;</p><p style="margin: 0px 0px 29px; padding: 0px; line-height: 28px; font-family: 宋体, Arial, sans-serif; font-size: 15.9996px; text-indent: 2em">无论支持也好、吐槽也好，事实上大部分人还是理解，这次的新规是为了让中国手游市场更健康的发展。但具体实施之后，会给行业带来什么样的影响？我们静观其变。</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">1</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7367.htm" tppabs="http://i.renjihe.com/blog/read.php?7367">Unity 游戏框架搭建 (五) 简易消息机制</a> <span id="starid7367"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 00:07 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7367.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7367#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7367");'>引用(0)</a> , <a href="read.php-7367.htm" tppabs="http://i.renjihe.com/blog/read.php?7367">阅读(2)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7367" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	http://liangxiegame.com/unity-you-xi-kuang-jia-da-jian-wu-jian-yi-xiao-xi-ji-zhi/<br /><br /><h4 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1.1em; font-weight: lighter; font-stretch: inherit; line-height: inherit; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">什么是消息机制?</h4><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666"><img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" /><img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" /><img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" /><img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" /><img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" />23333333，让我先笑一会。</p><h4 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1.1em; font-weight: lighter; font-stretch: inherit; line-height: inherit; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">为什么用消息机制?</h4><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;三个字,解!!!!耦!!!!合!!!!。</p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">我的框架中的消息机制用例:</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">1.接收者</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> UnityEngine;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> QFramework;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 1.接收者需要实现IMsgReceiver接口。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 2.使用this.RegisterLogicMsg注册消息和回调函数。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;/summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> Receiver : MonoBehaviour,IMsgReceiver &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Awake</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.RegisterLogicMsg (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;Receiver Show Sth&quot;</span>, ReceiverMsg);&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.UnRegisterLogicMsg (&quot;Receiver Show Sth&quot;, ReceiverMsg);</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">ReceiverMsg</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(params object[] paramList)</span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach (var sth in paramList) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.Warn (sth.ToString());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">2.发送者</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> UnityEngine;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> QFramework;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 1.发送者需要,实现IMsgSender接口</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 2.调用this.SendLogicMsg发送Receiver Show Sth消息,并传入两个参数</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;/summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> Sender : MonoBehaviour,IMsgSender &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// Update is called once per frame</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Update</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span> </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.SendLogicMsg (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;Receiver Show Sth&quot;</span>,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;你好&quot;</span>,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;世界&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">3.运行结果&nbsp;<br /><img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" />使用起来几行代码的事情,实现起来就没这么简单了。</p><h4 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1.1em; font-weight: lighter; font-stretch: inherit; line-height: inherit; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">如何实现的?</h4><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;可以看到接收者实现了接口IMsgReceiver,发送者实现了接口IMsgSender。 那先看下这两个接口定义。<br />IMsgReceiver:</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> UnityEngine;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">namespace</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">QFramework</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">interface</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">IMsgReceiver</span>&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">IMsgSender</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> UnityEngine;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">namespace</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">QFramework</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">interface</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">IMsgSender</span>&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">毛都没有啊。也没有SendLogicMsg或者ReceiveLogicMsg方法的定义啊。</p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">答案是使用C# this的扩展方式实现接口方法。 不清楚的童鞋请百度C# this扩展,有好多文章就不介绍了。 以上先告一段落,先介绍个重要的角色,MsgDispatcher(消息分发器)。</p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">贴上第一部分代码:</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">namespace</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">QFramework</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 消息分发器</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> C# this扩展 需要静态类</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">QMsgDispatcher</span>&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 消息捕捉器</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">LogicMsgHandler</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> IMsgReceiver receiver;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span>&nbsp;&nbsp;VoidDelegate.WithParams callback;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* VoidDelegate.WithParams 是一种委托 ,定义是这样的&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;public class VoidDelegate&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public delegate void WithParams(params object[] paramList);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">LogicMsgHandler</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(IMsgReceiver receiver,VoidDelegate.WithParams callback)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.receiver = receiver;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.callback = callback;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 每个消息名字维护一组消息捕捉器。</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> Dictionary&lt;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>,List&lt;LogicMsgHandler&gt;&gt; mMsgHandlerDict = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> Dictionary&lt;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>,List&lt;LogicMsgHandler&gt;&gt; (); </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">读注释!!!</p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">贴上注册消息的代码</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 注册消息,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 注意第一个参数,使用了C# this的扩展,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 所以只有实现IMsgReceiver的对象才能调用此方法</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">RegisterLogicMsg</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span> IMsgReceiver self, <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> msgName,VoidDelegate.WithParams callback)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 略过</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>.IsNullOrEmpty(msgName)) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkWarn(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;RegisterMsg:&quot;</span> + msgName + <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot; is Null or Empty&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 略过</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">null</span> == callback) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkWarn (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;RegisterMsg:&quot;</span> + msgName + <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot; callback is Null&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 略过</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (!mMsgHandlerDict.ContainsKey (msgName)) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mMsgHandlerDict [msgName] = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> List&lt;LogicMsgHandler&gt; ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 看下这里</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">var</span> handlers = mMsgHandlerDict [msgName];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 略过</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 防止重复注册</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">foreach</span> (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">var</span> handler <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">in</span> handlers) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (handler.receiver == self &amp;&amp; handler.callback == callback) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkWarn (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;RegisterMsg:&quot;</span> + msgName + <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot; ayready Register&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 再看下这里</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; handlers.Add (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> LogicMsgHandler (self, callback));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">为了节省您时间,略过部分的代码就不要看了,什么?!!你都看了!!!! 23333</p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">发送消息相关的代码</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 发送消息</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 注意第一个参数</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">SendLogicMsg</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span> IMsgSender sender, <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> msgName,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">params</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">object</span>[] paramList )</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 略过,不用看</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>.IsNullOrEmpty(msgName)) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkError(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;SendMsg is Null or Empty&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 略过,不用看</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (!mMsgHandlerDict.ContainsKey(msgName))&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkWarn(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;SendMsg is UnRegister&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 开始看!!!!</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">var</span> handlers = mMsgHandlerDict[msgName];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">var</span> handlerCount = handlers.Count;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 之所以是从后向前遍历,是因为&nbsp;&nbsp;从前向后遍历删除后索引值会不断变化</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 参考文章,http://www.2cto.com/kf/201312/266723.html</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">for</span> (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">int</span> index = handlerCount - <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">1</span>;index &gt;= <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">0</span>;index--)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">var</span> handler = handlers[index];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (handler.receiver != <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">null</span>) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkLog (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;SendLogicMsg:&quot;</span> + msgName + <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot; Succeed&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; handler.callback (paramList);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">else</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; handlers.Remove (handler);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">OK主要的部分全都贴出来啦&nbsp;<br />以上代码以全部上传到Github上边<br />贴出代码地址:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('https://github.com/liangxiegame/QFramework/tree/master/Script/read.php?4956  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://github.com/liangxiegame/QFramework/tree/master/Script/read.php?4956'" tppabs="https://github.com/liangxiegame/QFramework/tree/master/Script/LogicMsg" target="_blank">消息机制相关代码地址</a></p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">可以改进的地方:</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;1.目前整个游戏的消息都由一个字典维护,可以改进为每个模块维护一个字典或者其他方式。 &emsp;&emsp;2.消息名字类型由字符串定义的,可以改成枚举转unsigned int方式。 &emsp;&emsp;3.欢迎补充。</p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">坑</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;1.如果是MonoBehaviour注册消息之后,GameObject Destroy之前一定要注销消息,之前的解决方案是,自定义一个基类来维护该对象已经注册的消息列表,然后在基类的OnDestory时候遍历卸载。 &emsp;&emsp;2.欢迎补充。</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">1</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7366.htm" tppabs="http://i.renjihe.com/blog/read.php?7366">Unity 游戏框架搭建 (四) 简易有限状态机</a> <span id="starid7366"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 00:07 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7366.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7366#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7366");'>引用(0)</a> , <a href="read.php-7366.htm" tppabs="http://i.renjihe.com/blog/read.php?7366">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7366" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	http://liangxiegame.com/unity-you-xi-kuang-jia-da-jian-er-dan-li-de-mo-ban-2/<br /><br /><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">为什么用有限状态机?</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;之前做过一款跑酷游戏,跑酷角色有很多状态:跑、跳、二段跳、死亡等等。一开始是使用if/switch来切换状态,但是每次角色添加一个状态（提前没规划好),所有状态处理相关的代码就会指数级增长,那样就会嗅出代码的坏味道了。在这种处理状态并且状态数量不是特别多的情况下,自然就想到了引入状态机。<br /><br />优点:<br />&emsp;&emsp;1.使代码整洁,状态容易扩展和管理。<br />&emsp;&emsp;2.可复用。<br />&emsp;&emsp;3.还没想到.....<br />缺点:<br />&emsp;&emsp;1.也没想到......</p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">什么是有限状态机?</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;解释不清楚,看了下百度百科。反正是一种数据结构,一个解决问题的工具。<br />&emsp;&emsp;从百度百科可以看到,有限状态机最最最基础的概念有两个:状态和转移。<br />&emsp;&emsp;从刚才跑酷的例子来讲,跑、跳、二段跳等这些就是角色的状态。<br />如图所示:<img style="margin: 0px auto; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; max-width: 100%; border-radius: 3px; text-align: center; display: block" src="http://bad_redirect" border="0" />&emsp;&emsp;主角从跑状态切换到跳状态,从跳状态切换到二段跳状态,这里的切换就是指状态的转移。状态的转移是有条件的,比如主角从跑状态不可以直接切换到二段跳状态。但是可以从二段跳状态切换到跑状态。<br />&emsp;&emsp;另外,一个基本的状态有:进入状态、退出状态、接收输入、转移状态等动作。但是仅仅作为跑酷的角色的状态管理来说,只需要转移状态就足够了。有兴趣的同学可以自行扩展。</p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">如何实现?</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;恰好之前看到过一个还算简易的实现(简易就是指我能看得懂- -,希望大家也是),原版是用lua实现的,我的跑酷游戏是用C#实现的,所以直接贴出C#代码。</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> UnityEngine;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections.Generic;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">FSM</span> &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 定义函数指针类型</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">delegate</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">FSMTranslationCallfunc</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span></span>;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 状态类</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">FSMState</span>&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">FSMState</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> name)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.name = name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 存储事件对应的条转</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> Dictionary &lt;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>,FSMTranslation&gt; TranslationDict = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> Dictionary&lt;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>,FSMTranslation&gt;();&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 跳转类</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">FSMTranslation</span>&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> FSMState fromState;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> FSMState toState;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> FSMTranslationCallfunc callfunc; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 回调函数</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">FSMTranslation</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(FSMState fromState,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> name, FSMState toState,FSMTranslationCallfunc callfunc)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.fromState = fromState;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.toState&nbsp;&nbsp; = toState;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.name = name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">this</span>.callfunc = callfunc;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 当前状态</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">private</span> FSMState mCurState;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dictionary &lt;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>,FSMState&gt; StateDict = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> Dictionary&lt;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span>,FSMState&gt;();&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 添加状态</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;param name=&quot;state&quot;&gt;</span>State.<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/param&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">AddState</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(FSMState state)</span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StateDict [state.name] = state;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 添加条转</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;param name=&quot;translation&quot;&gt;</span>Translation.<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/param&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">AddTranslation</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(FSMTranslation translation)</span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StateDict [translation.fromState.name].TranslationDict [translation.name] = translation;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 启动状态机</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;param name=&quot;state&quot;&gt;</span>State.<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/param&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Start</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(FSMState state)</span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCurState = state;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> 处理事件</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/summary&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">///</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;param name=&quot;name&quot;&gt;</span>Name.<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-xmlDocTag">&lt;/param&gt;</span></span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">HandleEvent</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">string</span> name)</span>&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (mCurState != <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">null</span> &amp;&amp; mCurState.TranslationDict.ContainsKey(name)) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug.LogWarning (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;fromState:&quot;</span> + mCurState.name);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mCurState.TranslationDict [name].callfunc ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCurState = mCurState.TranslationDict [name].toState;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug.LogWarning (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;toState:&quot;</span> + mCurState.name);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">测试代码(需自行修改):</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Idle,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 闲置</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;跑</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jump,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一段跳</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DoubleJump,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 二段跳</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Die,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;挂彩</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 创建状态</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMState idleState = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMState(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;idle&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMState runState&nbsp;&nbsp;= <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMState(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;run&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMState jumpState = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMState(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;jump&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMState doubleJumpState = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMState(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;double_jump&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMState dieState&nbsp;&nbsp;= <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMState(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;die&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 创建跳转</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMTranslation touchTranslation1 = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMTranslation(runState,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;touch_down&quot;</span>,jumpState,Jump);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMTranslation touchTranslation2 = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMTranslation(jumpState,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;touch_down&quot;</span>,doubleJumpState,DoubleJump);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FSM.FSMTranslation landTranslation1 = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMTranslation(jumpState,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;land&quot;</span>,runState,Run);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSM.FSMTranslation landTranslation2 = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> FSM.FSMTranslation(doubleJumpState,<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;land&quot;</span>,runState,Run);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 添加状态</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddState (idleState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddState (runState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddState (jumpState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddState (doubleJumpState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddState (dieState);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 添加跳转</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddTranslation (touchTranslation1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddTranslation (touchTranslation2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddTranslation (landTranslation1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PlayerModel.Instance ().fsm.AddTranslation (landTranslation2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PlayerModel.Instance ().fsm.Start (runState); </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">贴上代码地址址:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('https://github.com/liangxiegame/QFramework/blob/master/Script/DesignPattern/read.php?4937  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://github.com/liangxiegame/QFramework/blob/master/Script/DesignPattern/read.php?4937'" tppabs="https://github.com/liangxiegame/QFramework/blob/master/Script/DesignPattern/QFSM.cs" target="_blank">https://github.com/liangxiegame/QFramework/blob/master/Script/DesignPattern/QFSM.cs</a></p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;就这些,想要进一步扩展的话,可以给FSMState类添加EnterCallback和ExitCallback等委托,然后在FSM的HandleEvent方法中进行调用。当时对跑酷的项目来说够用了,接没继续扩展了,我好懒- -,懒的借口是:没有最好的设计,只有最适合的设计,233333。</p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">附:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('https://github.com/liangxiegame/read.php?4936  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://github.com/liangxiegame/read.php?4936'" tppabs="https://github.com/liangxiegame/QFramework" target="_blank">我的框架地址</a><br />转载请注明地址:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('http://liangxiegame.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://liangxiegame.com/'" tppabs="http://liangxiegame.com/">凉鞋的笔记</a></p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">1</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7365.htm" tppabs="http://i.renjihe.com/blog/read.php?7365">Unity 游戏框架搭建 (三) MonoBehaviour单例的模板</a> <span id="starid7365"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 00:06 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7365.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7365#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7365");'>引用(0)</a> , <a href="read.php-7365.htm" tppabs="http://i.renjihe.com/blog/read.php?7365">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7365" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	http://liangxiegame.com/unity-you-xi-kuang-jia-da-jian-san-monobehaviourdan-li-de-mo-ban/<br /><br /><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">上一篇文章讲述了如何设计C#单例的模板。也随之抛出了问题:<br />如何设计接收MonoBehaviour生命周期的单例的模板?<br /></p><h4 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1.1em; font-weight: lighter; font-stretch: inherit; line-height: inherit; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">如何设计?</h4><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">先分析下需求:<br />&emsp;&emsp;1.约束脚本实例对象的个数。&nbsp;<br />&emsp;&emsp;2.约束GameObject的个数。&nbsp;<br />&emsp;&emsp;3.接收MonoBehaviour生命周期。<br />&emsp;&emsp;4.销毁单例和对应的GameObject。<br /><br />&emsp;&emsp;首先，第一点,约束脚本实例对象的个数,这个在上一篇中已经实现了。<br />&emsp;&emsp;但是第二点,约束GameObject的个数,这个需求,还没有思路,只好在游戏运行时判断有多少个GameObject已经挂上了该脚本,然后如果个数大于1抛出错误即可。&nbsp;<br />&emsp;&emsp;第三点,通过继承MonoBehaviour实现,只要覆写相应的回调方法即可。 第四点,在脚本销毁时,把静态实例置空。 完整的代码就如下所示:<br /></p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> UnityEngine;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 需要使用Unity生命周期的单例模式</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;/summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">namespace</span> QFramework &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> abstract <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> QMonoSingleton&lt;T&gt; : MonoBehaviour where T : QMonoSingleton&lt;T&gt;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">protected</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> T instance = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> T <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Instance</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (instance == null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instance = FindObjectOfType&lt;T&gt;();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (FindObjectsOfType&lt;T&gt;().Length &gt; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">1</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkError (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;More than 1!&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> instance;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (instance == null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-built_in">string</span> instanceName = typeof(T).Name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkLog (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;Instance Name: &quot;</span> + instanceName);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GameObject instanceGO = GameObject.Find(instanceName);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (instanceGO == null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instanceGO = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> GameObject(instanceName);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instance = instanceGO.AddComponent&lt;T&gt;();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DontDestroyOnLoad(instanceGO);&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//保证实例不会被释放</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkLog (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;Add New Singleton &quot;</span> + instance.name + <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot; in Game!&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">else</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QPrint.FrameworkLog (<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;Already exist: &quot;</span> + instance.name);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> instance;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">protected</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">virtual</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">OnDestroy</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instance = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&#125; </pre><h4 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1.1em; font-weight: lighter; font-stretch: inherit; line-height: inherit; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">总结:</h4><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;目前已经实现了两种单例的模板,一种是需要接收Unity的生命周期的,一种是不需要接收生命周期的,可以配合着使用。虽然不是本人实现的,但是用起来可是超级爽快,2333。</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">1</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7364.htm" tppabs="http://i.renjihe.com/blog/read.php?7364">Unity 游戏框架搭建 (二) 单例的模板</a> <span id="starid7364"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 00:06 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7364.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7364#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7364");'>引用(0)</a> , <a href="read.php-7364.htm" tppabs="http://i.renjihe.com/blog/read.php?7364">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7364" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	http://liangxiegame.com/unity-you-xi-kuang-jia-da-jian-er-dan-li-de-mo-ban/<br /><br /><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">上一篇文章中说到的manager of managers,其中每个manager都是单例的实现,当然也可以使用静态类实现,但是相比于静态类的实现,单例的实现更为通用,可以适用大多数情况。<br /></p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">如何设计这个单例的模板?</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;先分析下需求,当设计一个manager时候,我们希望整个程序只有一个该manager对象实例,一般马上能想到的实现是这样的:<br /></p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-class"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">XXXManager</span> </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">private</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> XXXManager instance = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">null</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">private</span> XXXManager &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// to do ...</span>&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">XXXManager</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span> </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (instance == <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">null</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instance = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> XXXManager();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> instance;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;如果一个游戏需要10个各种各样的manager,那么以上这些代码要复制粘贴好多遍。重复的代码太多!!!想要把重复的代码抽离出来,怎么办?答案是引入泛型。实现如下:<br /></p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections.Generic;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Text;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Reflection;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">namespace</span> QFramework &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> abstract <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> QSingleton&lt;T&gt; where T : QSingleton&lt;T&gt;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">protected</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> T instance = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">protected</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">QSingleton</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> T <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Instance</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (instance == null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 如何new 一个T???</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> instance;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;为了可以被继承,静态实例和构造方法都使用protect修饰符。以上的问题很显而易见,那就是不能new一个泛型(3月9日补充:并不是不能new一个泛型,参考:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('http://bbs.csdn.net/topics/read.php?4455  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bbs.csdn.net/topics/read.php?4455'" tppabs="http://bbs.csdn.net/topics/390911693" target="_blank">new一个泛型的实例，编译失败了，为什么?-CSDN论坛-CSDN.NET-中国最大的IT技术社区</a>),(4月5日补充:有同学说可以new一个泛型的实例,不过要求改泛型提供了public的构造函数,好吧,这里不用new的原因是,无法显示调用private的构造函数)。因为泛型本身不是一个类型,那该怎么办呢?答案是使用反射。实现如下:</p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Collections.Generic;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Text;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> System.Reflection;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 1.泛型</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 2.反射</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 3.抽象类</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// 4.命名空间</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">/// &lt;/summary&gt;</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">namespace</span> QFramework &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> abstract <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> QSingleton&lt;T&gt; where T : QSingleton&lt;T&gt;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">protected</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> T instance = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">protected</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">QSingleton</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> T <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Instance</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (instance == null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 先获取所有非public的构造方法</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ConstructorInfo[] ctors = typeof(T).GetConstructors(BindingFlags.Instance &#124; BindingFlags.NonPublic);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 从ctors中获取无参的构造方法</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ConstructorInfo ctor = Array.Find(ctors, c =&gt; c.GetParameters().Length == <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">0</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (ctor == null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">throw</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> Exception(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #718c00" class="hljs-string">&quot;Non-public ctor() not found!&quot;</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 调用构造方法</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instance = ctor.Invoke(null) as T;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> instance;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">以上就是最终实现了。这个实现是在任何C#程序中都是通用的。其测试用例如下所示:<br /></p><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">using</span> QFramework;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 1.需要继承QSingleton。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 2.需要实现非public的构造方法。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">class</span> XXXManager : QSingleton&lt;XXXManager&gt; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">private</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">XXXManager</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span> </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// to do ...</span>&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">static</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">main</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit" class="hljs-built_in">string</span>[] args)</span>&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp; XXXManager.Instance().xxxyyyzzz(); &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">总结<br />&emsp;&emsp;这个单例的模板是平时用得比较顺手的工具了,其实现是在其他的框架中发现的,拿来直接用了。反射的部分可能会耗一些性能,但是只会执行一次。在Unity中可能会需要继承MonoBehaviour的单例,因为很多游戏可能会只创建一个GameObject,用来获取MonoBehaviour的生命周期,这些内容会再下一讲中介绍:)。&nbsp;<br />附:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('https://github.com/liangxiegame/read.php?4936  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://github.com/liangxiegame/read.php?4936'" tppabs="https://github.com/liangxiegame/QFramework" target="_blank">我的框架地址</a><br />转载请注明地址:<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('http://liangxiegame.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://liangxiegame.com/'" tppabs="http://liangxiegame.com/">凉鞋的笔记</a></p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">1</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7363.htm" tppabs="http://i.renjihe.com/blog/read.php?7363">Unity 游戏框架搭建 (一) 概述</a> <span id="starid7363"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 00:05 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7363.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7363#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7363");'>引用(0)</a> , <a href="read.php-7363.htm" tppabs="http://i.renjihe.com/blog/read.php?7363">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7363" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	http://liangxiegame.com/unity-you-xi-kuang-jia-da-jian-yi-gai-shu/<br /><br /><br /><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">为了重构手头的一款项目,翻出来当时未接触Unity时候收藏的视频<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('http://v.qq.com/boke/page/d/0/u/read.php?4120  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://v.qq.com/boke/page/d/0/u/read.php?4120'" tppabs="http://v.qq.com/boke/page/d/0/u/d016340mkcu.html" target="_blank">《Unity项目架构设计与开发管理》</a>,对于我这种初学者来说全是干货。简单的总结了一下,以后慢慢提炼。<br />关于Unity的架构有如下几种常用的方式。<br /></p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">1.EmptyGO:</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;在Hierarchy上创建一个空的GameObject,然后挂上所有与GameObject无关的逻辑控制的脚本。使用GameObject.Find()访问对象数据。 缺点:逻辑代码散落在各处,不适合大型项目。<br /></p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">2.Simple GameManager:</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;所有与GameObject无关的逻辑都放在一个单例中。<br />缺点:单一文件过于庞大。</p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">3.Manager Of Managers:</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">&emsp;&emsp;将不同的功能单独管理。如下:<br />MainManager: 作为入口管理器。&nbsp;<br />EventManager: 消息管理。&nbsp;<br />GUIManager: 图形视图管理。&nbsp;<br />AudioManager: 音效管理。&nbsp;<br />*PoolManager: go管理（减少动态开辟内存消耗,减少GC)。<br /><br /></p><h6 style="margin: 0px; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: inherit; font-weight: inherit; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #666666">实现一个简单的PoolManager<br /></h6><pre style="margin-top: 0px; margin-bottom: 1.3em; padding: 1em 18.84375px; border: 1px solid #c9e1f6; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; font-size: 0.9em; font-stretch: inherit; line-height: 1.3em; vertical-align: baseline; border-radius: 3px; overflow: auto; width: 716.609375px; color: #666666; background: #e8f2fb"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 存储动可服用的GameObject。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">private</span> List&lt;GameObject&gt; dormantObjects = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">new</span> List&lt;GameObject&gt;();&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 在dormantObjects获取与go类型相同的GameObject,如果没有则new一个。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> GameObject <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Spawn</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(GameObject go)</span>&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GameObject temp = <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">null</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (dormantObjects.Count &gt; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">0</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">foreach</span> (GameObject dob <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">in</span> dormantObjects)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">if</span> (dob.name == go.name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// Find an available GameObject</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp = dob;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dormantObjects.Remove(temp);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> temp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// Now Instantiate a new GameObject.</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp = GameObject.Instantialte(go) <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">as</span> GameObject;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.name = go.name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">return</span> temp; &#125;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">// 将用完的GameObject放入dormantObjects中</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Despawn</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">(GameObject go)</span>&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go.transform.parent = PoolManager.transform;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go.SetActive(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">false</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dormantObject.Add(go);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Trim(); &#125;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8e908c" class="hljs-comment">//FIFO 如果dormantObjects大于最大个数则将之前的GameObject都推出来。</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #4271ae" class="hljs-function"><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">public</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">void</span> <span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #3e999f" class="hljs-title">Trim</span><span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-params">()</span>&nbsp;&nbsp; </span>&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #8959a8" class="hljs-keyword">while</span> (dormantObjects.Count &gt; Capacity)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GameObject dob = dormantObjects[<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">0</span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dormantObjects.RemoveAt(<span style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit; color: #f5871f" class="hljs-number">0</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Destroy(dob);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &#125; </pre><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">缺点:<br />&emsp;&emsp;(1)不能管理prefabs。<br />&emsp;&emsp;(2)没有进行分类。<br /><br />更好的实现方式是将一个PoolManager分成:<br />&emsp;&emsp;若干个 SpawnPool。<br />&emsp;&emsp;每个SpawnPool分成PrefabPool和PoolManager。<br /><br />&emsp;&emsp;PrefabPool负责Prefab的加载和卸载。<br />&emsp;&emsp;PoolManager与之前的PoolMananger功能一样,负责GameObject的Spawn、Despawn和Trim。<br /></p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">要注意的是:<br />&emsp;&emsp;(1)每个SpawnPool是EmeptyGO。<br />&emsp;&emsp;(2)每个PoolManager管理两个List (Active,Deactive)。<br /></p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">讲了一堆,最后告诉有一个NB的插件叫Pool Manager- -。<br /></p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">*LevelManager: 关卡管理。<br />推荐插件:MadLevelManager。<br />GameManager: 游戏管理。&nbsp;<br />&emsp;&emsp;<a style="margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; vertical-align: baseline; text-decoration: none; color: #bf1827" href="javascript:if(confirm('http://www.tuicool.com/articles/read.php?4119  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.tuicool.com/articles/read.php?4119'" tppabs="http://www.tuicool.com/articles/u6NN7v" target="_blank">C#程序员整理的Unity 3D笔记（十二）：Unity3D之单体模式实现GameManager</a><br />*SaveManager: 配置管理。<br />&emsp;&emsp;实现Resume,功能玩到一半数据临时存储。<br />&emsp;&emsp;推荐SaveManager插件。可以Load、Save均采用二进制(快!!!)<br />&emsp;&emsp;所有C#类型都可以做Serialize。<br />&emsp;&emsp;数据混淆,截屏操作。<br />MenuManager 菜单管理。</p><h5 style="margin: 1em 0px 0.5em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 1em; font-weight: lighter; font-stretch: inherit; line-height: 16px; vertical-align: baseline; color: #333333; -webkit-font-smoothing: antialiased">4.将View和Model之间增加一个媒介层。</h5><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">MVCS:StrangeIOC插件。</p><p style="margin: 0px 0px 1.3em; padding: 0px; border: 0px; font-family: ff-tisa-web-pro-1, ff-tisa-web-pro-2, 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-stretch: inherit; line-height: 1.7em; vertical-align: baseline; color: #666666">MVVM:uFrame插件。</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">1</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7362.htm" tppabs="http://i.renjihe.com/blog/read.php?7362">Get Start StrangeIOC for Unity3D</a> <span id="starid7362"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 00:05 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="查看分类： 游戏">游戏</a> , <a href="read.php-7362.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7362#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7362");'>引用(0)</a> , <a href="read.php-7362.htm" tppabs="http://i.renjihe.com/blog/read.php?7362">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7362" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	http://www.tuicool.com/articles/NJFBv2j<br /><br /><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">好久没有发blog了，因为只发原创内容，而去年发布的那几篇后来发现随便百度到处都是转载的或者各种网站自动扒的，我觉得既然大家都不尊重这种东西就没必要发上来了！不过由于工作原因最近在看Unity的一个IOC框架:StrangeIOC，官方的文档都不是很好理解，找到了一篇比较好的GetStart文章，顺手翻译一下，一来方便自己加深理解，二来还是想共享出来，没事，随意转吧，拜托注明下出处！&nbsp;<a style="color: #949494; text-decoration: none; transition: 0.25s; outline: none 0px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #949494; font-style: italic; font-weight: bold" rel="nofollow,noindex" href="javascript:if(confirm('https://coffeebraingames.wordpress.com/2014/03/05/getting-started-with-strange-ioc/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://coffeebraingames.wordpress.com/2014/03/05/getting-started-with-strange-ioc/'" tppabs="https://coffeebraingames.wordpress.com/2014/03/05/getting-started-with-strange-ioc/" target="_blank">原文在这里</a>&nbsp;(不太清楚有没有被墙)</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">译文：</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">Strange是一个Unity3D中用于控制反转的第三方框架,控制反转(IOC-Inversion of Control)思想是类间解耦的一个重要方法,对于我来说,任何解耦技术都值得去学习。什么是IOC？&nbsp;<a style="color: #949494; text-decoration: none; transition: 0.25s; outline: none 0px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #949494; font-style: italic; font-weight: bold" rel="nofollow,noindex" href="javascript:if(confirm('http://en.wikipedia.org/wiki/read.php?4115  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://en.wikipedia.org/wiki/read.php?4115'" tppabs="http://en.wikipedia.org/wiki/Inversion_of_control">这里</a>&nbsp;有详细解答。IOC框架已经在企业级开发和其他非游戏软件的开发中成为了主流，并且可以说已经非常成熟。我觉得它可以帮助游戏开发变得更加容易测试，更好的进行协作开发。我非常想尝试它看看到底可以在游戏开发过程中起到多大的帮助程度。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">Strange使用起来真的像他的名字一样，非常&quot;奇怪&quot;。我发现它对于初学者来说，使用起来真的非常&quot;闹心&quot;，比如你想试着去写一个&quot;Hello World&quot;都非常不容易。&nbsp;<a style="color: #949494; text-decoration: none; transition: 0.25s; outline: none 0px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #949494; font-style: italic; font-weight: bold" rel="nofollow,noindex" href="javascript:if(confirm('http://strangeioc.github.io/strangeioc/read.php?4114  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://strangeioc.github.io/strangeioc/read.php?4114'" tppabs="http://strangeioc.github.io/strangeioc/TheBigStrangeHowTo.html">这里</a>&nbsp;是StrangeIOC框架的说明页面，但是这上面并没有一个真正意义上的&quot;新手引导&quot;来帮助我们了解Strange的工作机制，这就是你现在看到现在这篇文章的意义-用StrangeIOC框架写一个HelloWorld。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">一些提醒：</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><ul style="padding: 0px; margin: 0px 0px 0.75em 25px; list-style-type: none; line-height: 1.7em"><li style="line-height: 1.7em; list-style-type: disc">在阅读本篇文章之前，最好先去上面提到的官方说明页面了解一下Strange框架的架构(看看它的每个部分的功能以及怎么整合到一块工作的)。</li><li style="line-height: 1.7em; list-style-type: disc">这篇文档使用的是signal(消息)而非event(事件)(因为相比event我更喜欢signal)</li><li style="line-height: 1.7em; list-style-type: disc">我不会把文档中的Unity项目提供出来，因为我希望大家自己动手去做，这样肯定会学到更多:)</li><li style="line-height: 1.7em; list-style-type: disc">这个Hello World示例只是简单的提供注入绑定(injection binding)、命令绑定(command binding)、调解绑定(mediation binding)的示例。</li></ul><strong>Signal</strong></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">建立一个空Unity项目,下载并且解压Strange框架到Assets文件夹中，我们只需要框架的脚本，把&quot;examples&quot;和&quot;.doc&quot;文件夹去除，在Unity的的结构应该是这样的：</p><pre class="prettyprint undefined" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: #333333; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">Assets&nbsp;&nbsp;&nbsp;&nbsp; StrangeIoC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scripts</pre><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">在Assets文件夹下创建&quot;Game&quot;文件夹，即用来创建Hello World示例的文件夹。文件夹的的结构应该是这样的：</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint undefined" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6">Assets&nbsp;&nbsp;&nbsp;&nbsp; Game&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Scenes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Scripts</pre><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">在Scripts文件夹下新建名为HelloWorldSignals.cs的c#脚本，这个类将包含所有用到的signal，让我们coding起来:</p><div style="line-height: 1.7em"><pre class="prettyprint python" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">using</span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> strange.extensions.signal.impl;&nbsp;&nbsp; </span><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">StartSignal</span> :</span></span><span style="color: #000000"> Signal &#123;&#125;&nbsp;&nbsp; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">在Strange中，这个signal的概念非常像观察者模式(observer pattern)中的事件(events)。在这里，它以命名类的方式实现了继承Strange的Signal类.别急，我们马上会看到怎么去使用它。</p></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">Strange采用&quot;Contexts&quot;的概念来识别不同的问题域或者子模块。在实际的游戏项目中，你可以有多个&quot;Contexts&quot;，比如游戏逻辑、资源、持久层、统计分析、社交模块等等。我们在这个实例中只用了一个&quot;Context&quot;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">一个预构建的context在Strange中称为MVCSContext，MVCSContext默认使用event机制，我们来创建另外一种context父类，改造成使用signal机制，我们其他的context要继承这个SignalContext。</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">在Scripts下创建名为SignalContext.cs的脚本:</p><div style="line-height: 1.7em"><pre class="prettyprint cs" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.context.impl; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.command.api; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.command.impl; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.signal.impl;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">namespace</span></span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">class</span></span><span style="color: #000000"> SignalContext : MVCSContext &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #008000"><span style="font-style: italic; color: #999988" class="comment">/*</span></span><span style="font-style: italic; color: #999988" class="comment"><span style="color: #008000">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Constructor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> SignalContext (MonoBehaviour contextView) : <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">base</span></span><span style="color: #000000">(contextView) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">protected</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">override</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> addCoreComponents() &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">base</span></span><span style="color: #000000">.addCoreComponents();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #008000"><span style="font-style: italic; color: #999988" class="comment">//</span></span><span style="font-style: italic; color: #999988" class="comment"><span style="color: #008000"> bind signal command binder</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; injectionBinder.Unbind&lt;ICommandBinder&gt;<span style="color: #000000">();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; injectionBinder.Bind</span>&lt;ICommandBinder&gt;().To&lt;SignalCommandBinder&gt;<span style="color: #000000">().ToSingleton();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">override</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> Launch() &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">base</span></span><span style="color: #000000">.Launch();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Signal startSignal </span>= injectionBinder.GetInstance&lt;StartSignal&gt;<span style="color: #000000">();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; startSignal.Dispatch();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">在&quot;Scripts&quot;文件夹下创建一个新文件夹&quot;Controller&quot;，到这里有了一点MVC模式的特征。Strange作者建议我们应该以指令类(Command Class)的形式实现各个Controller接口，这个文件夹将包含所有的Command类，现在我们创建一个在StartSignal指令调用时执行的指令。在Controller文件夹下创建名为HelloWorldStartCommand.cs的类：</p><div style="line-height: 1.7em"><pre class="prettyprint python" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">using</span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> strange.extensions.context.api; </span><span style="color: #0000ff">using</span><span style="color: #000000"> strange.extensions.command.impl;&nbsp;&nbsp; </span><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">HelloWorldStartCommand</span> :</span></span><span style="color: #000000"> Command &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">public</span> <span style="color: #0000ff">override</span> <span style="color: #0000ff">void</span><span style="color: #000000"> Execute() &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #008000">//</span><span style="color: #008000"> perform all game start setup here</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Debug.Log(<span style="color: #800000"><span style="color: #dd1144" class="string">&quot;</span></span><span style="color: #dd1144" class="string"><span style="color: #800000">Hello World</span><span style="color: #800000">&quot;</span></span><span style="color: #000000">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;</span></pre></div></div><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">现在我们为这个HelloWorld示例创建一个自定义的context类HelloWorldContext.cs:</p><div style="line-height: 1.7em"><pre class="prettyprint cs" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.context.impl;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">namespace</span></span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">class</span></span><span style="color: #000000"> HelloWorldContext : SignalContext &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #008000"><span style="font-style: italic; color: #999988" class="comment">/*</span></span><span style="font-style: italic; color: #999988" class="comment"><span style="color: #008000">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Constructor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> HelloWorldContext(MonoBehaviour contextView) : <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">base</span></span><span style="color: #000000">(contextView) &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">protected</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">override</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> mapBindings() &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">base</span></span><span style="color: #000000">.mapBindings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #008000"><span style="font-style: italic; color: #999988" class="comment">//</span></span><span style="font-style: italic; color: #999988" class="comment"><span style="color: #008000"> we bind a command to StartSignal since it is invoked by SignalContext (the parent class) on Launch()</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; commandBinder.Bind&lt;StartSignal&gt;().To&lt;HelloWorldStartCommand&gt;<span style="color: #000000">().Once();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">在这里，我们把StartSignal类绑定(bind)给了HelloWorldStartCommand类。这样在StartSignal的实例被调用时，HelloWorldStartCommand会进行实例化(instantiated)和执行(executed)，注意在我们的示例中StartSignal信号会在SignalContext.Launch()方法中调用发出。</p></div><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">最后一步就是创建一个MonoBehaviour来在Unity中管理context，在Scripts文件夹下创建HelloWorldBootstrap.cs:<div style="line-height: 1.7em"><pre class="prettyprint python" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">using</span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> strange.extensions.context.impl;&nbsp;&nbsp; </span><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">HelloWorldBootstrap</span> :</span></span><span style="color: #000000"> ContextView &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">void</span><span style="color: #000000"> Awake() &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">this</span>.context = <span style="color: #0000ff">new</span> HelloWorldContext(<span style="color: #0000ff">this</span><span style="color: #000000">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;</span></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">用于在Unity中管理Strange context的接口类通常命名为&ldquo;xxxBootstrap&rdquo;，当然这只是一个建议，如果你乐意你可以随意起名字。这里唯一需要注意的是继承Strange框架的ContextView类的类需要是一个MonoBehaviour，我们在Awake()里分配了一个我们自定义好的context实例给继承的变量&quot;context&quot;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">创建一个空场景命名为&quot;HelloStrange&quot;，创建一个EmptyObject命名为Bootstrap，把我们之前创建的HelloWorldBootstrap&nbsp;add上来。可以跑一下这个场景，之前程序正确的话，你应该看到控制台的&quot;Hello World&quot;输出了。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><img style="max-width: 96%; height: auto; vertical-align: middle; border: 0px none; margin: 0px auto 10px; text-align: center; display: block" class="alignCenter" src="read-1.php-4113" tppabs="http://img1.tuicool.com/uErmUr.jpg!web" border="0" /></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">Injection in Mediator</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">&nbsp;&nbsp;到目前为止写这么一大堆东西只是输出一句&ldquo;HelloWorld&rdquo;，是不是被Strange搞得头都大了？其实做到现在这一步已经大致为你梳理出来Strange的一些机制了。首先我们有了一个能跑的context，从这一步开始，我们就可以添加view和相应的mediator，还可以使用injection binder把一个实例映射到一些可注入controllers/commands和mediators的接口中，而这些接口并不需要关心这个实例是怎么来的。接下来就是见证奇迹的时刻了！</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">一般我们做游戏编程的时候，会有一堆单例管理器(singleton managers)比如EnemyManager、AsteroidManager、CombatManager等等，假如需要同一个实例给任意一个管理器去调用有很多解决方案，比如我们可以使用GameObject.Find() 或者为这个类添加一个静态单例(GetInstance() static method)，OK,让我们看看有了Strange以后，这样的情形可以怎么去解决：创建一个名为&quot;ISomeManager&quot;的接口，模拟一个上面说的那种manager，在Scripts文件夹创建ISomeManager.cs脚本</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><div style="line-height: 1.7em"><pre class="prettyprint java" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">interface</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">ISomeManager</span> &#123;</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000"><span style="font-style: italic; color: #999988" class="javadoc">/*</span></span><span style="font-style: italic; color: #999988" class="javadoc"><span style="color: #008000">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Perform some management&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">*/</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> DoManagement();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">这就是我们示例当中的manager接口，注意：Strange的作者建议我们总是使用一个接口然后通过injectionBinder将它映射到一个真正的实现类，当然，你也可以使用多对多的映射。接下来我们创建一个具体实现类，在Scripts文件夹下创建ManagerAsNormalClass.cs脚本：</p><div style="line-height: 1.7em"><pre class="prettyprint python" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">using</span><span style="color: #000000"> System;&nbsp;&nbsp;</span><span style="color: #0000ff">using</span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp;</span><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">ManagerAsNormalClass</span> :</span></span><span style="color: #000000"> ISomeManager &#123;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff">public</span><span style="color: #000000"> ManagerAsNormalClass() &#123; <span class="indent">&nbsp;&nbsp;</span>&#125;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-style: italic; color: #999988" class="comment">#region</span></span><span style="font-style: italic; color: #999988" class="comment"> ISomeManager implementation</span> <span class="indent">&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> DoManagement() &#123; <span class="indent">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;Debug.Log(</span><span style="color: #800000"><span style="color: #dd1144" class="string">&quot;</span></span><span style="color: #dd1144" class="string"><span style="color: #800000">Manager implemented as a normal class</span><span style="color: #800000">&quot;</span></span><span style="color: #000000">); <span class="indent">&nbsp;&nbsp;</span>&#125; <span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-style: italic; color: #999988" class="comment">#endregion</span></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">如果你仔细在看你可能会发现这是一个没有MonoBehaviour的manager，别急，一会再介绍怎么bind有MonoBehaviour的</p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">现在我们来创建一个简单的交互场景，效果是当一个Button按下时，ISomeManager的DoManagement函数执行，这里我们有一个要求：用MVC思想---对controll层(ISomeManager)和view层(控制Button触发事件的脚本)完全解耦，view层只需要通知controll层:&quot;hey！button被点击了&quot;，至于接下来发生什么交由controll层进行逻辑处理。</p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">现在缺一个view层，把它创建出来吧---在Game文件夹下创建&quot;View&quot;文件夹，创建HelloWorldView.cs脚本:</p><div style="line-height: 1.7em"><pre class="prettyprint cs" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> System;&nbsp;&nbsp;</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp;</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.mediation.impl; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.signal.impl;&nbsp;&nbsp;</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">namespace</span></span><span style="color: #000000"> Game &#123; <span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">class</span></span><span style="color: #000000"> HelloWorldView : View &#123;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> Signal buttonClicked = <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">new</span></span><span style="color: #000000"> Signal();&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">private</span></span> Rect buttonRect = <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">new</span></span> Rect(<span style="color: #800080"><span style="color: #009999" class="number">0</span></span>, <span style="color: #800080"><span style="color: #009999" class="number">0</span></span>, <span style="color: #800080"><span style="color: #009999" class="number">200</span></span>, <span style="color: #800080"><span style="color: #009999" class="number">50</span></span><span style="color: #000000">);&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> OnGUI() &#123; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">if</span></span>(GUI.Button(buttonRect, <span style="color: #800000"><span style="color: #dd1144" class="string">&quot;</span></span><span style="color: #dd1144" class="string"><span style="color: #800000">Manage</span><span style="color: #800000">&quot;</span></span><span style="color: #000000">)) &#123; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span>buttonClicked.Dispatch(); <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span>&#125; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span>&#125;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span>&#125; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">这里继承的Strange框架中的View类已经包含了MonoBehaviour。所有使用Strange context的View层类都必须继承这个Strange的View类，我们刚刚创建的View类只有一个交互功能：在点击名为&quot;Manage&quot;的Button后，调用一个 generic signal(通用信号) 。</p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">Strange作者建议对每个View创建对应的Mediator。Mediator是一个薄层，他的作用是让与之对应的View和整个程序进行交互。mediation binder的作用是把View映射到它对应的mediator上。所以接下来为View层创建对应的mediator---在&quot;view&quot;文件夹下创建HelloWorldMediator.cs脚本:</p><div style="line-height: 1.7em"><pre class="prettyprint cs" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> System;&nbsp;&nbsp;</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp;</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.mediation.impl;&nbsp;&nbsp;</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">namespace</span></span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">class</span></span><span style="color: #000000"> HelloWorldMediator : Mediator &#123;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span>[Inject] <span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> HelloWorldView view &#123;<span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">get</span></span>; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">set</span></span><span style="color: #000000">;&#125;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span>[Inject] <span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> ISomeManager manager &#123;<span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">get</span></span>; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">set</span></span><span style="color: #000000">;&#125;&nbsp;&nbsp;<span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">override</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> OnRegister() &#123; <span class="indent">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;view.buttonClicked.AddListener(</span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">delegate</span></span><span style="color: #000000">() &#123; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span>manager.DoManagement(); <span class="indent">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&#125;); <span class="indent">&nbsp;&nbsp;</span>&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125; &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">在这段代码里我们可以看到神奇的&quot;Inject&quot;标注(Inject attribute)。这个&quot;Inject&quot;标注只能和变量搭配使用，当一个变量上面有&quot;Inject&quot;标注时，意味着Strange会把这个变量的一个实例自动注入到它对应映射的context中。据此从我们上面的代码来分析，在这里我们获取到了&quot;view&quot;和&quot;manager&quot;的实例，并且不用去关心这些个实例是怎么来的。</p><p style="margin: 0px 0px 0.75em; line-height: 1.7em; text-indent: 1em">OnRegister()是一个可以被重写的方法，它用来标记实例注入完成已经可以使用了，它的意义主要是进行初始化，或者说做准备。在上面的类中，OnRegister方法中为HellowWorldView.buttonClicked signal添加了一个监听器，这个监听器的逻辑是按下就执行manager.DoManagement方法。</p></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">接下来就是最后的工作，我们需要把待绑的类映射到Strange Context中。打开我们之前写的HelloWorldContext脚本，在mapBindings()方法中添加代码:</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint xml" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">protected</span> <span style="color: #0000ff">override</span> <span style="color: #0000ff">void</span><span style="color: #000000"> mapBindings() &#123; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff">base</span><span style="color: #000000">.mapBindings();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> we bind a command to StartSignal since it is invoked by SignalContext (the parent class) during on Launch()</span> <span class="indent">&nbsp;&nbsp;</span> commandBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">StartSignal</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldStartCommand</span>&gt;</span><span style="color: #000000">().Once();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> bind our view to its mediator</span> <span class="indent">&nbsp;&nbsp;</span> mediationBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldView</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldMediator</span>&gt;</span><span style="color: #000000">();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> bind our interface to a concrete implementation</span> <span class="indent">&nbsp;&nbsp;</span> injectionBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">ISomeManager</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">ManagerAsNormalClass</span>&gt;</span><span style="color: #000000">().ToSingleton(); &#125;</span></pre></div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">在HelloWorld scene中，添加一个名为&quot;View&quot;的GameObject，add&nbsp;HelloWorldView 脚本，运行场景，你应该能看到当我们按下&quot;Manage&quot;按钮时，控制台输出&quot;Manager implemented as a normal class&quot;。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><img style="max-width: 96%; height: 237.199312714777px; vertical-align: middle; border: 0px none; margin: 0px auto; text-align: center; width: 550px; display: block" src="read-1.php-4112" tppabs="https://coffeebraingames.files.wordpress.com/2014/03/3-5-2014a.png?w=620" border="0" alt="ISomeManager in action" /></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">你会发现Strange自动把HelloWorldMediator脚本挂载到了&quot;View&quot;GameObject上面。注意我们之前并没有手动把HelloWorldMediator脚本挂载到&quot;View&quot;GameObject上。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><img style="max-width: 96%; height: auto; vertical-align: middle; border: 0px none; margin: 0px auto; text-align: center; display: block" src="read-1.php-4111" tppabs="https://coffeebraingames.files.wordpress.com/2014/03/3-5-2014b.png?w=620" border="0" alt="Where did the mediator came from?" /></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">MonoBehaviour Manager</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">大部分时候，我们需要类似于上面的manager但是实现类是一个MonoBehaviour，这样我们才能使用例如协程、序列化的Unity特性。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">接下来创建实现MonoBehaviour接口的manager实例，看看怎么在Strange中进行bind。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">创建一个实现MonoBehaviour接口的manager，在Script文件夹下，命名为ManagerAsMonobehaviour.cs</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint python" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">using</span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123; <span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">ManagerAsMonoBehaviour</span> :</span></span><span style="color: #000000"> MonoBehaviour, ISomeManager &#123;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-style: italic; color: #999988" class="comment">#region</span></span><span style="font-style: italic; color: #999988" class="comment"> ISomeManager implementation</span> <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span><span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span><span style="color: #000000"> DoManagement() &#123; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span>Debug.Log(</span><span style="color: #800000"><span style="color: #dd1144" class="string">&quot;</span></span><span style="color: #dd1144" class="string"><span style="color: #800000">Manager implemented as MonoBehaviour</span><span style="color: #800000">&quot;</span></span><span style="color: #000000">); <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span>&#125; <span class="indent">&nbsp;&nbsp;</span><span class="indent">&nbsp;&nbsp;</span></span><span style="color: #0000ff"><span style="font-style: italic; color: #999988" class="comment">#endregion</span></span><span style="color: #000000">&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span>&#125; &#125;</span></pre>&nbsp; 在HelloStrangeScene中，创建一个新的GameObject名为&quot;Manager&quot;，add 上面创建好的 ManagerAsMonobehaviour脚本</div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">编辑HelloWorldContext脚本的mapBindings()方法:</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint xml" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">protected</span> <span style="color: #0000ff">override</span> <span style="color: #0000ff">void</span><span style="color: #000000"> mapBindings() &#123; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff">base</span><span style="color: #000000">.mapBindings();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> we bind a command to StartSignal since it is invoked by SignalContext (the parent class) during on Launch()</span> <span class="indent">&nbsp;&nbsp;</span> commandBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">StartSignal</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldStartCommand</span>&gt;</span><span style="color: #000000">().Once();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> bind our view to its mediator</span> <span class="indent">&nbsp;&nbsp;</span> mediationBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldView</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldMediator</span>&gt;</span><span style="color: #000000">();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> REMOVED!!! <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000">injectionBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">ISomeManager</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">ManagerAsNormalClass</span>&gt;</span>().ToSingleton();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> bind the manager implemented as a MonoBehaviour</span> <span class="indent">&nbsp;&nbsp;</span> ManagerAsMonoBehaviour manager = GameObject.Find(<span style="color: #800000">&quot;</span><span style="color: #800000">Manager</span><span style="color: #800000">&quot;</span>).GetComponent<span style="color: #000080" class="tag">&lt;<span class="title">ManagerAsMonoBehaviour</span>&gt;</span><span style="color: #000000">(); <span class="indent">&nbsp;&nbsp;</span> injectionBinder.Bind</span><span style="color: #000080" class="tag">&lt;<span class="title">ISomeManager</span>&gt;</span><span style="color: #000000">().ToValue(manager); &#125;</span></pre>与把ISomeManager映射为一个类型相反，我们把这个ManagerAsMonobehaviour映射为一个实例值(instance value)。</div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><img style="max-width: 96%; height: auto; vertical-align: middle; border: 0px none; margin: 0px auto; text-align: center; display: block" src="read-1.php-4110" tppabs="https://coffeebraingames.files.wordpress.com/2014/03/3-5-2014c.png?w=620" border="0" alt="Manager is now a MonoBehaviour" /></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><strong style="text-indent: 0px">Injection in Command</strong></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">到目前为止我们为HelloWorldMediator注入了一个ISomeManager的一个实例，并且可以直接使用它。这样做其实并不是很理想，一个Mediator应该是在view层和controller层之间的一个薄层。我们需要尽量使Mediator层不去关心应该在Manager类去做的那部分复杂的逻辑处理代码。虽然这么做也可以，我们还是用signal把这部分映射到command层吧。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">编辑HelloWorldSignals.cs脚本，添加一个DoManagementSignal:</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint python" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">using</span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff">using</span><span style="color: #000000"> strange.extensions.signal.impl;&nbsp;&nbsp; </span><span style="color: #0000ff">namespace</span><span style="color: #000000"> Game &#123;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"><span style="color: #000000"> <span style="color: #445588" class="title">StartSignal</span> :</span></span><span style="color: #000000"> Signal &#123;&#125;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff">public</span> <span style="color: #0000ff"><span style="font-weight: bold; color: #445588" class="class"><span style="color: #333333" class="keyword">class</span></span></span><span style="font-weight: bold; color: #445588" class="class"> <span class="title">DoManagementSignal</span> :</span> Signal &#123;&#125; <span style="color: #008000">//</span><span style="color: #008000"> A new signal!</span> <span style="color: #000000">&nbsp;&nbsp;&#125;</span></pre>&nbsp; 我们创建command映射到signal:在Controller文件夹下创建一个脚本DoManagementCommand.cs</div><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint cs" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.context.api; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.command.impl;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">namespace</span></span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">class</span></span><span style="color: #000000"> DoManagementCommand : Command &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Inject]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> ISomeManager manager &#123;<span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">get</span></span>; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">set</span></span><span style="color: #000000">;&#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">override</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> Execute() &#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; manager.DoManagement();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;</span></pre>在这个类，我们把ISomeManager注入到command类，并且在Execute方法中让它的DoManagement方法执行。</div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">修改HelloWorldMediator类:</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint cs" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> System;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> UnityEngine;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">using</span></span><span style="color: #000000"> strange.extensions.mediation.impl;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">namespace</span></span><span style="color: #000000"> Game &#123;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">class</span></span><span style="color: #000000"> HelloWorldMediator : Mediator &#123;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> [Inject] <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> HelloWorldView view &#123;<span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">get</span></span>; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">set</span></span><span style="color: #000000">;&#125;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> [Inject] <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> DoManagementSignal doManagement &#123;<span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">get</span></span>; <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">set</span></span><span style="color: #000000">;&#125;&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">public</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">override</span></span> <span style="color: #0000ff"><span style="font-weight: bold; color: #333333" class="keyword">void</span></span><span style="color: #000000"> OnRegister() &#123; <span class="indent">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp; view.buttonClicked.AddListener(doManagement.Dispatch); <span class="indent">&nbsp;&nbsp;</span> &#125;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#125; &#125;</span></pre>现在我们的mediator类中已经没有任何对ISomeManager接口的调用了。取而代之的是要在mediator类获取到DoManagementSignal的实例，当button点击时，这个类会发出DoManagementSignal。mediator层不需要知道任何manager的事情，它只管发送信号(signal)出去。</div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">最后，在HelloWorldContext.mapBindings()方法中添加这个signal-command映射。</p><div style="font-size: 16px; line-height: 27.2000007629395px; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"><pre class="prettyprint xml" style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border: 1px solid rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: #f6f6f6"><span style="color: #0000ff">protected</span> <span style="color: #0000ff">override</span> <span style="color: #0000ff">void</span><span style="color: #000000"> mapBindings() &#123; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #0000ff">base</span><span style="color: #000000">.mapBindings();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> we bind a command to StartSignal since it is invoked by SignalContext (the parent class) during on Launch()</span> <span class="indent">&nbsp;&nbsp;</span> commandBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">StartSignal</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldStartCommand</span>&gt;</span><span style="color: #000000">().Once(); <span class="indent">&nbsp;&nbsp;</span> commandBinder.Bind</span><span style="color: #000080" class="tag">&lt;<span class="title">DoManagementSignal</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">DoManagementCommand</span>&gt;</span>().Pooled(); <span style="color: #008000">//</span><span style="color: #008000"> THIS IS THE NEW MAPPING!!!&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> bind our view to its mediator</span> <span class="indent">&nbsp;&nbsp;</span> mediationBinder.Bind<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldView</span>&gt;</span>().To<span style="color: #000080" class="tag">&lt;<span class="title">HelloWorldMediator</span>&gt;</span><span style="color: #000000">();&nbsp;&nbsp; <span class="indent">&nbsp;&nbsp;</span> </span><span style="color: #008000">//</span><span style="color: #008000"> bind the manager implemented as a MonoBehaviour</span> <span class="indent">&nbsp;&nbsp;</span> ManagerAsMonoBehaviour manager = GameObject.Find(<span style="color: #800000">&quot;</span><span style="color: #800000">Manager</span><span style="color: #800000">&quot;</span>).GetComponent<span style="color: #000080" class="tag">&lt;<span class="title">ManagerAsMonoBehaviour</span>&gt;</span><span style="color: #000000">(); <span class="indent">&nbsp;&nbsp;</span> injectionBinder.Bind</span><span style="color: #000080" class="tag">&lt;<span class="title">ISomeManager</span>&gt;</span><span style="color: #000000">().ToValue(manager); &#125;</span></pre>运行场景，效果和之前一样，但是我们在代码层面把这块代码重构了。</div><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe"></p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">最后</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">你会注意到这篇文章动不动就提到&quot;作者建议&quot;这样的话，这是因为作者的建议确实是一个比较重要的选择。比如说你可以在你的view层中直接注入各种实例，可能你压根不想去创建什么mediator层！我想说的是你可以根据你的实际需要来决定使用Strange的方法，但是我选择了根据作者的建议来使用它因为对于我来说这样还不错。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">如果你把这篇文章看到了这里，你可能会很疑惑:&quot;我为什么要在我的项目里搞这么多复杂又多余的层？&quot;其实在我自己的项目中应用这个框架也是处于探索研究阶段，现在的感受Strange有一个好处是强行让我把每个模块划分了。比如这样一个情形:用Strange Context处理SimpleSQL数据持久化，对于现有的游戏逻辑代码，没有使用Strange的部分，他们间的通信通过signal来进行。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; line-height: 27.2000007629395px; text-indent: 1em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: #fefefe">我们还在另外一个RPG项目用了Strange，我希望用了它以后可以像它的口号一样，确实有助于代码间的协作。到目前来看我没法跟你宣称它在我的项目中有多好，因为我们也只是在起步阶段，但是至少到目前为止对于我们来说它工作的还不错。我们的模式是使用多个Context，一个程序员负责一个Context，然后通过signal来与其他人的Context通信。</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div>
					<div class="article-bottom" style="display: block">
						<div class="pages">
							<span class="pagebar-mainbody"> 分页： 1/46  <a href="index.php-go=category_62&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=1"><img src="doubleleft.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleleft.gif" alt="第一页" title="第一页" border="0"/></a> <span class="pagebar-selections"> <span class="pagelink-current">1</span>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5212  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5212'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=2">2</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5209  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5209'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=3">3</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5208  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5208'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=4">4</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5207  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5207'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=5">5</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5206  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5206'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=6">6</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5205  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5205'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=7">7</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5204  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5204'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=8">8</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5202  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5202'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=9">9</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5159  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5159'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=10">10</a> </span> <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5212  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5212'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=2"><img src="singleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/singleright.gif" alt="下页" title="下页" border="0"/></a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/read.php?5149  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/read.php?5149'" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=46"><img src="doubleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleright.gif" alt="最后页" title="最后页" border="0"/></a> </span> [ 显示模式： <a href="index.php-go=category_62&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=1&page=1" title="切换到摘要模式">摘要</a> | <a href="index.php-go=category_62&mode=2&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62&mode=2&page=1" title="切换到列表模式">列表</a> ]
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏"><strong>游戏</strong></a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 279 ms, 4 Queries.</span>";
//]]>
</script></body>
</html>