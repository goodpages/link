<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>Xen - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-read">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"></div>
	<div class="next-article"><a href="read.php-61.htm" tppabs="http://i.renjihe.com/blog/read.php?61" title="下一篇 TinyVM"><img src="toolbar_next.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_next.gif" alt='' border='0'/>TinyVM</a></div>
</div>
<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Oct</span>
	<span class="textbox-calendar-day">9</span>
	</div>
	<div class="textbox-title">
		<h4>
		Xen <span id="starid60"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/> 
		</h4>
		<div class="textbox-label">
		 <a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 09:14 , <a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="查看分类： 新鲜玩意">新鲜玩意</a> , <a href="read.php-60.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?60#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb60");'>引用(0)</a> , <a href="read.php-60.htm" tppabs="http://i.renjihe.com/blog/read.php?60">阅读(32)</a> ,  Via 本站原创 <span class="text-label-indented"><img src="toolbar_fontsize.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_fontsize.gif" alt='' title="字体大小" border='0'/> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="read.php-6893.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=entry_60"><img src="toolbar_rss.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_rss.gif" alt='' title="订阅本文" border='0'/></a> <a href="read.php-6891.htm" tppabs="http://i.renjihe.com/blog/read.php?save_60"><img src="toolbar_save.gif" tppabs="http://i.renjihe.com/blog/template/default/images/toolbar_save.gif" alt='' title="保存本文为文本文档" border='0'/></a></span>
		</div>
	</div>
	<div id="tb60" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content" id="zoomtext">
	 	<strong><span style="font-size: medium">0、本文约定；<br /></span></strong><p>虚拟平台是指能支持运行Xen的真实安装的操作系统；<br />虚拟操作系统：是指在虚拟平台上安装和虚拟运行的操作系统；</p><p>比如我在Slackware 中安装了Xen，那Slackware就是虚拟平台，通过虚拟平台就可以虚拟其它操作系统了；比如通过Slackware来虚拟Debian、Fedora ... ... </p><p><span style="font-size: medium"><strong><br />1、什么是Xen;<br /></strong></span></p><p>Xen 是一个开放源代码的para-virtualizing虚拟机（VMM），或&ldquo;管理程序 &rdquo;，是为x86架构的机器而设计的。Xen 可以在一套物理硬件上安全的执行多个虚拟机；Xen是基于内核的虚拟程序，它和操作平台结合的极为密切，所以它占用的资源最少。</p><p>什么是虚拟机呢？可能大家知道VMWARE吧，是的，Xen就是类似这样的程序，比如我们可以在Fedora 上虚拟安装和使用Slackware、Debian、Gentoo ... ... 等发行版。因为Xen是基于内核的，相对VMWARE 来说，它占用的系统资源也就是VMWARE的百分之几左右。Xen是不是更有优势呢？只有您实践了才知道。这也是我写本文的最主要原因；</p><p><span style="font-size: small"><strong><br />1.1 Xen的特性;<br /></strong></span></p><p>虚拟机的性能更接近真实硬件环境）<br />在真实物理环境的平台和虚拟平台间自由切换）<br />在每个客户虚拟机支持到 32个虚拟CPU，通过 VCPU热插拔）<br />支持PAE指令集的x86/32, x86/64平台<br />通过Intel 虚拟支持VT的支持来用虚拟原始操作系统（未经修改的）支持（包括Microsoft Windows）<br />优秀的硬件支持.支持几乎所有的Linux设备驱动</p><p><span style="font-size: small"><strong><br />1.2 Xen的应用范围;<br /></strong></span></p><p><strong>服务器整合：</strong>在虚拟机范围内，在一台物理主机上安装多个服务器, 用于演示及故障隔绝；<br /><strong>无硬件依赖：</strong>允许应用程序和操作系统对新硬件的移值测试；<br /><strong>多操作系统配置：</strong>以开发和测试为目的，同时运行多个操作系统；<br /><strong>内核开发：</strong>在虚拟机的沙盒中，做内核的测试和调试，无需为了测试而单独架设一台独立的机器；<br /><strong>集群运算：</strong>和单独的管理每个物理主机相比较,在VM级管理更加灵活,在负载均衡方面,更易于控制,和隔离;<br /><strong>为客户操作系统提供硬件技术支持：</strong>可以开发新的操作系统, 以得益于现存操作系统的广泛硬件支持,比如Linux；</p><p><span style="font-size: small"><strong><br />1.3 Xen的操作系统支持和硬件支持;<br /></strong></span></p><p><strong>请参阅：</strong> <a href="javascript:if(confirm('http://www.linuxsir.org/main/doc/read.php?6890  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/doc/read.php?6890'" tppabs="http://www.linuxsir.org/main/doc/Xen3man">《Xen v3.0 用户手册》</a></p><p><span style="font-size: medium"><strong><br />2、Xen的一点理论基础;<br /></strong></span></p><p>基于Xen的操作系统，有多个层，最底层和最高特权层是 Xen程序本身。Xen 可以管理多个客户操作系统，每个操作系统都能在一个安全的虚拟机中实现。在Xen的术语中，Domain由Xen控制，以高效的利用CPU的物理资源。每个客户操作系统可以管理它自身的应用。这种管理包括每个程序在规定时间内的响应到执行，是通过Xen调度到虚拟机中实现。</p><p>当Xen启动运行后，第一个虚拟的操作系统，就是Xen本身，我们通过xm list，会发现有一个Domain 0的虚拟机。Domain 0 是其它虚拟主机的管理者和控制者，Domain 0 可以构建其它的更多的Domain ，并管理虚拟设备。它还能执行管理任务，比如虚拟机的体眠、唤醒和迁移其它虚拟机。</p><p>一个被称为xend的服务器进程通过domain 0来管理系统，Xend 负责管理众多的虚拟主机，并且提供进入这些系统的控制台。命令经一个命令行的工具通过一个HTTP的接口被传送到xend。</p><p><span style="font-size: medium"><strong><br />3、Xen的安装；<br /></strong></span></p><p>在写本文时，Xen的当前最新版本是xen-3.0.1，它基于的内核版本是2.6.12.6的。您可以根据自己的操作系统的情况来选择一种安装方式，适合您的就是最好的；</p><p><span style="font-size: small"><strong><br />3.1 安装Xen的准备工作；<br /></strong></span></p><p>拥有 GRUB引导的Linux做为安装平台，还要编译工具，比如gcc、binutils 及make和automake等；开发库有zlib和python-dev等；</p><p><strong>具体明细请参阅：</strong> <a href="javascript:if(confirm('http://www.linuxsir.org/main/doc/Xen3man/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/doc/Xen3man/'" tppabs="http://www.linuxsir.org/main/doc/Xen3man/" target="_blank">《Xen v3.0 用户手册》</a></p><p>由于Xen用Python 开发的，所以Python 当然也是必不可少的。如果您是新手，我建议您用自己所用的操作系统软件包管理工具来安装这些软件包。</p><p><span style="font-size: small"><strong><br />3.2 在Redhat/Fedora 操作平台上的安装；<br /></strong></span></p><p>在Fedora/Redhat平台上安装比较简单，您可以通过yum 来在线安装Xen和支持Xen的内核；因为Fedora/Redhat已经提供对Xen的支持了；Fedora/Redhat 提供的Xen内核支持比较高；不过就目前我的测试来看好象经常会机器重启，存在的问题可能是桌面环境造成的，比如GNOME桌面，打开就有重启的现象，也可能是Fedora/Redhat提供的Xen内有BUG；</p><p><strong>安装Xen及支持Xen的请参考：</strong><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6889  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6889'" tppabs="http://www.linuxsir.org/main/?q=node/183">《Fedora Core 5.0 用 Xen 虚拟Slackware 10.2》</a></p><p>对于Fedora 4.0及Redhat和Fedora 5.0类似；现在Yum的源上都有Xen和支持Xen的内核包；</p><p><span style="font-size: small"><strong><br />3.3 通过Xen的二进制包来安装（几乎适用所有的Linux发行版）；<br /></strong></span></p><p>通过Xen的二进制软件包来安装，这应该是通用的，几乎适合所有的Linux操作系统。由于二进制所是已经编译好的，我已经在Slackware 平台上用这种方法来安装，还是成功的。另外etony兄也在Debian上安装成功;</p><p>您应该到 <a href="javascript:if(confirm('http://www.xensource.com/read.php?6887  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.xensource.com/read.php?6887'" tppabs="http://www.xensource.com/downloads" target="_blank">http://www.xensource.com/downloads</a> 去下载二进制包，文件名中带有xen-3.0.1-install字样的，比如 xen-3.0.1-install-x86_32.tgz，这个软件包表示适用x86_32位机器的。也就是我们用的普通32位PC机。如果您用的是64位机器，应该下载文件名带有x86_64字样的软件包；</p><p>下载好后，就解压安装，我们还是以支持x86_32构架机器的xen-3.0.1-install-x86_32.tgz为例：</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# tar zxvf xen-3.0.1-install-x86_32.tgz<br />[root@localhost ~]# cd xen-3.0.1-install<br />[root@localhost xen-3.0.1-install]# sh install.sh</span></div><p></p><p>判断是不是安装好了，请查看/boot目录，会发现有很多文件名带有xen字样的文件，另外在/lib/moudules中也会发现有支持xen的内核模块；另外再看一看是否有/etc/xen这个目录。我想应该是有的。</p><p><span style="font-size: small"><strong><br />3.4 通过Xen的源码包编译安装（仅供参考）；<br /></strong></span></p><p>通过Xen的二进制包来安装，可能有时内核不太适应我们的需要，这时我们要通过Xen的源码包来安装。通过自己编译来安装Xen及支持Xen的内核；Xen的源码包，您可以到 <a href="javascript:if(confirm('http://www.xensource.com/read.php?6887  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.xensource.com/read.php?6887'" tppabs="http://www.xensource.com/downloads" target="_blank">http://www.xensource.com/downloads</a>去下载。文件名带有 xen-3.0.1-src字样的，比如 xen-3.0.1-src.tgz。 </p><p><span style="font-size: x-small"><strong><br />3.41 编译原理;<br /></strong></span></p><p>通过Xen的源码包编译，其实也没有什么神秘的。在Xen的源码包中提供了一些内核补丁和内核配置文件等。当我们执行编译命令时，首先编译的是Xen程序本身，然后是编译内核 。在编译内核时，程序会自动判断是否有内核源码 ，xen-3.0.1支持的内核是2.6.12.6，如果在xen的解压目录下没有，他就会自动内核的官方站 http://www.kernel.org 下载 linux-2.6.12.tar.bz2。然后就是自动解压并为此内核打补丁。然后系统会根据指令要求，然后采用相应的内核配置文件，或配置内核进行编译。</p><p><span style="font-size: x-small"><strong><br />3.42 编译过程简说；<br /></strong></span></p><p><strong>第一步：解压软件包，查看Xen源码包所带的文件；</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# tar zxvf xen-3.0.1-src.tgz<br />[root@localhost ~]# cd xen-3.0.1<br />[root@localhost xen-3.0.1]# ls <br /><br />COPYING&nbsp;&nbsp;&nbsp; Config.mk&nbsp; README&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; docs&nbsp;&nbsp;&nbsp; install.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; patches&nbsp; xen<br />ChangeLog&nbsp; Makefile&nbsp;&nbsp; buildconfigs&nbsp; extras&nbsp; linux-2.6-xen-sparse&nbsp; tools</span></div><p></p><p>我们解压xen-3.0.1-src.tgz 后，进入解压目录，会看到以上的文件或文件夹。patches是内核的补丁包，linux-2.6-xen-sparse是支持Xen的内核目录树，值得注意的是内核的配置文件就在这个目录中；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost xen-3.0.1]# ls linux-2.6-xen-sparse/arch/xen/configs/<br />xen0_defconfig_ia64&nbsp;&nbsp;&nbsp; xen0_defconfig_x86_64&nbsp; xenU_defconfig_x86_32&nbsp; xen_defconfig_x86_32<br />xen0_defconfig_x86_32&nbsp; xenU_defconfig_ia64&nbsp;&nbsp;&nbsp; xenU_defconfig_x86_64&nbsp; xen_defconfig_x86_64</span></div><p></p><p>看到上面所列出的内核配置文件了吧，我们可能会发现文件名带有xen0字样的和xenU字样的两类文件。在这两类内核中，我们大多会修改的内核配置文件是运行xen的操作系统的内核配置文件，另一个是用于虚拟操作系统的内核配置文件；</p><p>xen0字样的就是我们一般是用于我们运行xen的操作系统的内核 ，而xenU字样的就是为虚拟操作系统所提供的内核。另外还有x86_32和x86_64之分，这表示CPU的架构。</p><p>比如我们用的是x86架构32位的CPU，我们在编译内核的时候就要用到 xen0_defconfig_x86_32 和xenU_defconfig_x86_32 配置文件。</p><p><strong>举个例子：</strong>比如我的机器架构是x86_32位的，我安装xen的操作系统是Slackware，我想在Slackware 虚拟Debian 、Gentoo、Fedora等操作系统。这时编译虚拟平台Slackware所用的内核的配置文件就是 xen0_defconfig_x86_32 ，而被虚拟平台（Debian 、Gentoo、Fedora等操作系统）所用的内核就是 xenU_defconfig_x86_32 。</p><p>弄明白内核配置文件有何用？我们能明白xen在编译过程中用了哪些内核配置文件，目的是我们在编译过程中可以根据自己的需要来修改它，以编译出适合我们需要的内核。</p><p>比如我们想让Slackware 支持xen，并且还要支持NTFS文件系统；所以我们就要修改 xen0_defconfig_x86_32这个文件。找出如下一行;</p><p></p><div class="codeblock"><span style="font-family: Courier New"># CONFIG_NTFS_FS is not set</span></div><p></p><p>改为</p><p></p><div class="codeblock"><span style="font-family: Courier New">CONFIG_NTFS_FS=m</span></div><p></p><p>如果您想让被虚拟的操作系统（Debian 、Gentoo、Fedora等）也支持NTFS文件系统，所以要在 xenU_defconfig_x86_32找出如下一行;</p><p></p><div class="codeblock"><span style="font-family: Courier New"># CONFIG_NTFS_FS is not set</span></div><p></p><p>改为</p><p></p><div class="codeblock"><span style="font-family: Courier New">CONFIG_NTFS_FS=m</span></div><p></p><p><strong>第二步：配置内核；</strong></p><p>这一步有两种方法，一个是直接修改内核配置文件，另一个是内核配置界面来配置；</p><p><strong>方法一：通过修改内核配置文件；</strong></p><p>Xen所带的内核配置文件位于解压目录中的linux-2.6-xen-sparse/arch/xen/configs 。我们前面已经提到了相关配置文件的用途。请仔细看前一步的说明；</p><p><strong>方法二：通过内核配置界面来配置；</strong></p><p>[root@localhost xen-3.0.1]# make linux-2.6-xen0-config CONFIGMODE=menuconfig</p><p><strong>第三步：编译和安装Xen；</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost xen-3.0.1]# make<br />[root@localhost xen-3.0.1]# make install </span></div><p></p><p><span style="font-size: x-small"><strong><br />3.43 创建initrd文件；<br /></strong></span></p><p>有的系统需要initrd-XXXX.img或initrd.gz文件才能引导起来，如果您的系统用了支持xen的支持引导不起来，就要创建一个initrd-XXXX.img或initrd.gz的文件；<strong>请参考：</strong> <a href="javascript:if(confirm('http://www.linuxsir.org/main/doc/Xen3man/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/doc/Xen3man/'" tppabs="http://www.linuxsir.org/main/doc/Xen3man/" target="_blank">《Xen v3.0 用户手册》</a></p><p><span style="font-size: x-small"><strong><br />3.44 关于xen0和xenU内核说明；<br /></strong></span></p><p>一般的情况下会在/boot目录中有两个与xen相关的内核，有的文件名带有vmlinuz-XXXX-xen0字样的，有的带有vmlinuz-XXXX-xenU字样的；比如：</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost xen-3.0.1]# ls -la&nbsp; /boot/vmlinuz*xen*<br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 21 2006-04-12 07:42 /boot/vmlinuz-2.6-xen0 -&gt; vmlinuz-2.6.12.6-xen0<br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 21 2006-04-12 07:49 /boot/vmlinuz-2.6-xenU -&gt; vmlinuz-2.6.12.6-xenU<br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 21 2006-04-12 07:42 /boot/vmlinuz-2.6.12-xen0 -&gt; vmlinuz-2.6.12.6-xen0<br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 21 2006-04-12 07:49 /boot/vmlinuz-2.6.12-xenU -&gt; vmlinuz-2.6.12.6-xenU<br />-rw-r--r--&nbsp; 1 root root 2180524 2006-04-12 07:42 /boot/vmlinuz-2.6.12.6-xen0<br />-rw-r--r--&nbsp; 1 root root 1129950 2006-04-12 07:49 /boot/vmlinuz-2.6.12.6-xenU</span></div><p></p><p>其实就是两个与xen相关的内核，其它的都是这两个内核文件的链接；也就是vmlinuz-2.6.12.6-xen0和vmlinuz-2.6.12.6-xenU。vmlinuz-2.6.12.6-xen0是用来引导虚拟平台的，比如我们在Slackware上安装Xen，那Slackware就是虚拟平台；所以如果要让Slackware的xen能运行起来，必须用xen相关的内核 ，也就是vmlinuz-2.6.12.6-xen0这个内核。 而XenU字样这个内核，是用来引导虚拟操作系统用的，我们在以后会提到它。</p><p><span style="font-size: medium"><strong><br />4、引导XenLinux的GRUB配置;<br /></strong></span></p><p>一旦我们在Linux操作系统安装好Xen后，这样的系统应该被称为XenLinux。如何才能引导拥有Xen的Linux呢？这时我们要用到GRUB系统引导管理器。我们修改一下GRUB的配置文件menu.lst或grub.conf就行了。此文件位于/boot/grub目录中；</p><p><span style="font-size: small"><strong><br />4.1 判断系统所在的分区；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# df -h<br />Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 容量&nbsp; 已用 可用 已用% 挂载点<br />/dev/hda6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12G&nbsp; 6.9G&nbsp; 4.9G&nbsp; 59% /</span></div><p></p><p><span style="font-size: small"><strong><br />4.2 查看/boot目录中xen相关的配置文件；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# ls /boot</span></div><p></p><p><strong>注意：</strong>我们前面已经说过了，xen提供了两个内核，一个是虚拟平台用的，也就是文件名带有xen0字样的；另一个带有xenU字样的，这是用于引导和支持虚拟操作系统用的。</p><p>什么虚拟平台，比如我们想用Slackware 的Xen虚拟Fedora、Gentoo .... 。那么Slackware就是虚拟平台，而Fedora、Gentoo... .. 是被虚拟的操作系统。Slackware是一个真实安装在您的机器上的操作系统，它提供的是一个运行xen的环境。为了让Slackware能支持xen ，所以必须用于支持Xen的内核，也就是在/boot中有xen0字样的文件。</p><p>如果您安装了Xen，会在/boot中有两个文件vmlinuz-2.6.12.6-xen0和vmlinuz-2.6.12.6-xenU，</p><p><span style="font-size: small"><strong><br />4.3 禁掉 TLS Libraries ；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]#mv&nbsp; /lib/tls /lib/tls.disabled </span></div><p></p><p><strong>禁掉的理由，请查看：</strong> <a href="javascript:if(confirm('http://www.linuxsir.org/main/doc/Xen3man/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/doc/Xen3man/'" tppabs="http://www.linuxsir.org/main/doc/Xen3man/" target="_blank">《Xen v3.0 用户手册》</a></p><p><span style="font-size: small"><strong><br />4.4 引导XenLinux的GRUB内容；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">title SlackXen<br />kernel /boot/xen-3.0.gz<br />module /boot/vmlinuz-2.6-xen0 root=/dev/hda6&nbsp; ro console=tty0</span></div><p></p><p>如果有inintrd-2.xxxx-xen.img或initrd.gz之类的文件才能引导起来系统，还要加一行；要以/boot中的initrd相关的文件为准;</p><p></p><div class="codeblock"><span style="font-family: Courier New">modules /boot/initrd.gz </span></div><p></p><p><strong>有关GRUB的文档：</strong><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6886  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6886'" tppabs="http://www.linuxsir.org/main/?q=node/129">《系统引导管理器GRUB，为初学者指南》</a></p><p><span style="color: red"><strong>注意：</strong></span>与传统GRUB的定义有点不同，就是kernel 是用来定义Xen的，而Linux的内核及initrd映像是通过module 指令定义的；要仔细看好； </p><p><span style="font-size: medium"><strong><br />5、Xen的配置和管理工具；<br /></strong></span></p><p><span style="font-size: small"><strong><br />5.1 Xen的相关文件存放位置；<br /></strong></span></p><p>xen安装后，文件放在什么地方了呢？主要放在以下几个目录；</p><p><span style="font-size: x-small"><strong><br />5.11 内核及xen自身存放于 /boot<br /></strong></span></p><p>安装有xen的操作系统下的/boot目录中，存放xen本身及支持xen的内核文件。比如文件名带有xen0和xenU相关的文件； </p><p><span style="font-size: x-small"><strong><br />5.12 内核模块存放于 /lib/modules<br /></strong></span></p><p>内核模块包括虚拟平台支持xen的内核xen0的模块，及支持虚拟操作系统所用的xenU的模块，一般的情况下是在 /lib/modules下有两个xen相关的目录存放。一个是文件夹名带有xen0字样的，另一个是xenU字样的；</p><p><span style="font-size: x-small"><strong><br />5.13 xen的配置文件及守护程序的存放位置；<br /></strong></span></p><p>一般的情况下，Xen的配置文件存放于/etc/xen目录。 比如 xend-config.sxp是用于配置网络的，不过我们不必更改，用其默认的就能完成我们的需要。xmexample1 xmexample2是两个示例性的配置文件。我们在配置引导被虚拟的操作系统时，这两个文件可供参考；</p><p>Xen的服务器xend和xendomains启动脚本，一般是位于/etc/init.d/目录中，也就是/etc/init.d/xend ；/etc/init.d/xend负责启动xend服务器，而/etc/init.d/xendomains负责第一个虚拟的系统及其它的Domains，也就是Domain 0 。</p><p><span style="font-size: x-small"><strong><br />5.14 可执行命令存放于/usr/sbin<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]#ls /usr/sbin/xen*<br />/usr/sbin/xen-bugtool&nbsp; /usr/sbin/xenconsoled&nbsp; /usr/sbin/xenmon.py&nbsp; /usr/sbin/xenstored<br />/usr/sbin/xenbaked&nbsp;&nbsp;&nbsp;&nbsp; /usr/sbin/xend&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/sbin/xenperf&nbsp;&nbsp;&nbsp; /usr/sbin/xentop<br /><br />[root@localhost ~]#ls /usr/sbin/xm</span></div><p></p><p><span style="font-size: small"><strong><br />5.2 Xen服务器的启动；<br /></strong></span></p><p>xend服务器的启动/停止/重启/状态查询，请用下面的命令；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /etc/init.d/xend start&nbsp;&nbsp; 启动xend，如果 xend没有运行）<br />[root@localhost ~]# /etc/init.d/xend stop 停止xend，如果xend正在运行）<br />[root@localhost ~]# /etc/init.d/xend restart&nbsp; 重启正在运行的 xend，如果xend没有运行，则启动 <br />[root@localhost ~]# /etc/init.d/xend status&nbsp;&nbsp; 查看xend状态 </span></div><p></p><p>启动xendomains 服务器的启动/停止/重启/状态查询，请用下面的命令；一般的情况下，xend服务器启动了，xendomains也会自动启动。所以这个只是掌握一下就行了；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /etc/init.d/xend start&nbsp;&nbsp; 启动xend，如果 xend没有运行）<br />[root@localhost ~]# /etc/init.d/xend stop 停止xend，如果xend正在运行）<br />[root@localhost ~]# /etc/init.d/xend restart&nbsp; 重启正在运行的 xend，如果xend没有运行，则启动 <br />[root@localhost ~]# /etc/init.d/xend status&nbsp;&nbsp; 查看xend状态 </span></div><p></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /etc/init.d/xendomains start<br />[root@localhost ~]# /etc/init.d/xendomains stop<br />[root@localhost ~]# /etc/init.d/xendomains restart<br />[root@localhost ~]# /etc/init.d/xendomains status</span></div><p></p><p><span style="font-size: small"><strong><br />5.3 Xen 管理工具xm；<br /></strong></span></p><p>我们前面提到Xen的可执行命令中，我们可能看到了一些以xen开头的命令，您不妨尝试一个一个的尝试一下他们是做什么用的；比如xend是服务器的开启运行命令 ... .... </p><p>其中xm命令，就是管理Xen的最基本的工具；您可以通过xm --help 来获得帮助；<br /><span style="font-size: x-small"><strong><br />5.31 列出所有正在运行的虚拟操作系统；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list <br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 450&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp; 5377.0<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 -b----&nbsp;&nbsp;&nbsp;&nbsp; 0.1</span></div><p></p><p>列出所有正在运行的虚拟系统（也可以称为虚拟机）；我们可以看到，一个名为Domain-0的系统正在运行。Domain-0就是Xen本身，也可以称为虚拟平台内存大小，而Domain-0负责提供其它虚拟操作系统的硬件环境，其它的系统都是基于Domain-0开始的，我们看到他的ID为0就应该知道它的权限是至高无尚的。所占用的内存是450M，不过这个是可以指定的。 虚拟的CPU个数是1个，运行状态处于r，也就是run，正在运行中；运行时间是5377秒；</p><p>还有一个虚拟系统fc5，他的id是4，占用内存256M，虚拟CPU个数是1个 ... ... </p><p><span style="font-size: x-small"><strong><br />5.32 通过配置文件来引导被虚拟的操作系统；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; create -c 虚拟操作系统的启动配置文件</span></div><p></p><p>比如我们要启动被虚拟的操作系统Fedora Core 5.0 ，我们要写一个启动Fedora的配置文件，比如是fc5vm.cfg。然后就可以通过下面的命令来引导Fedora了；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp;&nbsp; create&nbsp;&nbsp; -c&nbsp;&nbsp; fc5vm.cfg </span></div><p></p><p><span style="font-size: x-small"><strong><br />5.33 从终端或控制台登录正在运行的虚拟操作系统；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; console&nbsp;&nbsp; 正在运行的虚拟操作系统的Name或ID；</span></div><p></p><p><strong>举例：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list<br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 512&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp; 5561.9<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 -b----&nbsp;&nbsp;&nbsp;&nbsp; 0.2<br /><br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; console&nbsp;&nbsp; fc5</span></div><p></p><p><span style="font-size: x-small"><strong><br />5.34 存储正在运行的虚拟操作系统的状态及唤醒虚拟操作系统；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; save &lt;DomId&gt; &lt;File&gt;&nbsp;&nbsp;&nbsp; <br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; restore &lt;File&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><p></p><p><strong>举例：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list<br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID&nbsp; Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 458&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp;&nbsp; 260.3<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 ------&nbsp;&nbsp;&nbsp;&nbsp; 6.5<br /><br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp;&nbsp; save&nbsp; 2&nbsp; fc5run.save<br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; restore&nbsp; fc5run.save <br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp;&nbsp; console&nbsp; fc5</span></div><p></p><p><span style="font-size: x-small"><strong><br />5.35 停止正在运行的虚拟操作系统/激活停止的虚拟操作系统<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; pause&nbsp; &lt;DomId&gt;<br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; unpause&nbsp; &lt;DomId&gt;&nbsp;&nbsp; </span></div><p></p><p><strong>举例：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list<br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID&nbsp; Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 458&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp;&nbsp; 260.3<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 ------&nbsp;&nbsp;&nbsp;&nbsp; 6.5<br /><br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; pause 2 <br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; unpause 2 </span></div><p></p><p><span style="font-size: x-small"><strong><br />5.36 调整虚拟平台/虚拟操作系统的占用内存<br /></strong></span></p><p>我们可以调整正在运行中的虚拟平台(Domain-0)所占内存大小及虚拟操作系统所占用的内存大小；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm mem-set&nbsp;&nbsp; &lt;DomId&gt;&nbsp;&nbsp; &lt;Mem&gt;</span></div><p></p><p><strong>举例：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list<br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID&nbsp; Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 458&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp;&nbsp; 260.3<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 ------&nbsp;&nbsp;&nbsp;&nbsp; 6.5<br /><br />[root@localhost ~]# /usr/sbin/xm mem-set&nbsp; 2&nbsp; 128 </span></div><p></p><p><span style="font-size: x-small"><strong><br />5.37 关闭被虚拟的系统<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; shutdown&nbsp; 虚拟操作系统的Name或DomID<br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; destroy&nbsp; &lt;DomId&gt;&nbsp; 立即停止虚拟的系统 （重要）;</span></div><p></p><p><strong>举例：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list<br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID&nbsp; Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 458&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp;&nbsp; 260.3<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 ------&nbsp;&nbsp;&nbsp;&nbsp; 6.5<br /><br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; shutdown&nbsp; fc5 <br />或 <br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; shutdown&nbsp; 2 <br />或<br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; destroy&nbsp; 2</span></div><p></p><p><span style="font-size: x-small"><strong><br />5.38 调整虚拟平台及虚拟操作系统的虚拟CPU个数；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; vcpu-set&nbsp;&nbsp; &lt;DomId&gt; &lt;VCPUs&gt;&nbsp;&nbsp; </span></div><p></p><p><strong>举例：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp; list<br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID&nbsp; Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 458&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp;&nbsp; 260.3<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 256&nbsp;&nbsp;&nbsp;&nbsp; 1 ------&nbsp;&nbsp;&nbsp;&nbsp; 6.5<br /><br />[root@localhost ~]# /usr/sbin/xm&nbsp;&nbsp;&nbsp; vcpu-set 2 4 </span></div><p></p><p><span style="font-size: x-small"><strong><br />5.39 查看虚拟系统运行的状态；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# xm&nbsp;&nbsp; top<br />或<br />[root@localhost ~]# xentop</span></div><p></p><p><span style="font-size: medium"><strong><br />6、虚拟操作系统的文件存储系统；<br /></strong></span></p><p>我们虚拟的系统应该有一个存储的地方，也就是文件系统。被虚拟的系统能安装和运行在哪些文件系统上呢？能安装和运行在一个实际的物理分区上，一个映像文件中，或NFS等网络文件系统中；</p><p><span style="font-size: small"><strong><br />6.1 以实际物理硬盘做为虚拟操作系统文件系统；<br /></strong></span></p><p>以实际物理硬盘分区做为虚拟操作系统的文件系统，要经过硬盘分区，创建文件系统流程；</p><p><strong>请参考：</strong><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6885  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6885'" tppabs="http://www.linuxsir.org/main/?q=node/83">《Linux 创建文件系统及挂载文件系统流程详解》</a></p><p><span style="font-size: x-small"><strong><br />6.11 准备物理分区及创建文件系统；<br /></strong></span></p><p><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6884  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6884'" tppabs="http://www.linuxsir.org/main/?q=node/41">《Linux 查看磁盘分区、文件系统、使用情况的命令和相关工具介绍》</a><br /><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6883  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6883'" tppabs="http://www.linuxsir.org/main/?q=node/81">《实例解说 fdisk 使用方法》</a><br /><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6882  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6882'" tppabs="http://www.linuxsir.org/main/?q=node/80">《合理规划您的硬盘分区》</a><br /><a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6885  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6885'" tppabs="http://www.linuxsir.org/main/?q=node/83">《Linux 创建文件系统及挂载文件系统流程详解》</a></p><p><span style="font-size: small"><strong><br />6.12 在物理分区上构建操作系统；<br /></strong></span></p><p>构建操作系统，目前在一个Linux操作系统中构建另一个操作系统，主要是通过chroot工具和软件包提取工具来构建。基础的东西还是需要一点的，请参考：<a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6881  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6881'" tppabs="http://www.linuxsir.org/main/?q=node/182">《通过chroot 构建Linux操作系统概要》</a> </p><p>目前在开源社区中，已经有人把一些常用的发行版的基础系统做好了。我们能拿过来直接用。呵。。。。。只要有基础系统，我们就能chroot进入，我们就能用相应发行版软件包管理器来构建操作系统了。 </p><p><strong>操作系统之基础系统资源：</strong></p><p><a href="javascript:if(confirm('http://jailtime.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://jailtime.org/'" tppabs="http://jailtime.org/">http://jailtime.org</a></p><p>您可以直接下载您喜欢的操作系统，解压后，然后挂载映像文件，然后把映像文件的内容都拷到物理分区中就好了。不过还得做一点小小的修改，比如您下载系统映像文件中的/etc/fstab等文件。要根据您的引导的虚拟操作系统中定义的虚拟映射点来改。</p><p><span style="font-size: x-small"><strong><br />6.13 虚拟操作系统的引导文件中关于文件系统的定义；<br /></strong></span></p><p>如果您的硬盘有一定的空间，就可以把被虚拟的操作系统安装在硬盘的实际物理分区中，当然您首先得准备一个硬盘分区。然后格式化成Linux的文件系统，比如ext3或reiserfs 等；然后是在这个分区上构建您想要虚拟的操作系统，最后才是写虚拟操作系统的引导配置文件，在配置文件中，要用phy:来指定。</p><p>比如：<br /></p><div class="codeblock"><span style="font-family: Courier New">disk = ['phy:hda7,sda1,w'] <br /><br />中文意思就是：<br /><br />disk=['phy:分区,映射点,w']</span></div><p></p><p>这行是什么意思呢？就是表示被虚拟的操作系统安装在/dev/hda3，我们要把hda3硬盘分区虚拟映射到/dev/sda1，并且是可读可写的；在这里要值得注意的是虚拟平台正在使用中的分区不能做为是映射点。</p><p>比如我在Slackware是位于/dev/hda6的虚拟平台，也就是真实运行的操作系统，我想用它来虚拟位于/dev/hda7分区的Fedora。所以我不能把/dev/hda6做为hda7的映射点。也就是下面一行是错误的：</p><p></p><div class="codeblock"><span style="font-family: Courier New">disk = ['phy:hda7,hda6,w'] </span></div><p></p><p>如何定义映射点，其实也比较好办，只要符合Linux设备的规则就可以；比如下面的也可以；</p><p></p><div class="codeblock"><span style="font-family: Courier New">disk = ['phy:hda7,sda2,w']<br />disk = ['phy:hda7,sda3,w']&nbsp; <br />disk = ['phy:hda7,sdb1,w'] <br />disk = ['phy:hda7,sdb2,w'] <br />... ... </span></div><p></p><p>什么是映射点呢？也就是说通过phy定义后，被虚拟的操作系统的位于的真实的物理分区，在虚拟平台中，被映射到另一个分区；可能这样说有点不太明白。呵。。。。。。</p><p>举个例子吧：比如我们在Slackware虚拟Fedora ，而Fedora 位于/dev/hda7中。我们在引导Fedora的配置文件中定义Fedora所用的物理分区被映射到/dev/sda1；</p><p></p><div class="codeblock"><span style="font-family: Courier New">disk = ['phy:hda7,sda1,w'] <br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p>当我们把Fedora引导起来的时候，Fedora的文件系统就是用被虚拟后的分区，也就是/dev/sda1。在Fedora中，我们通过df -h 查看到Fedora是位于/dev/sda1。</p><p>所以在引导Fedora的配置文件中，还要有一行来指定Fedora的root在哪里，就在/dev/sda1上；因为/dev/hda7已经被虚拟到了/dev/sda1。这回明白了吧；</p><p><span style="font-size: small"><strong><br />6.2 以映像文件做虚拟操作系统的文件系统；<br /></strong></span></p><p>以映像文件做为虚拟操作系统的文件系统，这种方法是比较常用。也是比较方便和易于操作的，也就是说被虚拟的操作系统是放在了一个文件中。</p><p><span style="font-size: small"><strong><br />6.21 创建映像文件；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# dd if=/dev/zero of=fedora50.img&nbsp; bs=2k&nbsp; seek=2048k count=1<br />读入了 1+0 个块<br />输出了 1+0 个块<br /><br />[root@localhost ~]# ls -lh fedora50.img<br /><br />-rw-r--r--&nbsp; 1 root root 4.1G 2006-04-13 01:27 fedora50.img</span></div><p></p><p>我们可以用dd来创建映像文件，上面的例子是创建了大小为4.1G的体积的，名为fedora50.img的映像文件；您可以调整上面命令参数的大小来创建您想要的体积大小的映像文件。</p><p><span style="font-size: small"><strong><br />6.22 格式化映像为Linux文件系统；<br /></strong></span></p><p>Linux文件系统，比如ext3或reiserfs，看自己喜欢吧；您可以用mkfs.ext3或mkfs.reiserfs命令来创建文件系统，请参考：</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /sbin/mkfs.ext3 fedora50,img<br />mke2fs 1.38 (30-Jun-2005)<br />fedora50,img is not a block special device.<br />Proceed anyway? (y,n) y 注：在这里输入y就时行格式化了，然后遇到提示之处，都是用回车。</span></div><p></p><p>这样fedora50.img就是ext3文件系统了，你可以用mount -o loop 来挂载使用它，在它上面存储文件等。</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mkdir /mnt/fedora50<br />[root@localhost ~]# mount -o loop fedora50.img /mnt/fedora50<br />[root@localhost ~]# df -h<br />root@localhost:/opt# df -lh<br /><br />Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 容量&nbsp; 已用 可用 已用% 挂载点<br />/dev/hda6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12G&nbsp; 8.5G&nbsp; 3.3G&nbsp; 73% /<br />/root/fedora50,img&nbsp;&nbsp;&nbsp;&nbsp; 4.0G&nbsp; 129M&nbsp; 3.7G&nbsp;&nbsp; 4% /mnt/fedora</span></div><p></p><p>上面的一系列命令执行下去后，说明fedora50.img已经挂载到了/mnt/fedora目录中，我们可以向/mnt/fedora中存放文件。这样就写到了fedora50.img映像文件中。写完后，我们可以卸载fedora50.img；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# umount&nbsp; /mnt/fedora</span></div><p></p><p><span style="font-size: small"><strong><br />6.23 在映像文件上构建操作系统；<br /></strong></span></p><p>在映像文件上构建操作系统，目前在一个Linux操作系统中构建另一个操作系统，主要是通过chroot工具和软件包提取工具来构建。基础的东西还是需要一点的，请参考：</p><p>目前在开源社区中，已经有人把一些常用的发行版的基础系统做好了。我们能拿过来直接用。呵。。。。。只要有基础系统，我们就能chroot进入，我们就能用相应发行版软件包管理器来构建操作系统了。 </p><p><strong>操作系统之基础系统资源：</strong></p><p><a href="javascript:if(confirm('http://jailtime.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://jailtime.org/'" tppabs="http://jailtime.org/">http://jailtime.org</a></p><p><span style="font-size: small"><strong><br />6.24 虚拟操作系统的引导文件中关于文件系统的定义；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">disk = ['file:/opt/vmos/vmos.img,sda1,w', 'file:/opt/vmos/vmos.swap,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p>我们还是以实例解说，把装有vmos.img的映像映射到/dev/sda1 分区，vmos.img就是虚拟操作系统root存放地。vmos.swap是被虚拟文件系统的交换分区，这个交换分区也是一个文件，被映射到了/dev/sda2 。然后通过root= 行来指定虚拟操作系统所处的分区，这个位置就是被虚拟后的分区。</p><p>定义时要注意自己的这些文件存放在哪了？上面的例子表示vmos.img和vmos.swap是存放在/opt/vmos目录中。要看好了。。</p><p><span style="font-size: medium"><strong><br />7、实例应用：用Slackware+Xen虚拟Fedora 5.0<br /></strong></span></p><p><span style="font-size: small"><strong><br />7.1 Fedora 安装运行于一个物理分区中；<br /></strong></span></p><p><span style="font-size: x-small"><strong><br />7.11 下载Fedora 5.0的基础系统；<br /></strong></span></p><p><strong>请到：</strong> <a href="javascript:if(confirm('http://jailtime.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://jailtime.org/'" tppabs="http://jailtime.org/" target="_blank">http://jailtime.org</a></p><p><span style="font-size: x-small"><strong><br />7.12 解压和提取相应文件；<br /></strong></span></p><p>我们把下载下来的Fedora 5 基础系统，存放到/opt/fedora5vm目录中；然后解压; </p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mkdir /opt/fedora5vm<br />[root@localhost ~]# mv fedora.fc5.20060401.img.tgz&nbsp; /opt/fedora5vm<br />[root@localhost ~]# cd /opt/fedora5vm<br />[root@localhost fedora5vm]# tar zxvf fedora.fc5.20060401.img.tgz<br />[root@localhost fedora5vm]# ls <br /><br />fedora.fc5.20060401.img.tgz&nbsp; fedora.fc5.img&nbsp; fedora.fc5.xen.cfg&nbsp; fedora.swap</span></div><p></p><p><span style="font-size: x-small"><strong><br />7.13 规划硬盘的物理分区并创建文件系统；<br /></strong></span></p><p>您可以在您的硬盘上创建一个物理分区，如果有空闲的物理分区可用也行。然后创建一下文件系统。分区工具用fdisk 工具就行。</p><p>分区工具，请参考：<a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6883  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6883'" tppabs="http://www.linuxsir.org/main/?q=node/81">《实例解说 fdisk 使用方法》</a><br />创建文件系统，请参考：<a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6885  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6885'" tppabs="http://www.linuxsir.org/main/?q=node/83">《Linux 创建文件系统及挂载文件系统流程详解》</a></p><p>比如我们想把Fedora 放在/dev/hda5上，我们可以用mkfs.ext3来格式化/dev/hda5。</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /sbin/mkfs.ext3 /dev/hda5 </span></div><p></p><p><span style="font-size: x-small"><strong><br />7.14 构建Fedora 5 的基础系统；<br /></strong></span></p><p>因为我们已经下载了，Fedora Core 5的基础系统的映像文件，也做了解压。会看到 fedora.fc5.img这个映像文件； 我们把这个映像挂载，然后把它的内容复制到我们刚才创始的文件系统的分区中，也就是/dev/hda5；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mkdir /mnt/tmp<br />[root@localhost ~]# mkdir /mnt/fedora<br />[root@localhost ~]# mount -o loop /opt/fedora5vm/fedora.fc5.img /mnt/tmp<br />[root@localhost ~]# mount /dev/hda5 /mnt/fedora</span></div><p></p><p>复制fedora.fc5.img中的内容，到/dev/hda5中；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# cp -rp /mnt/tmp/*&nbsp; /mnt/fedora<br />[root@localhost ~]# umount /mnt/tmp</span></div><p></p><p>然后是chroot 到/mnt/fedora目录中，实际就是操作Fedora 5系统，我们要创建Fedora 5的root密码;</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# chroot&nbsp; /mnt/fedora/<br /><br />root@localhost:/#<br />root@localhost:/# passwd root<br />Changing password for user root.<br />New UNIX password:<br />Retype new UNIX password:<br />passwd: all authentication tokens updated successfully.<br /><br />root@localhost:/# exit</span></div><p></p><p>然后我们卸载/dev/hda5分区；</p><p>[root@localhost ~]# umount /dev/hda5 </p><p><span style="font-size: x-small"><strong><br />7.15 创建Fedora 5 引导文件；<br /></strong></span></p><p>我们在解压 fedora.fc5.20060401.img.tgz 时看到一个文件fedora.fc5.xen.cfg ，这个就是Fedora 5的引导文件，人家洋人都为我们写好了。我们只是改一改就能用了；</p><p>我们要回到fedora.fc5.xen.cfg的存放目录/opt/fedora5vm中；复制fedora.fc5.xen.cfg名为fc5vm.cfg的文件。然后我们把fc5vm.cfg作为被虚拟的Fedora 5的引导文件；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# cd /opt/fedora5vm<br />[root@localhost&nbsp; fedora5vm]# cp fedora.fc5.xen.cfg fc5vm.cfg</span></div><p></p><p>我们要对fc5vm.cfg做一下修改；</p><p>在fc5vm.cfg中，我们会看到如下的内容：</p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fedora.fc5&quot;<br />nics = 1<br />dhcp = &quot;dhcp&quot;<br />disk = ['file:/xen/fedora/fedora.fc5.img,sda1,w', 'file:/xen/fedora/fedora.swap,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p>首先我们看kernel 这行，这行是定义虚拟操作系统内核的，我们要用到我们安装xen是所安装的内核。要在虚拟平台/boot目录中找。比如我用Slackware虚拟 Fedora 。那虚拟平台就是Slackware。我应试在Slackware的/boot中找文件名中包含vmlinuz和xenU字样的文件。比如我找以的是：</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# ls&nbsp; -lh /boot/vmlinuz*xenU*<br /><br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp; 21 2006-04-12 07:49 /boot/vmlinuz-2.6-xenU -&gt; vmlinuz-2.6.12.6-xenU<br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp; 21 2006-04-12 07:49 /boot/vmlinuz-2.6.12-xenU -&gt; vmlinuz-2.6.12.6-xenU<br />-rw-r--r--&nbsp; 1 root root 1.1M 2006-04-12 07:49 /boot/vmlinuz-2.6.12.6-xenU</span></div><p></p><p>我们看到有类似的三个文件，实际上只有一个，也就是 vmlinuz-2.6.12.6-xenU，其它的都是他的链接文件。所以我们在kernel行中指定内核时，可以用这三个中的任何一个；比如我们用 vmlinuz-2.6-xenU；</p><p>memory是指定内存大小的，我们设置被虚拟的Fedora 5的虚拟内存大小是 128M；<br />name 是定义虚拟操作系统的名字的，可以通过xm list中显示出来，我们也改简单点，改为fc5<br />nics=1 不变<br />dhcp 这行，是用来指定获取Fedora 5系统的IP是通过DHCP获取的，不过您也可以指定IP。可以不要这行；</p><p>vif = ['mac=aa:00:00:00:00:11'] 用来指定Fedora 5的网卡的物理地址；可以自己定义。<br />ip = &quot;192.168.1.144&quot; 用来指定虚拟网卡的IP<br />netmask=&quot;255.255.255.0&quot; 用来指定掩码</p><p>disk这行是用来定义Fedora所处的物理分区映射点，及物理交换分区及映射点的；因为物理分区是通过phy:来指定的。所以我们得改一改。因为我们已经把Fedora放在了/dev/hda5了。另外交换分区在哪呢？可以通过swapon -s来查看物理交换分区，要在虚拟平台中查看；比如我得到的是/dev/hda8是交换分区。所以disk这行就应该这样写：</p><p>disk = ['phy:hda5,sda1,w','phy:hda8,sda2,w']</p><p>不过真实物理分区的映射点，比如/dev/hda5映射到了/dev/sda1，交换分区/dev/hda8映射到了/dev/sda2。映射过后，Fedora的root文件系统就用映射后的/dev/sda1。慢慢理解；物理分区的映射点是可以在Linux系统设备定义的许可范围内进行。自己尝试着换一换映射点。如果Fedora的root所处的物理分区的映射点改变后，Fedora的root=的值也得跟着改变。另外还要改Fedora系统中的/etc/fstab文件；</p><p>root一行，来指定Fedora的所有的虚拟物理分区（就是映射点）。映射到哪里了呢？Fedora 安装到了/dev/hda5，映射后虚拟到了/dev/sda1。所以Fedora系统引导时就寻找/dev/sda1做为文件系统。</p><p>所以root这行可写为：</p><p></p><div class="codeblock"><span style="font-family: Courier New">root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p>所以我们可以这样写Fedora 5的引导配置文件；</p><p><strong>第一种：如果是用DHCP来获取IP：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fc5&quot;<br />nics = 1<br />vif = ['mac=aa:00:00:00:00:11']<br />dhcp = &quot;dhcp&quot;<br />disk = ['phy:hda5,sda1,w','phy:hda8,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p><strong>第二种：如果是指定IP的话：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fc5&quot;<br />nics = 1<br />vif = ['mac=aa:00:00:00:00:11'] <br />disk = ['phy:hda5,sda1,w','phy:hda8,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;<br />ip = &quot;192.168.1.144&quot;&nbsp; <br />netmask=&quot;255.255.255.0&quot; </span></div><p></p><p><strong>再举一例：</strong></p><p>比如Fedora 被安装在了/dev/hda5分区，物理交换分区为/dev/hda8。通过DHCP获得IP。我想映射/dev/hda5到/dev/hda5，并且想映射/dev/hda8到/dev/hda8。我们应该如何修改一些配置文件呢？</p><p>Fedora的引导文件内容应该是：</p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fc5&quot;<br />nics = 1<br />vif = ['mac=aa:00:00:00:00:11']<br />dhcp = &quot;dhcp&quot;<br />disk = ['phy:hda5,hda5,w','phy:hda8,hda8,w']<br />root = &quot;/dev/hda5 ro&quot;</span></div><p></p><p>然后我们应该再把装有Fedora的/dev/hda5分区挂载，然后修改Fedora系统的/etc/fstab。<span style="color: red"><strong>注意：</strong></span>不是修改虚拟平台的/etc/fstab。不要弄混了！！！！</p><p>应该先挂载Fedora 5所处的分区：</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mount /dev/hda5 /mnt/fedora/ </span></div><p></p><p>然后修改Fedora 5的/etc/fstab文件，也就是/mnt/fedora/etc/fstab文件：找到如下两行：</p><p></p><div class="codeblock"><span style="font-family: Courier New">/dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ext3&nbsp;&nbsp;&nbsp; defaults 1 1<br />/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; none&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap&nbsp;&nbsp;&nbsp; sw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 0</span></div><p></p><p>改为：</p><p></p><div class="codeblock"><span style="font-family: Courier New">/dev/hda5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ext3&nbsp;&nbsp;&nbsp; defaults 1 1<br />/dev/hda8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; none&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap&nbsp;&nbsp;&nbsp; sw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 0</span></div><p></p><p>接着再umount /mnt/fedora</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# umount /mnt/fedora</span></div><p></p><p><span style="font-size: x-small"><strong><br />7.16 引导Fedora 5 ；<br /></strong></span></p><p>引导运行Fedora 5.0就好办了，就是用xm 工具来引导；首先要确认你的Fedora 5的配置文件放在哪里。比如我是放在了/opt/fedora5vm中。并且文件名为fc5vm.cfg。所以我就可以这样来引导Fedora 5。</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp; create&nbsp; -c&nbsp; /opt/fedora5vm/fc5vm.cfg</span></div><p></p><p><span style="font-size: x-small"><strong><br />7.17 虚拟操作系统网卡不能激活的处理方法 ；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">modprobe: FATAL: Could not load /lib/modules/2.6.12.6-xenU/modules.dep: <br />No such file or directory</span></div><p></p><p>如果出现类似上面的现象，请复制虚拟平台的中的/lib/modues/下的2.6.12.6-xenU 到Fedora系统中；</p><p>方法是先挂载Fedora 所处的物理分区，然后用cp -rp 来复制；</p><p>首先要关掉Fedora，然后再复制；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# xm list<br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 462&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp; 2192.9<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 128&nbsp;&nbsp;&nbsp;&nbsp; 1 -b----&nbsp;&nbsp;&nbsp;&nbsp; 6.4</span></div><p></p><p>以上面虚拟操作系统的ID为准，比如fc5的ID是 2,就要运行如下命令；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# xm&nbsp;&nbsp; destroy&nbsp; 2 </span></div><p></p><p>然后mount 挂载Fedora所处的物理分区/dev/hda5；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mount /dev/hda5 /mnt/fedora<br />[root@localhost ~]# mkdir /mnt/fedora/lib/modules <br /><br />注：在Fedora中的/lib目录中创建modules。如果有了就不创建；<br /><br />[root@localhost ~]# cp -rp /lib/modules/2.6.12.6-xenU/&nbsp;&nbsp; /mnt/fedora/lib/modules/<br />[root@localhost ~]# chmod -R 755 /mnt/fedora/lib/modules/<br />[root@localhost ~]# umount /mnt/fedora</span></div><p></p><p><span style="font-size: small"><strong><br />7.2 Fedora 安装运行于一个映像文件中；<br /></strong></span></p><p><span style="font-size: x-small"><strong><br />7.21 下载Fedora 5.0的基础系统；<br /></strong></span></p><p><strong>请到：</strong> <a href="javascript:if(confirm('http://jailtime.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://jailtime.org/'" tppabs="http://jailtime.org/" target="_blank">http://jailtime.org</a></p><p><span style="font-size: x-small"><strong><br />7.22 解压和提取相应文件；<br /></strong></span></p><p>我们把下载下来的Fedora 5 基础系统，存放到/opt/fedora5vm目录中；然后解压; </p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mkdir /opt/fedora5vm<br />[root@localhost ~]# mv fedora.fc5.20060401.img.tgz&nbsp; /opt/fedora5vm<br />[root@localhost ~]# cd /opt/fedora5vm<br />[root@localhost fedora5vm]# tar zxvf fedora.fc5.20060401.img.tgz<br />[root@localhost fedora5vm]# ls <br /><br />fedora.fc5.20060401.img.tgz&nbsp; fedora.fc5.img&nbsp; fedora.fc5.xen.cfg&nbsp; fedora.swap</span></div><p></p><p><span style="font-size: x-small"><strong><br />7.23 修改引导运行Fedora的配置文件；<br /></strong></span></p><p>我们从fedora.fc5.20060401.img.tgz 解压出来一个fedora.fc5.xen.cfg ，这个就是用来引导Fedora 5的配置文件。我们改一改以适合我们的需要。我们把这个文件复制为fc5vm.cfg</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# cp /opt/fedora5vm/fedora.fc5.xen.cfg /opt/fedora5vm/fc5vm.cfg</span></div><p></p><p>fc5vm.cfg 内容如下：</p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fc5&quot;<br />nics = 1<br />vif = ['mac=aa:00:00:00:00:11']<br />dhcp = &quot;dhcp&quot;<br />disk = ['file:/opt/fedora5vm/fedora.fc5.img,sda1,w', 'file:/opt/fedora5vm/fedora.swap,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p><strong>注解：</strong></p><p>首先我们看kernel 这行，这行是定义虚拟操作系统内核的，我们要用到我们安装xen是所安装的内核。要在虚拟平台/boot目录中找。比如我用Slackware虚拟 Fedora 。那虚拟平台就是Slackware。我应试在Slackware的/boot中找文件名中包含vmlinuz和xenU字样的文件。比如我找以的是：</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# ls&nbsp; -lh /boot/vmlinuz*xenU*<br /><br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp; 21 2006-04-12 07:49 /boot/vmlinuz-2.6-xenU -&gt; vmlinuz-2.6.12.6-xenU<br />lrwxrwxrwx&nbsp; 1 root root&nbsp;&nbsp; 21 2006-04-12 07:49 /boot/vmlinuz-2.6.12-xenU -&gt; vmlinuz-2.6.12.6-xenU<br />-rw-r--r--&nbsp; 1 root root 1.1M 2006-04-12 07:49 /boot/vmlinuz-2.6.12.6-xenU</span></div><p></p><p>我们看到有类似的三个文件，实际上只有一个，也就是 vmlinuz-2.6.12.6-xenU，其它的都是他的链接文件。所以我们在kernel行中指定内核时，可以用这三个中的任何一个；比如我们用 vmlinuz-2.6-xenU；</p><p>memory是指定内存大小的，我们设置被虚拟的Fedora 5的虚拟内存大小是 128M；<br />name 是定义虚拟操作系统的名字的，可以通过xm list中显示出来，我们也改简单点，改为fc5<br />nics=1 不变<br />dhcp 这行，是用来指定获取Fedora 5系统的IP是通过DHCP获取的，不过您也可以指定IP。可以不要这行；</p><p>vif = ['mac=aa:00:00:00:00:11'] 用来指定Fedora 5的网卡的物理地址；可以自己定义。<br />ip = &quot;192.168.1.144&quot; 用来指定虚拟网卡的IP<br />netmask=&quot;255.255.255.0&quot; 用来指定掩码</p><p>disk来定义Fedora 5.0 所用的文件系统，因为我们这次用的是映像文件。所以要用file:来指定，Fedora 5用的交换分区，也是一个映像文件；所以有：</p><p>disk = ['file:/opt/fedora5vm/fedora.fc5.img,sda1,w', 'file:/opt/fedora5vm/fedora.swap,sda2,w']</p><p>指定fedora.fc5.img映像文件虚拟映射到/dev/sda1；交换分区文件fedora.swap映射到了/dev/sda2。映射过后，Fedora的root文件系统就用映射后的/dev/sda1。虚拟映射设备是可以在Linux系统设备定义的许可范围内进行。自己尝试着换一换映射点。如果Fedora的虚拟映射设备变了，我们得改变Fedora中的/etc/fstab。</p><p>root一行，来指定Fedora的root位于哪个映射后的设备。映射到哪里了呢？Fedora 安装到了/dev/sda1，映射后虚拟到了/dev/sda1。所以Fedora系统引导时就寻找/dev/sda1做为文件系统。</p><p>所以root这行可写为：</p><p></p><div class="codeblock"><span style="font-family: Courier New">root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p>所以我们可以这样写Fedora 5的引导配置文件；</p><p><strong>第一种：如果是用DHCP来获取IP：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fc5&quot;<br />nics = 1<br />vif = ['mac=aa:00:00:00:00:11']<br />dhcp = &quot;dhcp&quot;<br />disk = ['file:/opt/fedora5vm/fedora.fc5.img,sda1,w', 'file:/opt/fedora5vm/fedora.swap,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p><strong>第二种：如果是指定IP的话：</strong></p><p></p><div class="codeblock"><span style="font-family: Courier New">kernel = &quot;/boot/vmlinuz-2.6-xenU&quot;<br />memory = 128<br />name = &quot;fc5&quot;<br />nics = 1<br />vif = ['mac=aa:00:00:00:00:11'] <br />disk = ['file:/opt/fedora5vm/fedora.fc5.img,sda1,w', 'file:/opt/fedora5vm/fedora.swap,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;<br />ip = &quot;192.168.1.144&quot;&nbsp; <br />netmask=&quot;255.255.255.0&quot; </span></div><p></p><p><span style="font-size: x-small"><strong><br />7.24 引导Fedora 5 ；<br /></strong></span></p><p>引导运行Fedora 5.0就好办了，就是用xm 工具来引导；首先要确认你的Fedora 5的配置文件放在哪里。比如我们在这个例子中是放在了/opt/fedora5vm中。并且文件名为fc5vm.cfg。所以我就可以这样来引导Fedora 5。</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# /usr/sbin/xm&nbsp; create&nbsp; -c&nbsp; /opt/fedora5vm/fc5vm.cfg</span></div><p></p><p><span style="font-size: x-small"><strong><br />7.25 网卡不能激活的处理；<br /></strong></span></p><p></p><div class="codeblock"><span style="font-family: Courier New">modprobe: FATAL: Could not load /lib/modules/2.6.12.6-xenU/modules.dep: <br />No such file or directory</span></div><p></p><p>如果出现类似上面的现象，请复制虚拟平台的中的/lib/modues/下的2.6.12.6-xenU 到Fedora系统中；</p><p>方法是先挂载Fedora 所处的物理分区，然后用cp -rp 来复制；</p><p>首先要关掉Fedora，然后再复制；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# xm list<br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 462&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp; 2192.9<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 128&nbsp;&nbsp;&nbsp;&nbsp; 1 -b----&nbsp;&nbsp;&nbsp;&nbsp; 6.4</span></div><p></p><p>以上面虚拟操作系统的ID为准，比如fc5的ID是 2,就要运行如下命令；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# xm&nbsp;&nbsp; destroy 2 </span></div><p></p><p>然后mount 挂载Fedora所处的物理分区/dev/hda5；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mount -o loop /opt/fedora5vm/fedora.fc5.img /mnt/fedora<br />[root@localhost ~]# mkdir /mnt/fedora/lib/modules <br /><br />注：在Fedora中的/lib目录中创建modules。如果有了就不创建；<br /><br />[root@localhost ~]# cp -rp /lib/modules/2.6.12.6-xenU/&nbsp;&nbsp; /mnt/fedora/lib/modules/<br />[root@localhost ~]# chmod -R 755 /mnt/fedora/lib/modules/<br />[root@localhost ~]# umount /mnt/fedora</span></div><p></p><p>然后再来引导Fedora 5，进入系统后用ifconfig来查看网卡的IP之类的，如果没有激活，请用下面的命令来加载网卡模块；在要Fedora中执行；</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@fc5_pristine ~]# modprobe&nbsp;&nbsp; xennet <br />[root@fc5_pristine ~]# dhclient&nbsp; 如果您用DHCP获取IP，请执行；</span></div><p></p><p><span style="font-size: x-small"><strong><br />7.26 Fedora 映像文件太小的解决办法；<br /></strong></span></p><p>我们会发现我们下载的Fedora基础系统的映像文件体积太小。体积小空间就小的了。Fedora 5.0如果只安装基础系统，倒占用不了多少空间，如果再安装一个桌面环境可能会占用大一点的地方。比如安装GNOME或KDE。</p><p>我们可以自己创建一个映像文件，创建好文件系统。然后从我们下载下来的Fedora映像文件中的所有文件，也就是Fedora的基础系统，复制到我们新创建的映像中。前面已经说过创建映像文件的办法了。这个应该好办吧。</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# dd if=/dev/zero of=fc5.img&nbsp;&nbsp; bs=2k&nbsp; seek=2048k count=1<br />[root@localhost ~]# ls -lh fc5.img<br />-rw-r--r--&nbsp; 1 root root 4.1G 2006-04-13 11:22 fc5.img<br /><br />[root@localhost ~]# /sbin/mkfs.ext3 fc5.img<br /><br />mke2fs 1.38 (30-Jun-2005)<br />fc5.img is not a block special device.<br />Proceed anyway? (y,n) y</span></div><br /><br /><br /><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# mkdir /mnt/tmp&nbsp; 注：在/mnt/中创建tmp目录 <br />[root@localhost ~]# mkdir /mnt/fedora&nbsp; 注：在/mnt中创建fedora目录 <br />[root@localhost ~]# mount -o loop fc5.img /mnt/fedora/ 注：挂载我们新创建的fc5.img文件到 /mnt/fedora<br />[root@localhost ~]# mount -o loop fedora.fc5.img /mnt/tmp/&nbsp; 注：挂载我们下载下来的映像文件到/mnt/tmp<br />[root@localhost ~]# cp -rp /mnt/tmp/* /mnt/fedora/ 注：复制Fedora基础系统到新的映像文件；<br />[root@localhost ~]# umount /mnt/tmp&nbsp; 注：卸载 fedora.fc5.img ;<br />[root@localhost ~]# umount /mnt/fedora 注：卸载fc5.img </span></div><p></p><p>然后就是改一改引导Fedora 5的配置文件，注意改一下disk:那行；要到fc5.img指定进去。要仔细看一下fc5所处的目录；这个应该好办，不多说了；</p><p><span style="font-size: medium"><strong><br />8、强制终止正在运行的虚拟操作系统；（重要）<br /></strong></span></p><p>在xm这个管理工具中，我们把xm destroy 单列出来，就是因为这个工具是极为重要的；有时被虚拟的系统一直退不出去，但由于启动过程中遇到问题，又不能终止。这时我们要用到这个工具强制被虚拟的系统退出。</p><p></p><div class="codeblock"><span style="font-family: Courier New">[root@localhost ~]# xm&nbsp;&nbsp; list<br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID Mem(MiB) VCPUs State&nbsp; Time(s)<br />Domain-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 586&nbsp;&nbsp;&nbsp;&nbsp; 1 r-----&nbsp; 2236.5<br />fc5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 128&nbsp;&nbsp;&nbsp;&nbsp; 1 -b----&nbsp;&nbsp;&nbsp; 13.7<br /><br />[root@localhost ~]# xm&nbsp;&nbsp; destroy&nbsp; 1 <br />或<br />[root@localhost ~]# xm&nbsp;&nbsp;&nbsp; destroy&nbsp; fc5</span></div><p></p><p>这时您再用xm list查看，肯定fc5这个Domain已经退出。</p><p>xm destroy 这个指令还是极为有用的，所以我们单列出来。希望新手弟兄注意一下。</p><p><span style="font-size: medium"><strong><br />9、关于基础系统安装后，虚拟操作系统的软件补充安装；<br /></strong></span></p><p>基础系统安装好以后，下一步就是其它软件的安装。在各个系统都有软件包管理工具； 在主流发行版中，都有相应的软件包管理工具，比如Fedora有rpm 和yum 工具；Debian有 apt工具。</p><p>或者通过chroot来安装一些比较重要的软件包。总之方法太多了；</p><p>总之，后续软件的补充安装并不是什么问题；</p><p><span style="font-size: medium"><strong><br />10、关于虚拟操作系统的桌面访问及远程访问；<br /></strong></span></p><p>被虚拟的操作系统，我们要把它看成一台独立运行的计算机。计算机与计算机之间通过什么访问来？ssh 或vnc。所以我们要在被虚拟的操作系统上安装vncserver 和sshd；</p><p>如果您虚拟的是Fedora ，我们可以在Fedora中执行yum install vnc来安装vncserver ；</p><p>#yum install vnc</p><p>如果您虚拟的是 Debian ，您可以用apt-get install vncserver 来安装vncserver ;</p><p>#apt-get install vncserver</p><p>当然客户端也要安装vncview才行，您要自己在客户端上安装vncview；</p><p>关于vnc远程桌面的访问，您可以参考这篇：<a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6889  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6889'" tppabs="http://www.linuxsir.org/main/?q=node/183">《Fedora Core 5.0 用 Xen 虚拟Slackware 10.2》</a></p><p>另外sshd服务器，也要安装openssh 的软件包；这个也省略不说了，比较简单，再说目前大多基础系统已经提供这个软件包了。并且在被虚拟的系统在启动时，sshd也自动运行了；连接sshd服务器的命令是；</p><p></p><div class="codeblock"><span style="font-family: Courier New">#ssh&nbsp; 用户名@ip </span></div><p></p><p>比如 </p><p></p><div class="codeblock"><span style="font-family: Courier New">#ssh root@192.168.1.12 </span></div><p></p><p><span style="font-size: medium"><strong><br />11、常见问题处理；<br /></strong></span></p><p><span style="font-size: small"><strong><br />11.1 不能找到root分区；<br /></strong></span></p><p>表现如下症状；</p><p>VFS: Cannot open root device &quot;sda8&quot; or unknown-block(2,0)<br />Please append a correct &quot;root=&quot; boot option<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(2,0)</p><p>引导虚拟操作系统的配置文件有问题，主要查看disk:那行和root那行是否用的是一个虚拟映射点。 </p><p>比如是由于引导Fedora 的配置文件中disk行和root行如下：<br /></p><div class="codeblock"><span style="font-family: Courier New">disk = ['phy:hda5,sda1,w','phy:hda8,sda2,w']<br />root = &quot;/dev/sda8 ro&quot;</span></div><p></p><p>我们发现/dev/hda5被虚拟映射到/dev/sda1了。也就是说，被虚拟的操作系统引导运行，它的root应该位于/dev/sda1。而在这里定义的却是/dev/sda8。所以应该改为</p><p></p><div class="codeblock"><span style="font-family: Courier New">disk = ['phy:hda5,sda1,w','phy:hda8,sda2,w']<br />root = &quot;/dev/sda1 ro&quot;</span></div><p></p><p><span style="font-size: small"><strong><br />11.2 出现/tmp/.ICE-unix 类似的错误；<br /></strong></span></p><p>chown: changing ownership of `/tmp/.ICE-unix': Read-only file system </p><p>再比较/tmp/xxxx之类的不能写入，只读之类的，请用xm destrony 先关掉被虚拟的操作系统。然后把被虚拟的系统的分区或映像文件挂载，删除/tmp目录中的临时文件。注意.file是隐藏的。您可以通过ls -la来查看。然后再来删除；</p><p>另外如果一直出现这个错误，说明文件系统有问题了，这在ext3的文件系统中是经常发生的。您可以用/sbin/fsck.ext3 工具来修复文件系统。当然您的文件系统不能处于挂载状态。应该先umout 才能进行；</p><p>比如修复一个分区，应该类似如下的命令；</p><p>[root@localhost ~]# /sbin/fsck.ext3 /dev/hda5 </p><p>如果中间遇到是否修复时，按提示的就是y或yes吧；</p><p>如果被虚拟的文件系统位于一个映像文件，也是用这种办法,比如：</p><p>[root@localhost ~]# /sbin/fsck.ext3 fc5.img </p><p><span style="font-size: small"><strong><br />11.3 Device 0 (vif) could not be connected<br /></strong></span></p><p>Warning: The nics option is deprecated. Please use an empty vif entry instead:</p><p>vif = [ '' ]</p><p>Error: Device 0 (vif) could not be connected. Hotplug scripts not working.</p><p>如果出现上面这种错误，应该看一下配置文件中有没有 vif=['']的定义；</p><p><span style="font-size: medium"><strong><br />12、关于本文；<br /></strong></span></p><p>本文是在阅读<a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6880  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6880'" tppabs="http://www.linuxsir.org/main/?q=node/186">《xen v3.0 用户手册》</a>的基础上实践而成。本文和我前几天写的<a href="javascript:if(confirm('http://www.linuxsir.org/main/read.php?6889  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.linuxsir.org/main/read.php?6889'" tppabs="http://www.linuxsir.org/main/?q=node/183">《Fedora Core 5.0 用 Xen 虚拟Slackware 10.2》</a>有点类似。通过实践看来Xen还不是太难用，应该说比较容易。至于高深的东西，我也不会，所以只能写一写新手入门性的文档。可能有的弟兄认为本文没有任何价值，我想也是这么回事，如果有一个弟兄认为有点价值，那就送给他用吧～～～ </p><p><span style="font-size: medium"><strong><br />13、后记；<br /></strong></span></p><p>还要挖一挖Xen的文档？好象没有太大的必要了~~~，看情况吧；</p> 
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none">  
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div>	<div class="comment-pages">
	
	</div>
</div>

					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows">windows</a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 140 ms, 5 Queries.</span>";
//]]>
</script></body>
</html>