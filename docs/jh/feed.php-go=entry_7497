<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
<title><![CDATA[流浪的龙－个人知识管理]]></title> 
<link>http://i.renjihe.com/blog/index.php</link> 
<description><![CDATA[]]></description> 
<language>zh-cn</language> 
<copyright><![CDATA[流浪的龙－个人知识管理]]></copyright>
<item>
<link>http://i.renjihe.com/blog/read.php?</link>
<title><![CDATA[node.js源码研究—模块组织加载]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[web]]></category>
<pubDate>Wed, 24 Aug 2016 11:37:05 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">粗略研究了一下node.js源码，它有8000行C++代码，2000行javascript代码，来看看js和C++间是怎么组织连接起来，以及各个模块是怎样互相调用的。</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">本文使用的node.js版本是0.4.8，可以在<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/tree/v0.4.8" target="_blank">https://github.com/joyent/node/tree/v0.4.8</a>这里看到源码。</p><h3 style="margin: 0px; padding: 30px 0px 10px; border: 0px; font-stretch: inherit; font-size: 1.6em; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; text-rendering: optimizeLegibility; background-color: #eeeeee"><strong style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline">js2c.py</strong></h3><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">node.js使用了V8附带的js2c.py工具把所有内置的js代码转换成C++里的数组，生成node_natives.h直接include到程序中，成了C++源码的一部分。这样做能提高内置js模块的编译效率。</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">node.js里内置的javascript包括了主程序<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/blob/v0.4.8/src/node.js" target="_blank">src/node.js</a>和模块程序<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/tree/v0.4.8/lib" target="_blank">lib/*.js</a>，通过js2c.py让每一个js文件都生成一个源码数组，存放在build/src/node_natives.h里，node_natives.h在node.js编译后才会生成(编译的脚本wscript中调用了js2c.py)，可以看到大致的结构如下：</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_927265" class="syntaxhighlighter&nbsp;&nbsp;cpp" style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">01</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">02</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">03</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">04</div><div class="line number5 index4 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">05</div><div class="line number6 index5 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">06</div><div class="line number7 index6 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">07</div><div class="line number8 index7 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">08</div><div class="line number9 index8 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">09</div><div class="line number10 index9 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">10</div><div class="line number11 index10 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">11</div><div class="line number12 index11 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">12</div><div class="line number13 index12 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">13</div><div class="line number14 index13 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">14</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 835px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">namespace node &#123;</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;const char node_native[] = &#123;47, 47, 32, 67, 112 ......&#125;</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;const char console_native[] = &#123;47, 47, 32, 67, 112 ......&#125;</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;const char buffer_native[] = &#123;47, 47, 32, 67, 112 ......&#125;</div><div class="line number5 index4 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;.....</div><div class="line number6 index5 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&#125;</div><div class="line number7 index6 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">struct _native &#123;&nbsp; const char* name;&nbsp; const char* source;&nbsp; size_t source_len;&#125;;</div><div class="line number8 index7 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">static const struct _native natives[] = &#123;</div><div class="line number9 index8 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#123; &quot;node&quot;, node_native, sizeof(node_native)-1 &#125;,</div><div class="line number10 index9 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#123; &quot;dgram&quot;, dgram_native, sizeof(dgram_native)-1 &#125;,</div><div class="line number11 index10 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#123; &quot;console&quot;, console_native, sizeof(console_native)-1 &#125;,</div><div class="line number12 index11 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#123; &quot;buffer&quot;, buffer_native, sizeof(buffer_native)-1 &#125;,</div><div class="line number13 index12 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;....</div><div class="line number14 index13 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&#125;</div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">这个文件被包含在<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/blob/v0.4.8/src/node_javascript.cc" target="_blank">node_javascript.cc</a>里，node_javascript.cc提供了两个接口：<br />MainSource() 处理node_native源码返回v8::Handle类型的数据可供编译。<br />DefineJavaScript(target) 把其他所有模块源码变成v8::Handle类型后加载到传入的target对象上。</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">所有的js模块都被转换成了C数组，接下来看看它们怎么执行和互相调用。<br /></p><h3 style="margin: 0px; padding: 30px 0px 10px; border: 0px; font-stretch: inherit; font-size: 1.6em; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; text-rendering: optimizeLegibility; background-color: #eeeeee">执行js主程序/传递process</h3><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">先看看node.js的底层C++传递给javascript的一个变量process，在一开始运行node.js时，程序会先配置好process</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_662043" class="syntaxhighlighter&nbsp;&nbsp;cpp" style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 844px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">Handle&lt;object&gt;process = SetupProcessObject(argc, argv);</div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">然后把process作为参数去调用js主程序src/node.js返回的函数，这样process就传递到javascript里了。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_711549" class="syntaxhighlighter&nbsp;&nbsp;cpp" style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">01</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">02</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">03</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">04</div><div class="line number5 index4 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">05</div><div class="line number6 index5 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">06</div><div class="line number7 index6 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">07</div><div class="line number8 index7 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">08</div><div class="line number9 index8 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">09</div><div class="line number10 index9 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">10</div><div class="line number11 index10 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">11</div><div class="line number12 index11 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">12</div><div class="line number13 index12 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">13</div><div class="line number14 index13 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">14</div><div class="line number15 index14 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">15</div><div class="line number16 index15 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">16</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 835px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//node.cc</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//通过MainSource()获取已转化的src/node.js源码，并执行它</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">Local f_value = ExecuteString(MainSource(), IMMUTABLE_STRING(&quot;node.js&quot;));</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;</div><div class="line number5 index4 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//执行src/node.js后获得的是一个函数，从node.js源码可以看出：</div><div class="line number6 index5 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//node.js</div><div class="line number7 index6 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//(function(process) &#123;</div><div class="line number8 index7 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//&nbsp;&nbsp;&nbsp; global = this;</div><div class="line number9 index8 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//&nbsp;&nbsp;&nbsp; ....</div><div class="line number10 index9 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//&#125;)</div><div class="line number11 index10 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">Local f = Local::Cast(f_value);</div><div class="line number12 index11 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;</div><div class="line number13 index12 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">//创建函数执行环境，调用函数，把process传入</div><div class="line number14 index13 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">Local&lt;object&gt;global = v8::Context::GetCurrent()-&amp;gt;Global();</div><div class="line number15 index14 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">Local args[1] = &#123; Local::New(process) &#125;;</div><div class="line number16 index15 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">f-&amp;gt;Call(global, 1, args);</div></div></td></tr></tbody></table></div></div><h3 style="margin: 0px; padding: 30px 0px 10px; border: 0px; font-stretch: inherit; font-size: 1.6em; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; text-rendering: optimizeLegibility; background-color: #eeeeee">C++模块</h3><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">node.js的模块除了lib/*.js里用js语言编写的以外，还有一些使用C++编写，像os/stdio/crypto/buffer等。这些模块都通过<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/blob/v0.4.8/src/node.h" target="_blank">node.h</a>提供的NODE_MODULE方法存储在变量_module里。<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/blob/v0.4.8/src/node_extensions.cc" target="_blank">node_extensions.cc</a>提供了get_builtin_module(name)接口获取这些模块。</p><h3 style="margin: 0px; padding: 30px 0px 10px; border: 0px; font-stretch: inherit; font-size: 1.6em; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; text-rendering: optimizeLegibility; background-color: #eeeeee">process.binding/C++模块加载</h3><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">process提供的一个获取模块的接口是binding，它的实现Binding()函数可以在<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/blob/v0.4.8/src/node.cc" target="_blank">node.cc</a>找到。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_389903" class="syntaxhighlighter&nbsp;&nbsp;cpp " style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">01</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">02</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">03</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">04</div><div class="line number5 index4 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">05</div><div class="line number6 index5 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">06</div><div class="line number7 index6 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">07</div><div class="line number8 index7 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">08</div><div class="line number9 index8 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">09</div><div class="line number10 index9 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">10</div><div class="line number11 index10 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">11</div><div class="line number12 index11 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">12</div><div class="line number13 index12 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">13</div><div class="line number14 index13 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">14</div><div class="line number15 index14 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">15</div><div class="line number16 index15 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">16</div><div class="line number17 index16 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">17</div><div class="line number18 index17 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">18</div><div class="line number19 index18 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">19</div><div class="line number20 index19 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">20</div><div class="line number21 index20 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">21</div><div class="line number22 index21 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">22</div><div class="line number23 index22 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">23</div><div class="line number24 index23 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">24</div><div class="line number25 index24 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">25</div><div class="line number26 index25 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">26</div><div class="line number27 index26 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">27</div><div class="line number28 index27 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">28</div><div class="line number29 index28 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">29</div><div class="line number30 index29 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">30</div><div class="line number31 index30 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">31</div><div class="line number32 index31 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">32</div><div class="line number33 index32 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">33</div><div class="line number34 index33 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">34</div><div class="line number35 index34 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">35</div><div class="line number36 index35 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">36</div><div class="line number37 index36 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">37</div><div class="line number38 index37 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">38</div><div class="line number39 index38 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">39</div><div class="line number40 index39 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">40</div><div class="line number41 index40 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">41</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 835px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">Persistent&lt;Object&gt; binding_cache;</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">static Handle&lt;Value&gt; Binding(const Arguments&amp; args) &#123;</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;HandleScope scope;</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;Local&lt;String&gt; module = args[0]-&gt;ToString();</div><div class="line number5 index4 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;String::Utf8Value module_v(module);</div><div class="line number6 index5 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;node_module_struct* modp;</div><div class="line number7 index6 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;</div><div class="line number8 index7 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;if (binding_cache.IsEmpty()) &#123;</div><div class="line number9 index8 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;binding_cache = Persistent&lt;Object&gt;::New(Object::New());</div><div class="line number10 index9 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125;</div><div class="line number11 index10 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;Local&lt;Object&gt; exports;</div><div class="line number12 index11 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;if (binding_cache-&gt;Has(module)) &#123;</div><div class="line number13 index12 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;exports = binding_cache-&gt;Get(module)-&gt;ToObject();</div><div class="line number14 index13 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;</div><div class="line number15 index14 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125; else if ((modp = get_builtin_module(*module_v)) != NULL) &#123;</div><div class="line number16 index15 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;exports = Object::New();</div><div class="line number17 index16 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;modp-&gt;register_func(exports);</div><div class="line number18 index17 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;binding_cache-&gt;Set(module, exports);</div><div class="line number19 index18 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;</div><div class="line number20 index19 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125; else if (!strcmp(*module_v, &quot;constants&quot;)) &#123;</div><div class="line number21 index20 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;exports = Object::New();</div><div class="line number22 index21 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;DefineConstants(exports);</div><div class="line number23 index22 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;binding_cache-&gt;Set(module, exports);</div><div class="line number24 index23 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;</div><div class="line number25 index24 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">#ifdef __POSIX__</div><div class="line number26 index25 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125; else if (!strcmp(*module_v, &quot;io_watcher&quot;)) &#123;</div><div class="line number27 index26 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;exports = Object::New();</div><div class="line number28 index27 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;IOWatcher::Initialize(exports);</div><div class="line number29 index28 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;binding_cache-&gt;Set(module, exports);</div><div class="line number30 index29 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">#endif</div><div class="line number31 index30 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;</div><div class="line number32 index31 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125; else if (!strcmp(*module_v, &quot;natives&quot;)) &#123;</div><div class="line number33 index32 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;exports = Object::New();</div><div class="line number34 index33 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;DefineJavaScript(exports);</div><div class="line number35 index34 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;binding_cache-&gt;Set(module, exports);</div><div class="line number36 index35 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;</div><div class="line number37 index36 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125; else &#123;</div><div class="line number38 index37 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ThrowException(Exception::Error(String::New(&quot;No such module&quot;)));</div><div class="line number39 index38 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&#125;</div><div class="line number40 index39 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&nbsp;&nbsp;&nbsp;return scope.Close(exports);</div><div class="line number41 index40 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">&#125;</div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">从源码可以看到，调用process.binding时，先看缓存里是否已经存在此模块，不存在再调用get_builtin_module查找C++内置模块，找到的话获取后绑定在exports上，在最后返回exports。</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">此外还有针对其他模块的特殊处理，其中natives模块就是调用上文提到的DefineJavaScript(exports)接口获取到所有内置的js模块绑定在exports上。</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">现在在js上需要调用C++提供的模块只需要调用process.binding就行了，例如</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_958952" class="syntaxhighlighter&nbsp;&nbsp;jscript" style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 844px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">var stdio = ﻿process.binding(&quot;stdio&quot;)</div></div></td></tr></tbody></table></div></div><h3 style="margin: 0px; padding: 30px 0px 10px; border: 0px; font-stretch: inherit; font-size: 1.6em; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; text-rendering: optimizeLegibility; background-color: #eeeeee">js模块加载</h3><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #cc3333; text-decoration: none" href="https://github.com/joyent/node/blob/v0.4.8/src/node.js" target="_blank">src/node.js</a>上实现了一个NativeModule对象用于管理js模块，它通过调用process.binding(&ldquo;natives&rdquo;)把所有内置的js模块放在NativeModule._source上，并提供require接口供调用。在require里会给代码加一层包装，把一些变量传给这个模块。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_770189" class="syntaxhighlighter&nbsp;&nbsp;jscript" style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">2</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">3</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">4</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 844px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">NativeModule.wrapper = [</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">'(function (exports, require, module, __filename, __dirname) &#123; ',</div><div class="line number3 index2 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">'&#92;n&#125;);'</div><div class="line number4 index3 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">];</div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">再用process提供的其中一个js编译接口process.runInThisContext执行代码。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee"><div id="highlighter_742238" class="syntaxhighlighter&nbsp;&nbsp;jscript" style="padding: 10px 0px 10px 10px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 880px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow-x: auto !important; overflow-y: hidden !important; background-color: #1b2426 !important"><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; width: 880px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; table-layout: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #435a5f !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">2</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 844px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">var fn = runInThisContext(source, this.filename, true);</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; direction: ltr !important; box-shadow: none !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">fn(this.exports, NativeModule.require, this, this.filename);</div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">于是在主程序src/node.js上可以调用NativeModule.require(&ldquo;net&rdquo;)去加载net模块，在lib/*.js的各个js模块里能通过调用传进来的require()去加载其他内置js模块。</p><h3 style="margin: 0px; padding: 30px 0px 10px; border: 0px; font-stretch: inherit; font-size: 1.6em; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; text-rendering: optimizeLegibility; background-color: #eeeeee">总结流程</h3><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">粗略总结一下加载模块的流程：</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">加载C++模块（以stdio为例）：<br />process.binding(&ldquo;stdio&rdquo;) -&gt; get_builtin_module(&ldquo;stdio&rdquo;) -&gt; _module -&gt; NODE_MODULE(node_stdio, node::Stdio::Initialize)(定义)</p><p style="margin: 0px; padding: 8px 0px; border: 0px; font-stretch: inherit; font-size: 16px; line-height: 28.8px; font-family: 'Lucida Sans Unicode', Verdana, Arial, STHeiti, 'Microsoft YaHei', 微软雅黑, Arial, sans-serif; vertical-align: baseline; color: #464646; background-color: #eeeeee">加载js模块（以net为例）<br />require(&ldquo;net&rdquo;) -&gt; NativeModule.require(&ldquo;net&rdquo;) -&gt; process.binding(&ldquo;natives&rdquo;)[&ldquo;net&rdquo;] -&gt; DefineJavaScript() -&gt; natives[] -&gt; node_natives.h</p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?#blogcomment</link>
<title><![CDATA[[评论] node.js源码研究—模块组织加载]]></title> 
<author> &lt;user@domain.com&gt;</author>
<category><![CDATA[评论]]></category>
<pubDate>Thu, 01 Jan 1970 00:00:00 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?#blogcomment</guid> 
<description>
<![CDATA[ 
	
]]>
</description>
</item>
</channel>
</rss>