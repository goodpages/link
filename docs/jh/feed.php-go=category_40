<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
<title><![CDATA[流浪的龙－个人知识管理]]></title> 
<link>http://i.renjihe.com/blog/index.php</link> 
<description><![CDATA[]]></description> 
<language>zh-cn</language> 
<copyright><![CDATA[流浪的龙－个人知识管理]]></copyright>
<item>
<link>http://i.renjihe.com/blog/read.php?5760</link>
<title><![CDATA[linux下语音识别小总结]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[音频处理]]></category>
<pubDate>Mon, 09 Dec 2013 12:09:12 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?5760</guid> 
<description>
<![CDATA[ 
	<p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">我之前发过我的贪吃蛇的代码，我想把它变成语音控制上下左右的，于是选择科大讯飞的SDK，官方有一些文档，但有一些细节还是会让在linux下开发的孩子们产生困惑比如我，现在总结在此~</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp; &nbsp; &nbsp; &nbsp; 首先下载科大讯飞的SDK-linux版本，需要注册先。。。在下载下来的include文件夹下，有四个文件：msp_errors.h &nbsp;msp_types.h &nbsp;qisr.h &nbsp;qtts.h。前两个是通用的一些数据结构，剩下的qisr.h是语音识别用的头文件，qtts.h是语音合成用的头文件，因为我之需要语音识别的功能，只要在我的代码中include进qisr.h头文件就OK啦。在bin文件夹下比较乱，但主要就是libmsc.so和libspeex.so两个动态库，我直接把这两个动态库拷到/usr/lib里面。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;在bin文件夹下注意到一个asr_keywords_utf8.txt的文件，这个SDK的思路是这样：把自己想识别的文字写到asr_keywords_utf8.txt中，然后上传到讯飞的服务器上，然后返回一个GrammarID，据说上传一次&ldquo;终身有效&rdquo;，意思就是不让重复上传占用服务器空间，反正有了这个GrammarID以后在不同的程序中想识别相同的文字就直接用好了，比如我想识别&ldquo;左，右，上，下，图书馆，独自&rdquo;，把这些汉字写到asr_keywords_utf8.txt中，而且必须是utf-8的格式，当然在linux下默认如此。下面是我写的上传这个txt并获得GrammarID的代码：</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><div class="dp-highlighter bg_cpp" style="font-family: Consolas, 'Courier New', Courier, mono, serif; background-color: #e7e5dc; width: 1040.484375px; overflow: auto; padding-top: 1px; line-height: 26px; margin: 18px 0px !important"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c"><strong>[cpp]</strong>&nbsp;<a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="view plain" class="ViewSource">view plain</a><a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="copy" class="CopyToClipboard">copy</a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260" target="_blank" title="在CODE上查看代码片"><img style="border: none; position: relative; top: 1px; left: 2px" src="https://code.csdn.net/assets/CODE_ico.png" border="0" alt="在CODE上查看代码片" width="12" height="12" /></a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260/fork" target="_blank" title="派生到我的代码片"><img style="border: none; position: relative; top: 2px; left: 2px" src="https://code.csdn.net/assets/ico_fork.svg" border="0" alt="派生到我的代码片" width="12" height="12" /></a></div></div><ol class="dp-cpp" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; margin: 0px 0px 1px 45px !important"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;stdio.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;string.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;stdlib.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;unistd.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;qisr.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#define&nbsp;TRUE&nbsp;1</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#define&nbsp;FALSE&nbsp;0</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;main()&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;ret&nbsp;=&nbsp;QISRInit(</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;appid=xxxxxxx&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(ret&nbsp;!=&nbsp;MSP_SUCCESS)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRInit&nbsp;with&nbsp;errorCode:&nbsp;%d&nbsp;&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;GrammarID[128];&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;memset(GrammarID,&nbsp;0,&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">sizeof</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(GrammarID));&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;MAX_KEYWORD_LEN&nbsp;=&nbsp;4096;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;MSP_SUCCESS;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;*&nbsp;sessionID&nbsp;=&nbsp;NULL;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;sessionID&nbsp;=&nbsp;QISRSessionBegin(NULL,&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;ssm=1,sub=asr&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;&amp;ret);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(ret&nbsp;!=&nbsp;MSP_SUCCESS)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRSessionBegin&nbsp;with&nbsp;errorCode:&nbsp;%d&nbsp;&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;ret;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;UserData[MAX_KEYWORD_LEN];&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;memset(UserData,&nbsp;0,&nbsp;MAX_KEYWORD_LEN);&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">FILE</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;fp&nbsp;=&nbsp;fopen(</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;asr_keywords_utf8.txt&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;rb&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(fp&nbsp;==&nbsp;NULL)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;keyword&nbsp;file&nbsp;cannot&nbsp;open&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;len&nbsp;=&nbsp;(unsigned&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">)fread(UserData,&nbsp;1,&nbsp;MAX_KEYWORD_LEN,&nbsp;fp);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;UserData[len]&nbsp;=&nbsp;0;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;fclose(fp);&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;testID&nbsp;=&nbsp;QISRUploadData(sessionID,&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;contact&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;UserData,&nbsp;len,&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;dtt=keylist&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;&amp;ret);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(ret&nbsp;!=&nbsp;MSP_SUCCESS)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRUploadData&nbsp;with&nbsp;errorCode:&nbsp;%d&nbsp;&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;ret;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;memcpy((<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">void</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*)GrammarID,&nbsp;testID,&nbsp;strlen(testID));&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;GrammarID:&nbsp;&#92;&quot;%s&#92;&quot;&nbsp;&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;GrammarID);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;QISRSessionEnd(sessionID,&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;normal&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&#125;&nbsp;&nbsp;</span></li></ol></div><br /><span style="font-size: 14px; line-height: 26px; font-family: Arial">&nbsp; &nbsp; &nbsp; &nbsp; 这样GrammarID会输出到终端中，记下来就妥了。然后是录制要识别的音频文件，原来不知道要求，直接用ubuntu自带的录音机录了一段，发现总也识别不了，在bbs上问了问题才搞明白，讯飞语音对语音的要求如下：采样率16K或8KHz，采样位是16位，单声道，格式是PCM或WAV。自带的录音软件都是默认32位采样，只能用ffmpeg或自己写代码录制，ffmpeg命令如下：</span><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><div class="dp-highlighter bg_plain" style="font-family: Consolas, 'Courier New', Courier, mono, serif; background-color: #e7e5dc; width: 1040.484375px; overflow: auto; padding-top: 1px; line-height: 26px; margin: 18px 0px !important"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c"><strong>[plain]</strong>&nbsp;<a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="view plain" class="ViewSource">view plain</a><a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="copy" class="CopyToClipboard">copy</a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260" target="_blank" title="在CODE上查看代码片"><img style="border: none; position: relative; top: 1px; left: 2px" src="https://code.csdn.net/assets/CODE_ico.png" border="0" alt="在CODE上查看代码片" width="12" height="12" /></a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260/fork" target="_blank" title="派生到我的代码片"><img style="border: none; position: relative; top: 2px; left: 2px" src="https://code.csdn.net/assets/ico_fork.svg" border="0" alt="派生到我的代码片" width="12" height="12" /></a></div></div><ol style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; margin: 0px 0px 1px 45px !important"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">ffmpeg&nbsp;-f&nbsp;alsa&nbsp;-i&nbsp;hw:0&nbsp;-ar&nbsp;16000&nbsp;-ac&nbsp;1&nbsp;lib.wav&nbsp;&nbsp;</span></span></li></ol></div><br /><span style="font-size: 14px; line-height: 26px; font-family: Arial">&nbsp; &nbsp; &nbsp; &nbsp; 我用普通话录了2秒的&ldquo;图书馆&rdquo;音频，下面是识别的代码：</span><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><div class="dp-highlighter bg_cpp" style="font-family: Consolas, 'Courier New', Courier, mono, serif; background-color: #e7e5dc; width: 1040.484375px; overflow: auto; padding-top: 1px; line-height: 26px; margin: 18px 0px !important"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c"><strong>[cpp]</strong>&nbsp;<a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="view plain" class="ViewSource">view plain</a><a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="copy" class="CopyToClipboard">copy</a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260" target="_blank" title="在CODE上查看代码片"><img style="border: none; position: relative; top: 1px; left: 2px" src="https://code.csdn.net/assets/CODE_ico.png" border="0" alt="在CODE上查看代码片" width="12" height="12" /></a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260/fork" target="_blank" title="派生到我的代码片"><img style="border: none; position: relative; top: 2px; left: 2px" src="https://code.csdn.net/assets/ico_fork.svg" border="0" alt="派生到我的代码片" width="12" height="12" /></a></div></div><ol class="dp-cpp" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; margin: 0px 0px 1px 45px !important"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;stdio.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;string.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;stdlib.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;unistd.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#include&nbsp;&lt;qisr.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#define&nbsp;TRUE&nbsp;1</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: gray" class="preprocessor">#define&nbsp;FALSE&nbsp;0</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;run_asr(</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;asrfile);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;BUFFER_NUM&nbsp;=&nbsp;4096;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;MAX_KEYWORD_LEN&nbsp;=&nbsp;4096;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;main(</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;argc,&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;argv[])&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;ret&nbsp;=&nbsp;MSP_SUCCESS;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;asrfile&nbsp;=</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;lib.wav&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;QISRInit(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;appid=xxxxxx&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(ret&nbsp;!=&nbsp;MSP_SUCCESS)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRInit&nbsp;with&nbsp;errorCode:&nbsp;%d&nbsp;&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;run_asr(asrfile);&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;QISRFini();&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;key&nbsp;=&nbsp;getchar();&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;run_asr(</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;asrfile)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;ret&nbsp;=&nbsp;MSP_SUCCESS;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;i&nbsp;=&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">FILE</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;fp&nbsp;=&nbsp;NULL;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;buff[BUFFER_NUM];&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;len;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;status&nbsp;=&nbsp;MSP_AUDIO_SAMPLE_CONTINUE,&nbsp;ep_status&nbsp;=&nbsp;-1,&nbsp;rec_status&nbsp;=&nbsp;-1,&nbsp;rslt_status&nbsp;=&nbsp;-1;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//const&nbsp;char*&nbsp;GrammarID=&quot;e7eb1a443ee143d5e7ac52cb794810fe&quot;;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;*GrammarID=</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;c66d4eecd37d4fe1c8274a2224b832d5&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;param&nbsp;=&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;rst=json,sub=asr,ssm=1,aue=speex,auf=audio/L16;rate=16000&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//注意sub=asr</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;sess_id&nbsp;=&nbsp;QISRSessionBegin(GrammarID,&nbsp;param,&nbsp;&amp;ret);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;MSP_SUCCESS&nbsp;!=&nbsp;ret&nbsp;)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRSessionBegin&nbsp;err&nbsp;%d&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;ret;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;fp&nbsp;=&nbsp;fopen(&nbsp;asrfile&nbsp;,&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;rb&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;NULL&nbsp;==&nbsp;fp&nbsp;)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;failed&nbsp;to&nbsp;open&nbsp;file,please&nbsp;check&nbsp;the&nbsp;file.&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QISRSessionEnd(sess_id,&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;normal&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;-1;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;writing&nbsp;audio...&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;count=0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">while</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;!feof(fp)&nbsp;)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len&nbsp;=&nbsp;(unsigned&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">)fread(buff,&nbsp;1,&nbsp;BUFFER_NUM,&nbsp;fp);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feof(fp)&nbsp;?&nbsp;status&nbsp;=&nbsp;MSP_AUDIO_SAMPLE_LAST&nbsp;:&nbsp;status&nbsp;=&nbsp;MSP_AUDIO_SAMPLE_CONTINUE;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(status==MSP_AUDIO_SAMPLE_LAST)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;MSP_AUDIO_SAMPLE_LAST&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(status==MSP_AUDIO_SAMPLE_CONTINUE)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;MSP_AUDIO_SAMPLE_CONTINUE&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;QISRAudioWrite(sess_id,&nbsp;buff,&nbsp;len,&nbsp;status,&nbsp;&amp;ep_status,&nbsp;&amp;rec_status);&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;ret&nbsp;!=&nbsp;MSP_SUCCESS&nbsp;)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;&#92;nQISRAudioWrite&nbsp;err&nbsp;%d&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">break</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;%d&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,count++);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;rec_status&nbsp;==&nbsp;MSP_REC_STATUS_SUCCESS&nbsp;)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;result&nbsp;=&nbsp;QISRGetResult(sess_id,&nbsp;&amp;rslt_status,&nbsp;0,&nbsp;&amp;ret);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(ret&nbsp;!=&nbsp;MSP_SUCCESS&nbsp;)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;error&nbsp;code:&nbsp;%d&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">break</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">else</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(&nbsp;rslt_status&nbsp;==&nbsp;MSP_REC_STATUS_NO_MATCH&nbsp;)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;get&nbsp;result&nbsp;nomatch&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">else</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;result&nbsp;!=&nbsp;NULL&nbsp;)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;get&nbsp;result[%d/%d]:len:%d&#92;n&nbsp;%s&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret,&nbsp;rslt_status,strlen(result),&nbsp;result);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;.&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(ret&nbsp;==&nbsp;MSP_SUCCESS)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;get&nbsp;reuslt~~~~~~~&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;asr_result[1024]&nbsp;=&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;pos_of_result&nbsp;=&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;loop_count&nbsp;=&nbsp;0;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">do</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">const</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*&nbsp;result&nbsp;=&nbsp;QISRGetResult(sess_id,&nbsp;&amp;rslt_status,&nbsp;0,&nbsp;&amp;ret);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;ret&nbsp;!=&nbsp;0&nbsp;)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRGetResult&nbsp;err&nbsp;%d&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;ret);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">break</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">(&nbsp;rslt_status&nbsp;==&nbsp;MSP_REC_STATUS_NO_MATCH&nbsp;)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;get&nbsp;result&nbsp;nomatch&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">else</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(&nbsp;result&nbsp;!=&nbsp;NULL&nbsp;)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">FILE</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">*f=fopen(</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;data.txt&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;wb&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;~~~%d&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,strlen(result));&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fwrite(result,1,strlen(result),f);&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fclose(f);&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: #008200" class="comment">//</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;[%d]:get&nbsp;result[%d/%d]:&nbsp;%s&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;(loop_count),&nbsp;ret,&nbsp;rslt_status,&nbsp;result);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(asr_result+pos_of_result,result);&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos_of_result&nbsp;+=&nbsp;(unsigned&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #2e8b57" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">)strlen(result);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">else</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;[%d]:get&nbsp;result[%d/%d]&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,(loop_count),&nbsp;ret,&nbsp;rslt_status);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usleep(500000);&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">while</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(rslt_status&nbsp;!=&nbsp;MSP_REC_STATUS_COMPLETE&nbsp;&amp;&amp;&nbsp;loop_count++&nbsp;&lt;&nbsp;30);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">if</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(strcmp(asr_result,</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">)==0)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;no&nbsp;result&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;QISRSessionEnd(sess_id,&nbsp;NULL);&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;printf(<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: blue" class="string">&quot;QISRSessionEnd.&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;fclose(fp);&nbsp;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; background-color: inherit; font-weight: bold; color: #006699" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">&#125;&nbsp;&nbsp;</span></li></ol></div><br /><span style="font-size: 14px; line-height: 26px; font-family: Arial">输出结果如下：</span><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><div class="dp-highlighter bg_plain" style="font-family: Consolas, 'Courier New', Courier, mono, serif; background-color: #e7e5dc; width: 1040.484375px; overflow: auto; padding-top: 1px; line-height: 26px; margin: 18px 0px !important"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: #f8f8f8; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c"><strong>[plain]</strong>&nbsp;<a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="view plain" class="ViewSource">view plain</a><a style="color: #a0a0a0; text-decoration: none; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="http://blog.csdn.net/littlethunder/article/details/17047663#" title="copy" class="CopyToClipboard">copy</a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260" target="_blank" title="在CODE上查看代码片"><img style="border: none; position: relative; top: 1px; left: 2px" src="https://code.csdn.net/assets/CODE_ico.png" border="0" alt="在CODE上查看代码片" width="12" height="12" /></a><a style="color: #a0a0a0; text-decoration: none; background-image: none; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; background-position: 0% 0%; background-repeat: no-repeat no-repeat" href="https://code.csdn.net/snippets/90260/fork" target="_blank" title="派生到我的代码片"><img style="border: none; position: relative; top: 2px; left: 2px" src="https://code.csdn.net/assets/ico_fork.svg" border="0" alt="派生到我的代码片" width="12" height="12" /></a></div></div><ol style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: #ffffff; color: #5c5c5c; margin: 0px 0px 1px 45px !important"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">kl@kl-Latitude:~/xunfeiSDK$&nbsp;./a.out&nbsp;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">writing&nbsp;audio...&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">0&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">1&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">2&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">3&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">4&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">5&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">6&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">7&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">8&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">9&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">10&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">11&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">12&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">13&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">14&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">15&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">16&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">17&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">18&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">19&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">20&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">21&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_CONTINUE&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">22&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.MSP_AUDIO_SAMPLE_LAST&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">23&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">.&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">get&nbsp;reuslt~~~~~~~&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">[0]:get&nbsp;result[0/2]&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">~~~123&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">[1]:get&nbsp;result[0/5]:&nbsp;&#123;&quot;sn&quot;:1,&quot;ls&quot;:true,&quot;bg&quot;:0,&quot;ed&quot;:0,&quot;ws&quot;:[&#123;&quot;bg&quot;:0,&quot;cw&quot;:[&#123;&quot;sc&quot;:&quot;85&quot;,&quot;gm&quot;:&quot;0&quot;,&quot;w&quot;:&quot;图书馆&quot;,&quot;mn&quot;:[&#123;&quot;contact&quot;:&quot;图书馆&quot;&#125;]&#125;]&#125;]&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; background-color: #f8f8f8; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit; color: black">QISRSessionEnd.&nbsp;&nbsp;</span></li></ol></div><br /><span style="font-size: 14px; line-height: 26px; font-family: Arial">&nbsp; &nbsp; &nbsp; &nbsp; 这个输出格式是个坑，因为官方的例子默认是直接输出识别的结果，但是结果是GB2312格式的，在linux终端下是乱码，后来才搞明白，在QISRSessionBegin（）函数初始化的时候第二个参数param中的rst改成json，就是按照json格式把所有结果全输出来后，是utf8格式的汉字，之后再用json模块来解就妥妥的了~整体代码很清晰，简单说一下:</span><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">1.先要调用QISRInit（）函数，参数是自己的appid，每个SDK都是注册才能下载的，所以是唯一的，用来区分用户的，不同级别的用户每天可以使用SDK的次数有限制，毕竟人用的多了语音识别的性能肯定会下降；</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">2.之后就是把GrammarID，输入输出的参数param和调用状态返回值ret作为参数传入QISRSessionBegin（）函数中进行初始化，返回值是sessionID，这个是后面所有函数的主要参数之一；</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">3.打开自己的音频文件，调用QISRAudioWrite（）函数写入，可以分段也可以一次，第一个参数是sessionID，上面初始化函数返回的值，第二个参数是音频数据头指针，第三个参数是音频文件大小，第四个参数是音频发送的状态，表示发送完了没有，剩下两个是服务器端检测语音状态和识别状态的返回值；</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">4.调用QISRGetResult（）函数获取识别的结果，第一个参数还是sessionID，第二个参数是输出识别的状态，第三个参数是与服务器交互的间隔时间，官方建议5000，我取为0，第四个参数是调用状态返回值ret，最后这个函数的返回值就是上面结果的json数据了；</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">5.最后的收尾清理工作，毕竟是C语言，不是java~哈哈</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">转载请注明：转自<a style="color: #ca0000; text-decoration: none" href="http://blog.csdn.net/littlethunder/article/details/17047663" target="_blank">http://blog.csdn.net/littlethunder/article/details/17047663</a></p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?1936</link>
<title><![CDATA[MPEG-4标准定义的音频压缩格式 AAC 详解 ]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[音频处理]]></category>
<pubDate>Fri, 02 Mar 2012 09:29:21 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?1936</guid> 
<description>
<![CDATA[ 
	<p>流媒体中国 　一、AAC简介 </p><p>　　AAC代表Advanced Audio Coding(高级音频编码)，是一种由MPEG-4标准定义的有损音频压缩格式，由Fraunhofer发展，Dolby, Sony和AT&amp;T是主要的贡献者。在使用MP4作为各种内容的容器格式的新多媒体MPEG-4标准中，它是MPEG Layer III / MP3的天然后继者。AAC能够在一条音轨中包括48条全带宽（直到96khz）音频声道，加上15条低频增强（LFE，限制到120Hz）声道，直到15条数据流并且更多。 </p><p>　　与MPEG-4视频一样，AAC有着不同的Profile，其中Low Complexity Profile(LC AAC) (也叫MAIN @ Level 2)最被广泛用于商业市场（例如Apple非常著名的iTunes音乐库），其他有象Long Term Prediction Profile(LTP/长期预测), Scalable Sampling Rate Profile(SSR/可变采样率) 和Low Delay Profile(LD/低延迟)。 </p><p><br />　　HE-AAC和LC-AAC是MPEG4 AAC标准的不同的Profile(类)。LC意思是&quot;low complexity&quot;(低复杂性)而HE意思是&quot;high efficiency&quot;(高效性)。HE-AAC也称之为AAC SBR/AAC+/aacplus等。注意HE-AAC注重于低码流的编码并很适合多声道文件（更小的文件尺寸）。对于HE-AAC文件，也需要一个可用的HE解码器。</p><p>　　从学术上讲，HE-AAC混合了AAC与SBR技术。SBR代表的是Spectral Band Replication(频段复制)。SBR的关键是在低码流下提供全带宽的编码而不会产生产生多余的信号。传统认为音频编码在低码流下意味着减少带宽和降低采样率（见MP3 FAQ #7）或产生令人不快的噪音信号。SBR解决问题的方法是让核心编码去编码低频信号，而SBR解码器通过分析低频信号产生高频信号和一些保留在比特流中的指导信号（通常码流极低，~2 kbps）。这就是采用无SBR解码器的原因，这样你的带宽(frequency response/频率响应)会被严重浪费。这也是为什么被叫做Spectral Band Replication的原因，它只是增加音频的带宽，而非重建。</p><p><br />　　二、AAC与其他流行音频编码的比较（感谢rjamorim）</p><p>　　其他优秀格式在128kbps与LC AAC的音质比较： </p><p><img class="insertimage" src="attachment.php?fid=668" border="0" /></p><p>　　注意lame（可用的最好mp3编码器）和vorbis在他们最新的版本中提供了更加优良的音质（同样你可以看这里）。 </p><p>　　也注意在这次测试中使用的wma9 pro编码，是一种与标准wma9编码完全不同，并且提供更加优良音质的编码（使用在音像店和CD唱机里）并且不是向后兼容的。 </p><p>　　低比特率和多声道编码的AAC提供了高效延展性（HE ACC），同样在低比特率中是一种最好的格式之一： </p><p><br />　　其他流行格式在64kbps与HE AAC的音质比较（感谢rjamorim） </p><p><img class="insertimage" src="attachment.php?fid=669" border="0" /></p><p>　　注意QT是在Quicktime中提供的LC AAC编码，He是在nero中。 </p><p>　　继承Parametric Stereo(参数立体声)延伸（PS AAC）技术，同时使用HE AAC用于低码率的它（Nero完善中）不得不题及。在32kbps它如何与其他编码比较可以看这里。 </p><p>　　由rjamorim总结出公共收听测试结果，在128kbps比较这些AAC编码方式可以在这里和那里得到答案。<br /><br /></p><p>三、如何编码AAC？ </p><p>单LC Profile： </p><p>FAAC (免费高级音频编码器)：免费开源的LC-ACC [CLI, DirectShow (3ivx), foobar, CoolEdit, WinAmp] <br />Apple's AAC：CBC只能用于quicktime &lt;7，quicktime 7和之后版本包括VBR AAC。Apple的编码不能处理多声道。[Quicktime专业版, iTunes]iTunes 使用同样的编码但可以免费获取。使用quicktime编码的命令行解码器同样可行。iTunes/apple编码是以最初Dolby编码为基础，并且为音质作了较大的调整，尽管只采用CBC但事实上音质非常好。 <br />PsyTEL AACENC：多声道不要用它，因为它会产生错误的声道映射。[命令行, AACMachine ( BeSweet的GUI ) ] <br />Dicas' Compaact AAC编码器 <br />Sorenson AAC编码器 <br />Winamp版本5和以上的版本拥有在Dolby编码基础上的LC ACC编码器特色，但并没有像iTunes那么多的调节功能。 </p><p>LC &amp; HE Profile： </p><p>Nero Burning Rom（在额外的菜单中编码文件）和附随的Wave Editor允许LC和HE AAC两种编码。另外可以在cd-rw.org得到Nero AAC/MP4插件。 <br />RealPlayer 10 黄金版和Real Producer 10同样也包括基于Coding Technologies执行的HE/LC AAC编码器。RP10 黄金版现在默认编码AAC成M4A，并且是一种极好的免费AAC编码解决方案。用Real Producer编码HE AAC，你也需要helix的其他插件包。 </p><p>GUIs/前端： </p><p>BeSweet：由于DSPguru的贡献，可以通过BeSweet编码Nero AAC。有两个非常优秀的GUIs，附带Doom9指南的OagMachine和BeSweetGUI。注意：BeSweet使用者需要确定使用更新的正式版本，更多信息请参阅Q#19。 <br />foobar2000：使用nero aac编码/解码器插件（foo_nero.dll）你可以直接转换任何音频到Nero LC/HE AAC，同样有可以参考的指南。注意为了diskwriter插件你需要foobar特别版。用diskwriter插件和命令行的FAAC（可以从rarewares得到）Foobar也同样可以编码成FAAC aac。 <br />HeadAC3he的新版本也可以从AC3, WAV或是任何其他HeadAC3he支持的输入格式编码到FAAC aac。 <br />winLame：DeXt制作的multi-tool GUI，现在支持通过FAAC编码AAC。 </p><p>其他平台下（Linux, MAC OS 10, 其他等等）编码： </p><p>　　FAAC和FAAD是GPL(GNU通用公共许可证)软件，可以在OS X, Linux和绝大部分unixes下编译。FAAC编码也在avidemux, mencoder, gstreamer和其他编码工具下实现。大多数主要的多媒体distributions产品都包括这些。 </p><p>普通的FAAC编译说明如下：（摘录于FAAC文档） </p><p>　　①确保你已经安装autoconf, automake和libtool。为了支持mp4, libmp4v2必须也安装（包括在较老的faad2源中，或是新的FAAC cvs(Concurrent Version System/版本控制系统)源码）。 <br />　　②解压源文档：tar xvzf faac-x.xx.tar.gz <br />　　③dir(显示列表) cd到FAAC源码 <br />　　④Run: ./bootstrap <br />　　　./configure <br />　　　make <br />　　　make install </p><p>　　Binary版也同样可用于几个平台： Debian 　RPMs <br /><br />四、AAC问答</p><p>1、有没有可能在转换AC3/DTS到AAC后还能保留5.1声道呢？ </p><p>嗯，用Oagmachine/BeSweetGuI就可以实现。Doom9有篇相关的教材。不过，记住AC3和DTS都是有损音频格式，任何在它们基础上的转码行为都将导致更严重的音质损失。当音频转码时并且需要大幅度减小文件体积时，HE-AAC推荐使用。同样，音频转换还可以通过graphedit搭配3ivx滤镜套件（AC3-&gt;AC3 parser-&gt;AC3 filter-&gt;3ivx audio encoder-&gt;3ivx media muxer-&gt;MP4）或者foobar来实现。需要更多AC3和DTS的转码的信息请见这两种编码各自的FAQ部分。 </p><p>2、目前有没有一个开源的AAC编/解码器存在呢？ </p><p>FAAC和FAAD2（仅LC）就是开源的AAC编解码器。CoreAAC Directshow filter，winamp插件和许多AAC解码器其实都是源于FAAD2，都具有解码HE-AAC和LC的能力。官方FAAC/FAAD2站点如下：<a href="http://www.audiocoding.com/">www.audiocoding.com</a>。 </p><p>3、我怎么混合AAC到AVI/OGM/MKV/MP4？ </p><p>AVI：AVI MUX GUI是仅有的允许混合AAC到AVI的应用软件。注意不推荐AVI作为AAC的容器格式，推荐现代的容器格式如（AAC专门容器格式）。 </p><p>OGM：Ogg Mux Nic能直接混合LC AAC到OGM。对于HE-AAC，请使用3ivx滤镜套件与Graphedit。 </p><p>MKV：MKVtoolnix和AVI MUX GUI都能混合AAC到Matroska。 </p><p>MP4：3ivx滤镜套件与Graphedit。 <br />Nero Recode2能自动直接把DVD转换带有NeroDigital或HE AAC的MP4。其他一些支持MP4混合的软件包括Ivan&amp;Menno和mp4UI。更多关于MP4(MPEG-4)容器格式的信息请看MP4 FAQ。 </p><p>注意当从raw .aac流混合HE-AAC时，你必须在MKVtoolnix和AVImux GUI中让muxer是&ldquo;AAC is SBR&rdquo;。当混合.mp4时，SBR自动被侦测。 </p><p>4、关于AAC回放我需要什么？ </p><p>下载并安装CoreAAC DirectShow filter或3ivx audio decoder（3ivx codec内有）都能在directshow播放器杰出地回放（LC和HE都可）。 关于最新的CoreAAC滤镜与winamp/foobar插件， 请看在HydrogenAudio.org中john33的帖子。 </p><p>注意对于MP4流，在directshow播放器上回放3ivx或其他的MPEG-4分离滤镜(splitter)是必需的。对于raw AAC流，rarewares上的AACparser滤镜也是必需的。当muxing成OGM或Matroska时，适当的分离滤镜)也是必需的。更多信息请参看New Container Formats 版块的FAQs。 </p><p>5、关于在linux / Unix下回放AAC有什么要求？ </p><p>任何最新版及相关版的mplayer包括了对MP4格式与用FAAD解码AAC的支持。FAAD已经包含在mplayer的源码中，而且无需另外的库文件或编译。 </p><p>VLC支持AAC当然MP4也是，但如果你的VLC是源码包版的你就需要安装FAAD作为AAC支持。通常你在编译VLC的源码前需要检查VLC需要的库文件目录。</p><p>　　6、MPEG-4与MPEG-2 AAC的不同点是什么？ </p><p>事实上MPEG-4与MPEG-2 AAC流除了在文件头(header)上并没有什么区别。但是一些应用软件象QuickTime并不承认MPEG-2 AAC。使用Ivan &amp; Menno改变文件头。别的程序象Nic的AAC Patch或foobar2000都可修正文件头。 </p><p>7、*.AAC，*.MP4，*.M4A(audio/x-m4p AAC audio(受保护))之间的区别是什么？ </p><p>AAC文件通常包含带ADTS文件头的AAC或者原始(raw)AAC数据流。Raw AAC若没有编码其中几条数据流是不能被处理的。MP4，在另一层面，是一种包含AAC流和其他许多符合MPEG4标准的东西的容器格式。这两种数据格式是很不同的，因此你不能给它们相互重命名，它们只是被混合入容器格式中或者被分离出。混合AAC到MP4和其分离Ivan &amp; Menno可以完成。 M4A是MP4容器中常见的音轨，其实是我们自己重命名后缀的。Itunes, Winamp5和Realplayer金版现在默认都编码成M4A。注意M4A和MP4文件能通过简单重命名相互混淆，但它们都是同一种容器格式的扩展。 </p><p>注意&ldquo;Export ISO 13818-7 Stream&rdquo;选项在Nero编码器产生的是带ADTS文件头的*.AAC文件。再次提醒这不是原始AAC数据流，Ivan &amp; Menno能转换成原始aac。 </p><p>更多关于MP4容器格式的信息请到恰当的FAQ寻找。 </p><p>8、我怎样可以分割合并AAC文件？ </p><p>AAC在MP4中： <br />MP4Box可以被用来分割合并所有包括这些AAC音频的MP4文件。完整信息可参阅此帖。 </p><p>有ACC的MP4也可以直接被QuickTime专业版编辑。 </p><p>原始AAC流： </p><p>原始AAC流(*.aac) 可以使用BeSplit分割合并。 </p><p>分割： besplit -core( -input in.aac -prefix out -type aac -ending ) -split( 0.0 x.x ) </p><p>　　这个命令可以剪切in.aac成两部分：0.0 秒到x.x 秒和 x.x 秒到文件结尾（-ending）。 </p><p>合并： <br />　　首先产生一个列表文件，一个文本文件用分隔线把每个要被合并的文件列于表上。然后保存成join.lst并且使用BeSplit： </p><p>　　besplit -core( -input join.lst -prefix out -type aac -join ) </p><p>　　也可以通过命令提示符来合并AAC流(*.aac) ： </p><p>　　copy /b first.aac + second.aac joined.aac </p><p>9、AAC音频格式的优缺点各是什么？ </p><p>优点： </p><p>低比特率（具有与其他编码可比的音质）和较小文件尺寸，要求使用SBR技术。 </p><p>多声道（可以实现直到48 条全带宽声道） </p><p>AAC是MPEG-4标准的正式音频格式，并且未来硬件支持也是很有希望的。 </p><p>缺点： </p><p>暂时没有单独的回放AAC可用。 </p><p>AAC是重大的专利技术。 </p><p>10、有没有可能通过S/PDIF端回放AAC？ </p><p>这是可行的，虽然并不是所有的硬件上都可以实现。只有一部分硬件支持解码AAC，且没有一个directshow滤镜有能力实现AAC的信号pass-through。当然，这在将来一定会实现的。点击这里和那里阅读更多的S/PDIF和AAC的硬件支持信息。 </p><p>然而，在通过S/PDIF回放AAC成为可行之前，有不少directshow的滤镜可以通过S/PDIF进行实时的6声道AAC=&gt;AC3的转换，Haaan的Dolby Out DS滤镜，1.x版本的AC3Filter都可以实现。虽然，理论上来说，实时转录过程会有一定程度的音质损失，但使用640kbps全码仍然会得到完美的监听效果和最小的音质损失。</p><p>　　11、5.1 LC AAC和5.1HE AAC各声道的码率是如何分配的？怎样的码率设置才能使5.1的AAC各声道均分为128kbps？ </p><p>为了使每个声道的码率相同，我们必须添加2x（立体声的码率）（FL(左前置)、FR(右前置)、RL(左后置)&amp; RR(右后置)）+1x（单声道的码率(Centre)）+一点附加的码率给低音炮。这样的话，为了达到各声道码率统一，总码率要等于立体声码率的2.5至3倍。所以，为了得到每声道128kbps：128kbps*2.5=320kbps。对于LC AAC而言，320kbps是一个高质量的码率。然而，考虑到AAC的效率和声道联结方式，128kbps的HE-AAC同样可以提供很不错的音质及5.1声道。 </p><p>12、nero使用的HE-AAC的码率是多少？ </p><p>96kbps或更低的CBR码率时使用HE-AAC；流媒体或更低的VBR码率使用HE-AAC。如果输入源是5.1的aiff，则nero可以生成的128kbps的HE-AAC。 </p><p>13、我在使用BSN/Oagmachine编码AAC的时候如何设置增益调节(gain)？ </p><p>虽然BeSweet/Bsn有Hybrid(混合)增益调节的组件，但现在没有一个Directshow滤镜有能力处理Hybrid增益调节的信息。所以，现在我们不推荐此类设置，使用标准化或前期增益调节来代替吧。 </p><p>14、有没有可以被VirtualDub调用的AAC ACM(Audio Compression Manager/声音压缩管理器)编码吗？ </p><p>由于目前AAC与AVI之间并未完全兼容，所以还没有ACM AAC编码。在FAAC开发过程中曾经试图做过类似的努力却并未成功。 </p><p>15、我已经安装了所有的BeSweet和Bsn文件，但Besweet/Nero并没有开始编码，请帮帮我？ </p><p>要通过BeSweet/BSN/Oagmachine/BeSweet GUI来编码Nero AAC，那么有三个dll动态链接文件是必须的：'aac.dll', 'aacenc32.dll'和'NeroIPP.dll'。这三个dll要放入BeSweet文件夹。从60023版开始，aac.dll和aacenc32.dll要检查注册表中是否有NeroIPP的dll，所以系统中必须要安装Nero Ultra Edition或NeroMix。 </p><p>16、在用OagMachine/BeSweet编码时我看不到Nero GUI编码窗口，要如何才能激活它？ </p><p>Oagmachine里，在AAC编码选项下检查&ldquo;show configuration dialogue&rdquo;。如果你使用的是命令行模式，就请在命令行里的'-bsn'后加上'-config'即可。 </p><p>17、为什么我回放用Oagmachine/BeSweet GUI编码的48Khz的AC3/DTS文件时声音会变慢？ </p><p>那可能你使用的时老版本的BeSweet，从bsn.dll v0.21以后（与BeSweet捆绑）这个bug就已经被修复。请查一下你BeSweet文件的记录文件，确定你使用的是bsn.dll v0.21。 <br />老版本更多的bug信息： <br />Nero编码器是通过比特率、配置和声道数来准确判定相应的采样率的。当你使用的bsn版本早于0.21时，nero内部的重采样功能默认不被打开，从而你必须在Nero编码器中手动修改采样率。这里有一篇由bond编写的关于如何决定正确的采样率及相关大量解释的文章。 </p><p>18、如何我才能使自己编码出来的AAC是HE而非LC？ </p><p>让CoreAAC DirectShow filter勾上&ldquo;AAC+SBR&rdquo;功能选项。Foobar2000里也同样如此。3ivx音频解码设置里选择的是HE-AAC。 </p><p>19、在使用600X nero插件时，Oagmachine/BeSweetGUI里的哪个选项是负责控制多声道的？ </p><p>在6.0011和它之前的老版本里请使用-6chold选项，而6.0011之后的请用-6chnew。 </p><p>20、我用Nero编码的HE-AAC里有爆音存在，我做错了什么吗？ </p><p>在Nero编码GUI里打开PNS选项后就会产生这个问题，去掉这个PNS后就可以解决。 </p><p></p><p>本文来自：流媒体中国(Liumeiti.com)，转载请标明出处；<br />原文出处：<a href="http://www.liumeiti.com/contents/97/126329_3.html">http://www.liumeiti.com/contents/97/126329_3.html</a></p>
]]>
</description>
</item><item>
<link>http://i.renjihe.com/blog/read.php?1935</link>
<title><![CDATA[各种音频编码方式的比对]]></title> 
<author>renjihe1988 &lt;admin@yourname.com&gt;</author>
<category><![CDATA[音频处理]]></category>
<pubDate>Fri, 02 Mar 2012 09:17:43 +0000</pubDate> 
<guid>http://i.renjihe.com/blog/read.php?1935</guid> 
<description>
<![CDATA[ 
	<div class="resizeimg"><div>各种音频编码方式的比对</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">PCM编码(原始数字音频信号流)</span></div><div>类型：Audio</div><div>制定者：ITU-T</div><div>所需频宽：1411.2 Kbps</div><div>特性：音源信息完整，但冗余度过大</div><div>优点：音源信息保存完整,音质好</div><div>缺点：信息量大，体积大，冗余度过大</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：在计算机应用中，能够达到最高保真水平的就是PCM编码，被广泛用于素材保存及音乐欣赏，CD、DVD以</div><div><br /></div><div>及我们常见的WAV文件中均有应用。因此，PCM约定俗成了无损编码，因为PCM代表了数字音频中最佳的保真水准</div><div><br /></div><div>，并不意味着PCM就能够确保信号绝对保真，PCM也只能做到最大程度的无限接近。要算一个PCM音频流的码率是</div><div><br /></div><div>一件很轻松的事情，采样率值&times;采样大小值&times;声道数bps。一个采样率为44.1KHz，采样大小为16bit，双声道的</div><div><br /></div><div>PCM编码的WAV文件，它的数据速率则为 44.1K&times;16&times;2 =1411.2Kbps。我们常见的Audio CD就采用了PCM编码，一</div><div><br /></div><div>张光盘的容量只能容纳72分钟的音乐信息。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">WMA(Windows Media Audio)</span></div><div>类型：Audio</div><div>制定者：微软公司</div><div>所需频宽：320～112kbps（压缩10～12倍）</div><div>特性：当Bitrate小于128K时，WMA几乎在同级别的所有有损编码格式中表现得最出色，但似乎128k是WMA一个槛</div><div><br /></div><div>，当Bitrate再往上提升时，不会有太多的音质改变。</div><div>优点：当Bitrate小于128K时，WMA最为出色且编码后得到的音频文件很小。</div><div>缺点：当Bitrate大于128K时，WMA音质损失过大。WMA标准不开放，由微软掌握。</div><div>应用领域：voip</div><div>版税方式：按个收取</div><div>备注：WMA的全称是Windows Media Audio，它是微软公司推出的与MP3格式齐名的一种新的音频格式。由于WMA</div><div><br /></div><div>在压缩比和音质方面都超过了MP3，更是远胜于RA(Real Audio)，即使在较低的采样频率下也能产生较好的音质</div><div><br /></div><div>，再加上WMA有微软的Windows Media Player做其强大的后盾，所以一经推出就赢得一片喝彩。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">ADPCM( 自适应差分PCM)</span></div><div>类型：Audio</div><div>制定者：ITU-T</div><div>所需频宽：32Kbps</div><div>特性：ADPCM(adaptive difference pulse code modulation)综合了APCM的自适应特性和DPCM系统的差分特性</div><div><br /></div><div>，是一种性能比较好的波形编码。</div><div>它的核心想法是：</div><div>①利用自适应的思想改变量化阶的大小，即使用小的量化阶(step-size)去编码小的差值，使用大的量化阶去编</div><div><br /></div><div>码大的差值；</div><div>②使用过去的样本值估算下一个输入样本的预测值，使实际样本值和预测值之间的差值总是最小。</div><div>优点：算法复杂度低，压缩比小（CD音质&gt;400kbps），编解码延时最短（相对其它技术）</div><div>缺点：声音质量一般</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：ADPCM (ADPCM Adaptive Differential Pulse Code Modulation), 是一种针对16bit (或者更高?) 声音</div><div><br /></div><div>波形数据的一种有损压缩算法, 它将声音流中每次采样的 16bit 数据以 4bit 存储, 所以压缩比 1:4而压缩/</div><div><br /></div><div>解压缩算法非常的简单, 所以是一种低空间消耗,高质量声音获得的好途径。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">LPC(Linear Predictive Coding，线性预测编码)</span></div><div>类型：Audio</div><div>制定者：</div><div>所需频宽：2Kbps-4.8Kbps</div><div>特性：压缩比大，计算量大，音质不高，廉价</div><div>优点：压缩比大,廉价</div><div>缺点：计算量大，语音质量不是很好，自然度较低</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：参数编码又称为声源编码，是将信源信号在频率域或其它正交变换域提取特征参数，并将其变换成数字</div><div><br /></div><div>代码进行传输。译码为其反过程，将收到的数字序列经变换恢复特征参量，再根据特征参量重建语音信号。具</div><div><br /></div><div>体说，参数编码是通过对语音信号特征参数的提取和编码，力图使重建语音信号具有尽可能高的准确性，但重</div><div><br /></div><div>建信号的波形同原语音信号的波形可能会有相当大的差别。如：线性预测编码（LPC）及其它各种改进型都属于</div><div><br /></div><div>参数编码。该编码比特率可压缩到2Kbit/s-4.8Kbit/s，甚至更低，但语音质量只能达到中等，特别是自然度较</div><div><br /></div><div>低。</div><div><br /></div><div><span style="color: #f00000" class="Apple-style-span">CELP(Code Excited Linear Prediction码激励线性预测编码)</span></div><div>类型：Audio</div><div>制定者：欧洲通信标准协会（ETSI）</div><div>所需频宽：4～16Kbps的速率</div><div>特性：改善语音的质量：</div><div>① 对误差信号进行感觉加权，利用人类听觉的掩蔽特性来提高语音的主观质量；</div><div>②用分数延迟改进基音预测，使浊音的表达更为准确，尤其改善了女性语音的质量；</div><div>③ 使用修正的MSPE准则来寻找 &ldquo;最佳&rdquo;的延迟，使得基音周期延迟的外形更为平滑；</div><div>④根据长时预测的效率，调整随机激励矢量的大小，提高语音的主观质量；</div><div>⑤ 使用基于信道错误率估计的自适应平滑器，在信道误码率较高的情况下也能合成自然度较高的语音。</div><div>结论：</div><div>① CELP算法在低速率编码环境下可以得到令人满意的压缩效果；</div><div>②使用快速算法，可以有效地降低CELP算法的复杂度，使它完全可以实时地实现；</div><div>③CELP可以成功地对各种不同类型的语音信号进行编码，这种适应性对于真实环境，尤其是背景噪声存在时更</div><div><br /></div><div>为重要。</div><div>优点：用很低的带宽提供了较清晰的语音</div><div>缺点：-</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：1999年欧洲通信标准协会（ETSI）推出了基于码激励线性预测编码（CELP）的第三代移动通信语音编码</div><div><br /></div><div>标准自适应多速率语音编码器（AMR），其中最低速率为4.75kb/s，达到通信质量。CELP码激励线性预测编码是</div><div><br /></div><div>Code Excited Linear Prediction的缩写。CELP是近10年来最成功的语音编码算法。CELP语音编码算法用线性</div><div><br /></div><div>预测提取声道参数，用一个包含许多典型的激励矢量的码本作为激励参数，每次编码时都在这个码本中搜索一</div><div><br /></div><div>个最佳的激励矢量，这个激励矢量的编码值就是这个序列的码本中的序号。</div><div>CELP已经被许多语音编码标准所采用，美国联邦标准FS1016就是采用CELP的编码方法，主要用于高质量的窄带</div><div><br /></div><div>语音保密通信。CELP(Code-Excited Linear Prediction) 这是一个简化的 LPC 算法，以其低比特率著称</div><div><br /></div><div>(4800-9600Kbps)，具有很清晰的语音品质和很高的背景噪音免疫性。CELP是一种在中低速率上广泛使用的语音</div><div><br /></div><div>压缩编码方案。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">MPEG-1 audio layer 1</span></div><div>类型：Audio</div><div>制定者：MPEG</div><div>所需频宽：384kbps（压缩4倍）</div><div>特性：编码简单，用于数字盒式录音磁带，2声道，VCD中使用的音频压缩方案就是MPEG-1层Ⅰ。</div><div>优点：压缩方式相对时域压缩技术而言要复杂得多，同时编码效率、声音质量也大幅提高，编码延时相应增加</div><div><br /></div><div>。可以达到&ldquo;完全透明&rdquo;的声音质量（EBU音质标准）</div><div>缺点：频宽要求较高</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：MPEG-1声音压缩编码是国际上第一个高保真声音数据压缩的国际标准，它分为三个层次：</div><div>--层1(Layer 1)：编码简单，用于数字盒式录音磁带</div><div>--层2(Layer 2)：算法复杂度中等，用于数字音频广播(DAB)和VCD等</div><div>--层3(Layer 3)：编码复杂，用于互联网上的高质量声音的传输，如MP3音乐压缩10倍</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">MUSICAM(MPEG-1 audio layer 2,即MP2)</span></div><div>类型：Audio</div><div>制定者：MPEG</div><div>所需频宽：256～192kbps（压缩6～8倍）</div><div>特性：算法复杂度中等，用于数字音频广播(DAB)和VCD等，2声道，而MUSICAM由于其适当的复杂程度和优秀的</div><div><br /></div><div>声音质量，在数字演播室、DAB、DVB等数字节目的制作、交换、存储、传送中得到广泛应用。</div><div>优点：压缩方式相对时域压缩技术而言要复杂得多，同时编码效率、声音质量也大幅提高，编码延时相应增加</div><div><br /></div><div>。可以达到&ldquo;完全透明&rdquo;的声音质量（EBU音质标准）</div><div>缺点：</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：同MPEG-1 audio layer 1</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">MP3(MPEG-1 audio layer 3)</span></div><div>类型：Audio</div><div>制定者：MPEG</div><div>所需频宽：128～112kbps（压缩10～12倍）</div><div>特性：编码复杂，用于互联网上的高质量声音的传输，如MP3音乐压缩10倍，2声道。MP3是在综合MUSICAM和</div><div><br /></div><div>ASPEC的优点的基础上提出的混合压缩技术，在当时的技术条件下，MP3的复杂度显得相对较高，编码不利于实</div><div><br /></div><div>时，但由于MP3在低码率条件下高水准的声音质量，使得它成为软解压及网络广播的宠儿。</div><div>优点：压缩比高，适合用于互联网上的传播</div><div>缺点：MP3在128KBitrate及以下时，会出现明显的高频丢失</div><div>应用领域：voip</div><div>版税方式：Free</div><div>备注：同MPEG-1 audio layer 1</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">MPEG-2 audio layer</span></div><div>类型：Audio</div><div>制定者：MPEG</div><div>所需频宽：与MPEG-1层1，层2，层3相同</div><div>特性：MPEG-2的声音压缩编码采用与MPEG-1声音相同的编译码器，层1、层2和层3的结构也相同，但它能支持</div><div><br /></div><div>5.1声道和7.1声道的环绕立体声。</div><div>优点：支持5.1声道和7.1声道的环绕立体声</div><div>缺点：-</div><div>应用领域：voip</div><div>版税方式：按个收取</div><div>备注：MPEG-2的声音压缩编码采用与MPEG-1声音相同的编译码器，层1、层2和层3的结构也相同，但它能支持</div><div><br /></div><div>5.1声道和7.1声道的环绕立体声。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">AAC(Advanced Audio Coding ，先进音频编码)</span></div><div>类型：Audio</div><div>制定者：MPEG</div><div>所需频宽：96-128 kbps</div><div>特性：AAC可以支持1到48路之间任意数目的音频声道组合、包括15路低频效果声道、配音/多语音声道，以及15</div><div><br /></div><div>路数据。它可同时传送16套节目，每套节目的音频及数据结构可任意规定。</div><div>AAC主要可能的应用范围集中在因特网网络传播、数字音频广播，包括卫星直播和数字AM、以及数字电视及影院</div><div><br /></div><div>系统等方面。AAC使用了一种非常灵活的熵编码核心去传输编码频谱数据。具有48个主要音频通道，16 个低频</div><div><br /></div><div>增强通道，16 个集成数据流, 16 个配音，16 种编排。</div><div>优点：支持多种音频声道组合，提供优质的音质</div><div>缺点：-</div><div>应用领域：voip</div><div>版税方式：一次性收费</div><div>备注：AAC于1997年形成国际标准ISO 13818-7。先进音频编码（Advanced Audio Coding--AAC）开发成功，成</div><div><br /></div><div>为继MPEG-2音频标准（ISO/IEC13818-3）之后的新一代音频压缩标准。</div><div>在MPEG-2制订的早期，本来是想将其音频编码部分保持与MPEG-1兼容的。但后来为了适应演播电视的要求而将</div><div><br /></div><div>其定义成为一个可以获得更高质量的多声道音频标准。理所当然地，这个标准是不兼容MPEG-1的，因此被称为</div><div><br /></div><div>MPEG-2AAC。换句话说，从表面上看，要制作和播放AAC，都需要使用与MP3完全不同的工具。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">HR</span></div><div>类型：Audio</div><div>制定者： 飞利浦</div><div>所需频宽：8Kbps</div><div>特性：以增加GSM网络容量为目的,但是会损害语音质量;由于现在网络频率紧缺,一些大的运营商已经在大城市</div><div><br /></div><div>密集地带开通此方式以增加容量。</div><div>优点：系统容量大</div><div>缺点：语音质量差</div><div>应用领域：GSM</div><div>版税方式：按个收费</div><div>备注：HR半速率,是一种GSM语音编码方式。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">FR</span></div><div>类型：Audio</div><div>制定者：飞利浦</div><div>所需频宽：13Kbps</div><div>特性：是一般的GSM手机的通信编码方式,可以获得达到4.1左右Qos的语音通信质量(国际电联规定语音通信质量</div><div><br /></div><div>Qos满分为5)</div><div>优点：语音质量得到了提高</div><div>缺点：系统容量降低</div><div>应用领域：GSM</div><div>版税方式：按个收费</div><div>备注：FR全速率，是一种GSM语音编码方式</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">EFR</span></div><div>类型：Audio</div><div>制定者：飞利浦</div><div>所需频宽：13Kbps</div><div>特性：用于GSM手机基于全速率13Kbps的语音编码和发送,可以获得更好更清晰的语音质量(接近Qos4.7)需要网</div><div><br /></div><div>络服务商开通此项网络功能，手机才能配合实现。</div><div>优点：音质好</div><div>缺点：需要网络服务商开通此项网络功能，且系统容量降低</div><div>应用领域：GSM</div><div>版税方式：按个收费</div><div>备注：EFR增强型全速率,一种GSM网络语音的编码方式。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">GSM-AMR(Adaptive Multi-Rate)</span></div><div>类型：Audio</div><div>制定者：飞利浦</div><div>所需频宽：8Kbps(4.75 Kbps~12.2 Kbps)</div><div>特性： 可以对语音进行替换和消音，平滑噪音，支持间断式传输，对语音进行动态侦查。能在各种网络条件下</div><div><br /></div><div>提供优质的语音效果。</div><div>优点：音质出色</div><div>缺点：-</div><div>应用领域：GSM</div><div>版税方式：按个收费</div><div>备注：GSM-ASM是一种广泛使用在GPRS和W-CDMA网络上的音频标准。在规范ETSI GSM06.90中对GSM-AMR进行了定</div><div><br /></div><div>义。AMR语音编码是GSM2+和WCDMA的默认编码标准，是第三代无线通讯系统的语音编码标准。GSM-AMR标准基于</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">ACELP（代数激励线性预测）编码。它能在广泛的传输条件下提供高品质的语音效果。</span></div><div><br /></div><div>EVRC(Enhanced Variable Rate Coder，增强型可变速率编码器)</div><div>类型：Audio</div><div>制定者：美国Qualcomm通信公司(即高通)</div><div>所需频宽：8Kbps或13Kbps</div><div>特性：支持三种码率（9.6 Kbps, 4.8 Kbps 和 1.2 Kbps），噪声抑制，邮件过滤。能在各种网络条件下提供</div><div><br /></div><div>优质的语音效果。</div><div>优点：音质出色</div><div>缺点：-</div><div>应用领域：CDMA</div><div>版税方式：按个收费</div><div>备注：EVRC编码广泛使用于CDMA网络。EVRC标准遵循规范TIA IS-127的内容。EVRC编码基于RCELP（松弛码激励</div><div><br /></div><div>线性预测）标准。该编码可以以Rate 1（171bits/packet），Rate1/2（80bits/packet）或是Rate1/8</div><div><br /></div><div>（16bits/packet）的容量进行操作。在要求下，它也能产生空包（0bits/packet）。</div><div><br /></div><div><span style="color: #f0c000" class="Apple-style-span">QCELP(QualComm Code Excited Linear Predictive，受激线性预测编码)</span></div><div>类型：Audio</div><div>制定者：美国Qualcomm通信公司(即高通)</div><div>所需频宽：8k的语音编码算法(可工作于4/4.8/8/9.6Kbps等固定速率上，而且可变速率地工作于800Kbps～</div><div><br /></div><div>9600Kbps之间)</div><div>特性：使用适当的门限值来决定所需速率。QCELP是一种8k的语音编码算法(可以在8k的速率下提供接近13k的话</div><div><br /></div><div>音压缩质量)。这是一种可变速率话音编码，根据人的说话特性（大家应该能够体会我们日常的沟通和交流时并</div><div><br /></div><div>不是一直保持某种恒定的方式讲话，有间断、有不同的声音频率等都是人的自然表达）而采取的一种优化技术</div><div><br /></div><div>。</div><div>优点：话音清晰、背景噪声小，系统容量大</div><div>缺点： 不是Free</div><div>应用领域：CDMA</div><div>版税方式：每年支付一笔使用权费用</div><div>备注：QCELP，即Qualcomm Code Excited Linear Predictive（Qualcomm受激线性预测编码）。美国Qualcomm</div><div><br /></div><div>通信公司的专利语音编码算法，是北美第二代数字移动电话（CDMA）的语音编码标准（IS95）。这种算法不仅</div><div><br /></div><div>可工作于4/4.8/8/9.6kbit／s等固定速率上，而且可变速率地工作于800bit／s～9600bit／s之间。QCELP算法</div><div><br /></div><div>被认为是到目前为止效率最高的一种算法，它的主要特点之一，是使用适当的门限值来决定所需速率。门限值</div><div><br /></div><div>随背景噪声电平变化而变化，这样就抑制了背景噪声，使得即使在喧闹的环境中，也能得到良好的话音质量，</div><div><br /></div><div>CDMA8Kbit/s的话音近似GSM 13Mbit/s的话音。CDMA采用QCELP编码等一系列技术，具有话音清晰、背景噪声小</div><div><br /></div><div>等优势，其性能明显优于其他无线移动通信系统，语音质量可以与有线电话媲美。 无线辐射低。</div></div>
]]>
</description>
</item>
</channel>
</rss>