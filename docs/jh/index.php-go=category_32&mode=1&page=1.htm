<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="UTF-8" />
<meta content="all" name="robots" />
<meta name="author" content="流浪的龙－个人知识管理" />
<meta name="description" content="" />
<meta name="keywords" content="bo-blog" />
<xbasehref="http://i.renjihe.com/blog/" />
<link rel="alternate" title="流浪的龙－个人知识管理" href="feed.php" type="application/rss+xml" />
<link rel="stylesheet" rev="stylesheet" href="styles.css" tppabs="http://i.renjihe.com/blog/template/default/styles.css" type="text/css" media="all" />

<title>windows - 流浪的龙－个人知识管理 - </title>
<script type="text/javascript" src="common.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/common.js?jsver=2.1.1.3626.3"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://i.renjihe.com/blog/inc/rsd.php" />
<script type="text/javascript" src="jslang.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/lang/zh-cn/jslang.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="ajax.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/ajax.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript" src="swfobject.js-jsver=2.1.1.3626.3" tppabs="http://i.renjihe.com/blog/images/js/swfobject.js?jsver=2.1.1.3626.3"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/default/images";
var shutajax=0;
var absbaseurl='index.htm'/*tpa=http://i.renjihe.com/blog/*/;
//]]>
</script>
<link title="搜索 流浪的龙－个人知识管理" rel="search"  type="application/opensearchdescription+xml"  href="http://i.renjihe.com/blog/inc/opensearch.php" />



</head>
<body id="pagelocation-index">
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php">流浪的龙－个人知识管理</a></h1>
					<div class="blog-desc"></div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_index" class="activepage"><a href="index.php.htm" tppabs="http://i.renjihe.com/blog/index.php" ><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2F"><a href="javascript:if(confirm('http://i.renjihe.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/'" tppabs="http://i.renjihe.com/"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2F">个性首页</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fi.renjihe.com_2Flink.html"><a href="javascript:if(confirm('http://i.renjihe.com/link.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://i.renjihe.com/link.html'" tppabs="http://i.renjihe.com/link.html"  target="_blank"><span id="navitem_http_3A_2F_2Fi.renjihe.com_2Flink.html">网址导航</span></a></span></li>
<li><span id="nav_tag"><a href="tag.php.htm" tppabs="http://i.renjihe.com/blog/tag.php" ><span id="navitem_tag">标签</span></a></span></li>
<li><span id="nav_guestbook"><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php" ><span id="navitem_guestbook">留言</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: block">
						<div class="announce-content">
						windows
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							<span class="pagebar-mainbody"> 分页： 1/7  <a href="index.php-go=category_32&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=1"><img src="doubleleft.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleleft.gif" alt="第一页" title="第一页" border="0"/></a> <span class="pagebar-selections"> <span class="pagelink-current">1</span>  <a href="index.php-mode=1&page=10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=2">2</a>  <a href="index.php-mode=1&page=713.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=3">3</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/mapreduce.html  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/mapreduce.html'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=4">4</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/640.jpg!heading  \n\nļ޷ Teleport Ultra , Ϊ ļδҵ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/640.jpg!heading'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=5">5</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/66372-20160303223801174-1068327928.jpg  \n\nļ޷ Teleport Ultra , Ϊ ļδҵ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/66372-20160303223801174-1068327928.jpg'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=6">6</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=7">7</a> </span> <a href="index.php-mode=1&page=10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=2"><img src="singleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/singleright.gif" alt="下页" title="下页" border="0"/></a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=7"><img src="doubleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleright.gif" alt="最后页" title="最后页" border="0"/></a> </span> [ 显示模式： <a href="index.php-go=category_32&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=1" title="切换到摘要模式">摘要</a> | <a href="index.php-go=category_32&mode=2&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=2&page=1" title="切换到列表模式">列表</a> ]
						</div>
					</div>
					<div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Aug</span>
	<span class="textbox-calendar-day">29</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7517.htm" tppabs="http://i.renjihe.com/blog/read.php?7517">windows查看端口占用以及关闭相应的进程</a> <span id="starid7517"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 19:46 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-7517.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7517#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7517");'>引用(0)</a> , <a href="read.php-7517.htm" tppabs="http://i.renjihe.com/blog/read.php?7517">阅读(3)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7517" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">开始--运行--cmd 进入命令提示符 输入netstat -ano 即可看到所有连接的PID 之后在任务管理器中找到这个PID所对应的程序如果任务管理器中<strong style="margin: 0px; padding: 0px">没有PID</strong>这一项,可以在任务管理器中选&quot;查看&quot;-&quot;选择列&quot;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 经常，我们在启动应用的时候发现系统需要的端口被别的程序占用，如何知道谁占有了我们需要的端口，很多人都比较头疼，下面就介绍一种非常简单的方法，希望对大家有用&nbsp;<br /><br />假如我们需要确定谁占用了我们的9050端口&nbsp;<br /><br />1、Windows平台&nbsp;<br />在windows命令行窗口下执行：&nbsp;<br />1.查看所有的端口占用情况</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">C:&#92;&gt;<strong style="margin: 0px; padding: 0px">netstat -ano</strong></p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp; 协议&nbsp;&nbsp;&nbsp; 本地地址&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 外部地址&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 状态&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp; TCP&nbsp;&nbsp;&nbsp; 127.0.0.1:1434&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3236<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 127.0.0.1:5679&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4168<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 127.0.0.1:7438&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4168<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 127.0.0.1:8015&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1456<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:139&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:1957&nbsp;&nbsp;&nbsp;&nbsp; 220.181.31.225:443&nbsp;&nbsp;&nbsp;&nbsp; ESTABLISHED&nbsp;&nbsp;&nbsp;&nbsp; 3068<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:2020&nbsp;&nbsp;&nbsp;&nbsp; 183.62.96.189:1522&nbsp;&nbsp;&nbsp;&nbsp; ESTABLISHED&nbsp;&nbsp;&nbsp;&nbsp; 1456<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:2927&nbsp;&nbsp;&nbsp;&nbsp; 117.79.91.18:80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ESTABLISHED&nbsp;&nbsp;&nbsp;&nbsp; 4732<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:2929&nbsp;&nbsp;&nbsp;&nbsp; 117.79.91.18:80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ESTABLISHED&nbsp;&nbsp;&nbsp;&nbsp; 4732<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:2930&nbsp;&nbsp;&nbsp;&nbsp; 117.79.91.18:80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ESTABLISHED&nbsp;&nbsp;&nbsp;&nbsp; 4732<br />&nbsp; TCP&nbsp;&nbsp;&nbsp; 192.168.3.230:2931&nbsp;&nbsp;&nbsp;&nbsp; 117.79.91.18:80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ESTABLISHED&nbsp;&nbsp;&nbsp;&nbsp; 4732</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp;</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">2.查看指定端口的占用情况<br />C:&#92;&gt;<strong style="margin: 0px; padding: 0px">netstat -aon&#124;findstr &quot;9050&quot;</strong></p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp; 协议&nbsp;&nbsp;&nbsp; 本地地址&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 外部地址&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 状态&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp; TCP&nbsp;&nbsp;&nbsp; 127.0.0.1:9050&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0.0.0:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">P: 看到了吗，端口被进程号为2016的进程占用，继续执行下面命令： （也可以去任务管理器中查看pid对应的进程）</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">3.查看PID对应的进程<br />C:&#92;&gt;<strong style="margin: 0px; padding: 0px">tasklist&#124;findstr &quot;2016&quot;</strong></p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp;映像名称&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID 会话名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 会话#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 内存使用<br />&nbsp;========================= ======== ================<br />&nbsp; tor.exe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016 Console&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 16,064 K&nbsp;<br /><br />P:很清楚吧，tor占用了你的端口。</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">&nbsp;</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">4.结束该进程</p><p style="margin: 10px auto; padding: 0px; color: #393939; font-size: 14px; line-height: 21px; background-color: #faf7ef">C:&#92;&gt;<strong style="margin: 0px; padding: 0px">taskkill /f /t /im tor.exe</strong></p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">11</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7382.htm" tppabs="http://i.renjihe.com/blog/read.php?7382">C++异常与windows结构化异常处理简单说明</a> <span id="starid7382"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 01:47 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-7382.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7382#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7382");'>引用(0)</a> , <a href="read.php-7382.htm" tppabs="http://i.renjihe.com/blog/read.php?7382">阅读(2)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7382" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<div id="cnblogs_post_body" style="margin: 0px 0px 20px; padding: 0px; word-break: break-word; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 19.5px; background-color: #f5f5f5"><p style="margin: 10px auto; padding: 0px">一、C++标准异常</p><p style="margin: 10px auto; padding: 0px">try<br />&#123;<br />&nbsp;&nbsp;&nbsp; &hellip;&hellip;<br />&nbsp;&nbsp;&nbsp; throw &lt;exception-data&gt;<br />&nbsp;&nbsp;&nbsp; &hellip;&hellip;<br />&#125;<br />catch (&lt;exception-declaration 1&gt;)<br />&#123;<br />&nbsp;&nbsp;&nbsp; &hellip;&hellip;<br />&#125;<br />catch (&lt;exception-declaration 2&gt;)<br />&#123;<br />&nbsp;&nbsp;&nbsp; &hellip;&hellip;<br />&#125;</p><p style="margin: 10px auto; padding: 0px">&nbsp;</p><p style="margin: 10px auto; padding: 0px">try块中的throw会抛出一个数据&lt;exception-data&gt;，比如一个整数，一个字串，或是其他自定义类型的数据。这时，当前程序中止执行，开始查找catch入口。throw抛出的数据类型与catch入口的&lt;exception-declaration&gt;数据类型必须匹配，这一点类似函数调用的形参、实参匹配。一个try块可以对应多个catch块，也可以用catch (&hellip;)来接收所有可能抛出的数据。</p><p style="margin: 10px auto; padding: 0px">强调:必须是在程序代码快中有出现异常时主动抛出异常才会,异常才能截获进入异常处理,也就是说,如果程序中没有throw你加上try块也是没有意义的.</p><p style="margin: 10px auto; padding: 0px">&nbsp;</p><p style="margin: 10px auto; padding: 0px">&nbsp;二、Windows SEH</p><p style="margin: 10px auto; padding: 0px">SEH（Structured Exception Handling），即结构化异常处理，是Microsoft提供的异常处理机制。要了解这个机制，咱先来了解一下__try-__except关键字。</p><p style="margin: 10px auto; padding: 0px">1. __try-__except关键字</p><p style="margin: 10px auto; padding: 0px">__try<br />&#123;<br />&nbsp;&nbsp;&nbsp; &hellip;&hellip;<br />&#125;</p><p style="margin: 10px auto; padding: 0px">__except (&lt;exception&gt;)<br />&#123;<br />&nbsp;&nbsp;&nbsp; &hellip;&hellip;<br />&#125;</p><p style="margin: 10px auto; padding: 0px">__try-__except是Microsoft扩展出的C++关键字，__try块中出现错误或异常，一般不再用throw抛出，而是直接产生一个EXCEPTION_POINTERS类型的异常数据，然后开始查找SEH例程入口（调试的情况除外）。首先就会找到与__try块对应的__except块。__except的参数&lt;exception&gt;与catch的参数作用完全不同，也不类似于函数的参数，它主要是用于控制后面的程序执行，为这几个值之一：</p><p style="margin: 10px auto; padding: 0px">EXCEPTION_EXECUTE_HANDLER（1）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 表示下面执行__except块内及其后面的代码<br />EXCEPTION_CONTINUE_EXECUTION（-1）&nbsp; 表示回到抛出异常处继续向下执行<br />EXCEPTION_CONTINUE_SEARCH（0）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;表示查找下一个异常处理例程入口</p><p style="margin: 10px auto; padding: 0px">Microsoft提供两个函数GetExceptionCode(), GetExceptionInformation()，分别可以获取异常号和EXCEPTION_POINTERS类型的异常数据指针。而且这两个函数只能在__except参数&lt;exception&gt;的表达式中使用。所以，__except一行一般会这样写：__except (ExceptFilterFunc(GetExceptionInformation()))，其中ExceptFilterFunc是一个自定义的异常处理例程，它输入一个EXCEPTION_POINTERS *类型的参数，返回EXCEPTION_EXECUTE_HANDLER、EXCEPTION_CONTINUE_EXECUTION或EXCEPTION_CONTINUE_SEARCH。</p><p style="margin: 10px auto; padding: 0px">在VC中，还提供__try-__finally块和__leave关键字，MSDN查查。</p><p style="margin: 10px auto; padding: 0px">&nbsp;</p><p style="margin: 10px auto; padding: 0px">附:</p><p style="margin: 10px auto; padding: 0px">C++标准异常处理 可以在标准C++书中找到相关介绍<br />Windows SEH可以在WINDOWS核心编程.chm查看详细介绍.</p></div><div id="MySignature" style="margin: 0px; padding: 0px; clear: both; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 19.5px; background-color: #f5f5f5">靓点博客 http://www.cnblogs.com/mlog 或 http://blog.csdn.net/cml2030</div>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">11</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-7381.htm" tppabs="http://i.renjihe.com/blog/read.php?7381">细说windows的异常处理和实现——结构化异常</a> <span id="starid7381"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 01:47 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-7381.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?7381#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb7381");'>引用(0)</a> , <a href="read.php-7381.htm" tppabs="http://i.renjihe.com/blog/read.php?7381">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb7381" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>异常与C++的异常</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">C++编程中有一个重要的机制就是异常的处理，标准的C++定义了try...catch..throw的异常处理机制。但是这只是C++里的异常。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">广义的异常可以分为<strong>硬件产生的异常</strong>和<strong>软件产生的异常</strong>，像throw这样的动作就是在软件上产生一个异常，但是像写入一个非法内存、除0这些都是硬件产生的异常；</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">异常的处理可以分为结构化异常处理(Structured Exception Handling)SEH和向量异常处理(<em>Vectored exception handling</em>)VEH</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">C++里try...catch..throw属于SEH，但是他只能捕捉<strong>显示的throw出来的软件异常，</strong>明确这个问题非常重要。以前一直认为可以catch任何异常，其实这种想法是错的，比如写一句int* p=0;*p=1;这样的语句是catch不到的，直接就会crash了，因为这是内存错误，硬件异常。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">这样看来，C++的try...catch..throw异常处理机制只是处理了所有异常中的一个子集而已。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">然而在windows上开发的我们，尤其是去开发一些产品，我们希望有方法去处理任何异常，绝不让用户突然收到一个崩溃的感叹号，提高用户的体验怎么办？</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">原来window在系统层面上提供了更多的异常的处理机制，而C++的try...catch..throw也只是window系统的异常处理机制中被整合进去的一小块。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>window系统层面的（结构化）异常处理机制</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">window是把所有的硬件和软件的异常都整合起来同等看待，无论是内存错误、用throw产生一个异常，都会触发操作系统对当前的线程的异常处理</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">每个线程在创建后，都会初始化一个数据结构：</p><pre style="white-space: pre-wrap; word-wrap: break-word; font-size: 14px; line-height: 26px"><span style="font-size: 10px"> ;struct _EXCEPTION_REGISTRATION&#123;&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp; struct _EXCEPTION_REGISTRATION *prev;&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp; void (*handler)(PEXCEPTION_RECORD,&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PEXCEPTION_REGISTRATION,&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PCONTEXT,&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PEXCEPTION_RECORD);&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp; struct scopetable_entry *scopetable;&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp; int trylevel;&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp; int _ebp;&nbsp;&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp; PEXCEPTION_POINTERS xpointers;&nbsp;&nbsp;;&#125;</span></pre><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">很多个EXCEPTION_REGISTATION 连成一个list L</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">其中的每个节点包含了一个handler成员，他就是具体的对异常进行处理的操作（可以猜测catch后的内容就是最终被整合到这个函数里的）</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">当一个异常E发生后，系统会寻找这个线程的L，从头开始，知道寻找到能对E进行处理的那个节点EXCEPTION_REGISTATION，对其进行处理。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">对于C++的try catch其实就是在try的时候将L里面建立一个新的节点，用于捕捉某个异常。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">所以win的异常处理机制的核心就在于每个线程内的这个EXCEPTION_REGISTATION 的list。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">这里有个问题，就是当一个异常没有再list寻找到相应的节点怎么办，其实这个list会在尾端放置一个默认的异常处理单元，当查询到尾端时就一定调用这个处理函数。</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">所以我们就有一种办法去截获所有程序中我们无法catch的异常（硬件或软件），就是去自定义这个处理函数，使用API&nbsp; SetUnhandledExceptionFilter</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>万能的异常捕获器 SetUnhandledExceptionFilter</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">记住这个函数只有在release版本生效！</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">win程序在release情况下，发生了异常，并且没有被捕捉处理，就会调用一个默认的<strong><a style="color: #ca0000; text-decoration: none" href="javascript:if(confirm('http://blog.csdn.net/leonwei/article/details/read.php?save_5625  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/leonwei/article/details/read.php?save_5625'" tppabs="http://blog.csdn.net/leonwei/article/details/8560622" target="_blank">UnhandledExceptionFilter</a>函数，这个函数还传入一个参数_EXCEPTION_POINTERS*，里面有crash的一些信息。</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong><br /></strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>如果我们想自定义这个处理方法，就可以自定一个函数如</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>&nbsp;long __stdcall MyUnhandledExceptionFilter (_EXCEPTION_POINTERS* ExceptionInfo)&#123;。。。</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>&#125;</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>然后使用SetUnhandledExceptionFilter set进来。</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong><strong>MyUnhandledExceptionFilter 函数有三种返回值：</strong><br /></strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong>EXCEPTION_EXECUTE_HANDLER equ 1 表示我已经处理了异常,可以结束了，这时执行完这个函数程序退出<br />EXCEPTION_CONTINUE_SEARCH equ 0 表示我不处理,其他人来吧,于是windows调用默认的处理程序显示一个错误框,并结束&nbsp;<br />EXCEPTION_CONTINUE_EXECUTION equ -1 表示错误已经被修复,请从异常发生处继续执行 &nbsp;，这时程序会试图在运行一遍刚才又问题的代码</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><strong></strong>&nbsp;</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">通过自定义的异常处理函数，等于截获了程序出错的最后一道屏障，在程序crash即将关闭前改变了原有的行为，可以做到：</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">1.可以dump出来当前的信息，上传给服务器用于技术人员统计分析</p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px">2.可以用更加友善的界面告诉你的用户程序出错了，优雅的挂掉</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Nov</span>
	<span class="textbox-calendar-day">6</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-6924.htm" tppabs="http://i.renjihe.com/blog/read.php?6924">WPA入门 — 到底为什么这么慢？</a> <span id="starid6924"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 18:38 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-6924.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?6924#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb6924");'>引用(0)</a> , <a href="read.php-6924.htm" tppabs="http://i.renjihe.com/blog/read.php?6924">阅读(3)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb6924" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<div style="margin: 15px 0px 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit">原创文章，转载请注明：</span>转载自<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/'" tppabs="http://bigasp.com/">Soul Apogee</a><br /><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 600; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit">本文链接地址：</span><a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091'" tppabs="http://bigasp.com/archives/606">WPA入门（一） &mdash;&mdash; 到底为什么这么慢？</a></p></div><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">2013年10月20日，WPT终于迎来了新一轮的更新，在这次更新之后，我们在WPT的目录下已经找不到xperfview的身影了，而WPA则<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://msdn.microsoft.com/en-us/library/read.php?7090  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://msdn.microsoft.com/en-us/library/read.php?7090'" tppabs="http://msdn.microsoft.com/en-us/library/hh162962.aspx" target="_blank">添加了多项新的功能</a>。由于平时用WPA还算用的比较多，而且这工具实在相当好用，所以在这里打算写一些文章介绍一下它。</p><h2 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 34px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.7px">1. WPT简介</h2><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">WPT的全名是Windows Performance Toolkit，是Windows下用来进行性能分析的一套工具，它的功能非常强大，你可以使用它来监控CPU，内存，磁盘和网络等等的活动，从而来确定当前系统的性能瓶颈。虽然它功能强大，但是却完全免费。它包含在Windows Assessment and Deployment Kit (Windows ADK)中，最新的版本是8.1，你可以通过MSDN来下载并随意使用它：<a style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://www.microsoft.com/en-US/download/read.php?7089  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.microsoft.com/en-US/download/read.php?7089'" tppabs="http://www.microsoft.com/en-US/download/details.aspx?id=39982" target="_blank">http://www.microsoft.com/en-US/download/details.aspx?id=39982</a>。</p><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">WPT主要包含两个部分：Windows Performance Recorder (WPR)和Windows Performance Analyzer (WPA)。从名字我们就很容易看出来，前者是用来记录性能数据的，后者是用来分析性能数据的了，后面我们会更加详细的介绍这两个工具。</p><h2 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 34px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.7px">2. 这东西怎么做到的？</h2><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">原理，我们喜欢原理。和其他的性能分析工具不同，它是由Windows本身的事件机制来提供支持的&mdash;&mdash;Event Tracing for Windows (ETW)。</p><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">ETW是从Windows 2000开始就引入的一种高速的事件记录机制，而在Vista之后，Windows又对其进行了完善，使其可以记录比之前多的多的信息，比如系统CPU上正在运行的堆栈，而现在它已经成为Windows中最主要的一种分析性能问题的方法了。</p><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">下面这张图来自MSDN，展现了ETW的主要基本架构，主要分成4个部分：Session，Controller，Provider和Consumer。</p><ul style="margin: 0px 0px 15px 30px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; list-style: none; color: #666666"><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Provider：ETW的事件提供者，我们在最后的记录文件中看到的事件就是来自于他们。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Consumer：ETW的事件接收者，比如我们实现一个实时的Consumer来查看系统中当前有那些事件正在发生。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Controller：用于开关ETW的事件。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Session：它存在在内核中，用于表示一个ETW事件记录会话。系统中可以存在多个Session，每个Session都可以接收来自于多个Provider的事件，最后我们可以将多个Session中的事件写入一个日志文件中，这个日志文件就叫做Trace。</li></ul><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?7087  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?7087'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=246" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-2.php-7086" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/etw-overview.png" border="0" alt="etw-overview" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">通过ETW，我们可以将系统所有关键的地方都加入事件，记录其行为和堆栈，比如CPU执行，线程切换和读写磁盘，这样我们就可以利用这些信息来进行分析了。</p><h2 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 34px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.7px">3. 老板，来点栗子吧，都饿了</h2><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">好了，让我们来看个例子吧，我们都知道notepad打开大文件的时候非常的慢，到底为什么呢？首先我们生成一个180M的文本文件，如下图所示，然后让我们来抓个Trace试一试吧。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?7085  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?7085'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=247" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-2.php-7084" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpt-test-txt.png" border="0" alt="wpt-test-txt" /></a><h3 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 28px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.5px">3.1. 生成Trace文件</h3><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.1.1. 使用WPRUI生成Trace文件</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">我们打开Windows Performance Recorder (WPRUI.exe)，然后将我们关心的数据选中：CPU Usage, Disk I/O activity和File I/O activity，然后按Start，这样我们开始录制了。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?7083  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?7083'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=253" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="http://bad_redirect" border="0" alt="wpt-wpr" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">让我们用记事本打开test.txt，很快记事本就失去响应了，现在我们大概等上半分钟左右，文件打开完之后，我们就可以停止记录并生成Trace了。</p><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.1.2. 使用WPR生成Trace文件</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">当然我们也可以使用命令行来是抓取Trace。在命令行下主要有两种抓Trace的方法：xperf和wpr，由于后者比较简单，所以我们先来看看后者：Windows Performance Recorder (WPR.exe)。</p><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">在WPR中，我们通过如下命令便可以查看到所有的Profile列表。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_578192" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 703px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 663px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">wpr -profiles</div></div></td></tr></tbody></table></div></div><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6770  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6770'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=282" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6769" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/12/wpr-cmd-profiles.png" border="0" alt="wpr-cmd-profiles" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">如果我们想知道每个Profile都开启了那些Provider，那么我们可以使用profiledetails来查看，比如CPU Usage。下图中，System Keywords就是Provider，而System Stacks就是开启抓取堆栈的开关了。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_775280" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 703px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 663px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">wpr -profiledetails CPU</div></div></td></tr></tbody></table></div></div><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6768  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6768'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=281" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6767" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/12/wpr-cmd-profiledetails.png" border="0" alt="wpr-cmd-profiledetails" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">选好了Profile，我们便可以通过如下命令启动和生成Trace了。这里需要注意：启动和停止Trace是需要管理员权限的。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_251112" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 703px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">2</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 663px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">wpr -start CPU</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">wpr -stop 1.etl</div></div></td></tr></tbody></table></div></div><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.1.3. 使用xperf生成Trace文件</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">最后，我们来看看xperf。由于使用它，你可以对每个Provider和Stackwalk进行单独的控制，所以它的能力是最强的，当然使用起来也最难。我们可以通过如下的语句来查看当前都支持那些Provider和Stackwalk。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_521643" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 703px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">2</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 663px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -providers</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -help stackwalk</div></div></td></tr></tbody></table></div></div><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">选择好需要的Provider和Stackwalk，我们就可以通过如下基本语法来启动和生成Trace：</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_183528" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 1046px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">2</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 1006px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -start -on [provider1+provider2+&hellip;+providern] -stackwalk [stackwalk1+stackwalk2+&hellip;+stackwalkn]</div><div class="line number2 index1 alt1" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -stop -d [file.etl]</div></div></td></tr></tbody></table></div></div><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">不过我们刚刚看到wpr中CPU Usage的Profile里面包含着这么多Provider，难道我们要一个一个的填？xperf为了简化我们的操作，提出了一个叫做组（Group）的概念，我们可以通过如下命令来查看所有的组。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_963249" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 703px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 663px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -providers -KG</div></div></td></tr></tbody></table></div></div><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6766  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6766'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=283" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6765" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/12/xperf-cmd-providers-kg.png" border="0" alt="xperf-cmd-providers-kg" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">由于我们可以把组当作普通的Provider一样的用，所以有了这个，我们启动Trace就方便多了，一般我们都可以使用Base和Diag来简化我们的命令，比如，我们可以使用如下命令来记录一些基本的CPU和Disk信息。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_296117" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 740px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 700px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -start -on Diag+FileIO -stackwalk CSwitch+ReadyThread+Profile</div></div></td></tr></tbody></table></div></div><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">另外，你还可以通过帮助来了解更多的命令。</p><div style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666"><div id="highlighter_165454" class="syntaxhighlighter&nbsp;&nbsp;bash" style="padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; width: 703px; margin: 1em 0px !important; font-size: 1em !important; position: relative !important; overflow: auto !important"><div class="toolbar" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 10px !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: 11px !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: absolute !important; right: 1px !important; top: 1px !important; width: 11px !important; box-sizing: content-box !important; min-height: auto !important; z-index: 10 !important; color: white !important; background: #6ce26c !important"><span style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; vertical-align: baseline; font-family: inherit"><a style="font-variant: inherit; font-stretch: inherit; transition-duration: 0.2s; transition-timing-function: ease; margin: 0px !important; padding: 1px 0px 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; color: white !important; text-decoration: none !important; outline: 0px !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; overflow: visible !important; position: static !important; right: auto !important; text-align: center !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; display: block !important; background: none !important" href="javascript:if(confirm('http://bigasp.com/archives/read.php?7091  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/archives/read.php?7091#'" tppabs="http://bigasp.com/archives/606#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellspacing="0" cellpadding="0" style="font-variant: inherit; font-stretch: inherit; border-collapse: collapse; border-spacing: 0px; width: 703px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><tbody><tr style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><td class="gutter" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; color: #afafaf !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border-width: 0px 3px 0px 0px !important; border-right-style: solid !important; border-right-color: #6ce26c !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">1</div></td><td class="code" style="font-variant: inherit; font-stretch: inherit; width: 663px; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="container" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; background: none !important"><div class="line number1 index0 alt2" style="font-variant: inherit; font-stretch: inherit; margin: 0px !important; padding: 0px 1em !important; border: 0px !important; font-size: 1em !important; line-height: 1.1em !important; vertical-align: baseline !important; border-radius: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: pre !important; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important">xperf -help</div></div></td></tr></tbody></table></div></div><h3 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 28px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.5px">3.2. 使用WPA分析Trace文件</h3><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">现在终于轮到我们祭出大杀器&mdash;&mdash;WPA了！让我们用WPA打开这个Trace文件吧。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6764  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6764'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=252" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6763" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpt-wpa.png" border="0" alt="wpt-wpa" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">打开之后我们会发现WPA的左侧有很多的图，并且他们被分为几类：</p><ul style="margin: 0px 0px 15px 30px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; list-style: none; color: #666666"><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">System Activity：系统活动，里面主要是进程线程的生命周期，原始事件等等内容。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Computation：记录了CPU的各项活动。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Storage：记录了磁盘的活动和文件的操作。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Memory：记录了系统内存的变化。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Power：记录了电源相关的各种信息。</li></ul><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.2.1. UI Delay Graph</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">我们知道打开这个文本文件的时候记事本失去响应了一段时间，所以让我们先查看System Activity下的UI Delay图，通过双击我们可以在右侧的Analysis中查看这个图中的具体内容。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6762  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6762'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=251" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6761" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpa-ui-delay.png" border="0" alt="wpa-ui-delay" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">通过名字，我们很容易猜出来，UI Delay Graph记录着UI上的卡顿。通过上图，我们可以看到在notepad.exe上存在着一个28s长的MsgCheck Delay，这个应该就是我们当时观察到的记事本失去响应的那段时间了。我们选中这一个Delay，WPA会自动选中左侧所有的图中的同一个时间区域，让我们对这段时间系统都在做什么有一个最直观的感觉。从上图中，我们可以看到这段时间内，前10%的时间磁盘非常的忙，但是CPU相对空闲，而后90%的时间CPU则很忙，而磁盘的消耗却近乎为0，看来这个问题很可能主要是由于CPU消耗过高导致的。为了更清楚的查看这段时间发生的事情，我们可以在UI Delay的图上点击右键，使用Zoom功能，只查看这一段时间内发生的事件。</p><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.2.2. Disk IO Graph</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">Disk IO Graph中记录了系统在这段时间内所有的磁盘操作，我们现在先打开它，看看磁盘在这次Delay中到底做了什么事情。打开这个图之后，我们需要重新调整一下列的位置，对当前所有的IO重新分组，如下图所示。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6760  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6760'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=254" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6759" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpa-diskio1.png" border="0" alt="wpa-diskio" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">我们可以看到notepad在这段时间之内发起了173个1M的IO，这些IO总共花费了2.5s的时间。这应该就是前10%的时间所主要做的事情了，接下来让我们来看看CPU在这段时间内做了什么吧。</p><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.2.3. 加载符号文件</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">对了，在查看更详细的内容之前，我们需要加载系统文件的符号文件，这样能更好的帮助我们理解系统内部到底在执行哪些东西。我们可以通过Trace -&gt; Configurate Symbol Paths可以设置好符号文件的地址，如下图：</p><ul style="margin: 0px 0px 15px 30px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; list-style: none; color: #666666"><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Symbol Path: SRV*d:&#92;symbols*http://msdl.microsoft.com/download/symbols</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">SymCache Path: d:&#92;symcache</li></ul><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6758  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6758'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=250" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6757" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpa-symbol1.png" border="0" alt="wpa-symbol" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">这里需要提到的问题有两个：</p><ul style="margin: 0px 0px 15px 30px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; list-style: none; color: #666666"><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">第一次符号文件的加载通常需要非常长的时间，因为系统中有很多的可执行文件，每个文件都需要去尝试加载一次。</li><li style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; list-style: square">Symbol Path就是我们平常看到的pdb文件，而SymCache Path存放的SymCache文件是WPA中用于缓存pdb文件中对WPA有用的信息的文件，所以很明显，他的大小肯定比pdb要小很多，加载起来也会更快。</li></ul><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.2.4. CPU Usage (Sampled) Graph</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">为了查看这段时间内CPU上都执行了什么指令，让我们来打开CPU Usage (Sampled) Graph吧。CPU Sampled Graph内展示的数据，是每隔一毫秒在CPU上采集到的正在执行的线程信息和相关堆栈。从下面这张图里，我们可以从堆栈上看到主要的问题在Edit控件的操作上，Edit控件会按行来建立文件内容，从而导致了相当多的内存操作，最后导致了非常缓慢的文件加载。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6756  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6756'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=248" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6755" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpa-cpu1.png" border="0" alt="wpa-cpu" /></a><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">3.2.5. 多图查看</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">为了让我们更加直观的了解这个问题，我们还可以同时打开多个图，比如我们现在同时打开UI Delay，CPU Usage (Sampled)和Disk IO，我们就能更加直观的看到其从IO为主的消耗转到CPU为主的消耗的过程。</p><a style="margin: 0px; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #3b8dbd; text-decoration: none; outline: 0px; transition-duration: 0.2s; transition-timing-function: ease" href="javascript:if(confirm('http://bigasp.com/wp-content/plugins/download-monitor/read.php?6754  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://bigasp.com/wp-content/plugins/download-monitor/read.php?6754'" tppabs="http://bigasp.com/wp-content/plugins/download-monitor/download.php?id=249" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; vertical-align: baseline; max-width: 500px; height: auto; transition: opacity 0.2s ease" src="read-1.php-6753" tppabs="http://bigasp.com/wp-content/uploads/downloads/thumbnails/2013/11/wpa-multi-graph.png" border="0" alt="wpa-multi-graph" /></a><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">TADA，这样经过简单几步操作，我们就找到问题了。</p><h4 style="margin: 0px 0px 14px; padding: 0px; border: 0px; font-weight: 400; font-stretch: inherit; font-size: 24px; line-height: 1.3em; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #444444; word-wrap: break-word; letter-spacing: -0.3px">4. 总结</h4><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 18px; line-height: 28.8px; font-family: Titillium, Arial, sans-serif; vertical-align: baseline; color: #666666">好了，我们现在已经知道了WPT的基本原理，如何使用WPR抓取Trace文件，并且还知道了如何使用WPA进行简单的性能分析，这次就先介绍到这里，之后我们再来尝试分析更加复杂的问题。</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">14</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-6746.htm" tppabs="http://i.renjihe.com/blog/read.php?6746">LINK : fatal error LNK1123: 转换到 COFF 期间失败: 文件无效或损坏</a> <span id="starid6746"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 19:51 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-6746.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?6746#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb6746");'>引用(0)</a> , <a href="read.php-6746.htm" tppabs="http://i.renjihe.com/blog/read.php?6746">阅读(2)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb6746" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">终极解决方案：</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">VS2010在经历一些更新后，建立Win32&nbsp;Console&nbsp;Project时会出&ldquo;error&nbsp;LNK1123&rdquo;&nbsp;错误，解决方案为将&nbsp;项目&#124;项目属性&#124;配置属性&#124;清单工具&#124;输入和输出&#124;嵌入清单&nbsp;&ldquo;是&rdquo;改为&ldquo;否&rdquo;即可，但是没新建一个项目都要这样设置一次。</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">在建立VS2010&nbsp;Win32&nbsp;Project项目时，按照上面解决方案依然发生了&ldquo;error&nbsp;LNK1123&rdquo;错误，经过上网查资料，解决方案为：</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">第一步：与上相同。</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">第二步：将&nbsp;项目&#124;项目属性&#124;配置属性&#124;连接器&#124;清单文件&#124;嵌入清单&nbsp;&ldquo;是&rdquo;改为&ldquo;否&rdquo;。</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">第三步：一般计算机经过上两步设置就能解决问题了，但是如果还有问题，那就按一下方法解决：</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">计算机是否为64bit操作系统，如是，继续2。</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">查找是否有两个cvtres.exe。一个是C:&#92;Program&nbsp;Files(x86)&#92;Microsoft&nbsp;Visual&nbsp;Studio&nbsp;10.0&#92;vc&#92;bin&#92;cvtres.exe，&nbsp;另一个是C:&#92;Windows&#92;Microsoft.NET&#92;Framework&#92;v</span><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">4.0.30319&#92;cvtres.exe。右键属性&#124;详细信息&nbsp;查看两者版本号，删除/重命名较旧的版本，或者重新设置Path变量。</span><br /><br /><span style="font-size: 14px; line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; color: #333333; background-color: #f5f5f5">意外的是，治本的办法是第三步，删除旧版本的cvtres.exe后，就不需要每次都设置配置了。</span>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jan</span>
	<span class="textbox-calendar-day">23</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-6330.htm" tppabs="http://i.renjihe.com/blog/read.php?6330">语法错误 : 缺少“;”(在“类型”的前面)的解决方案</a> <span id="starid6330"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 22:02 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-6330.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?6330#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb6330");'>引用(0)</a> , <a href="read.php-6330.htm" tppabs="http://i.renjihe.com/blog/read.php?6330">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb6330" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px">今天测试了一个以.c结尾的C语言程序。原始代码如下：</p><div class="dp-highlighter bg_cpp" style="font-family: Consolas, 'Courier New', Courier, mono, serif; width: 693px; overflow: auto; padding-top: 1px; color: #362e2b; line-height: 26px; margin: 18px 0px !important; background-color: #e7e5dc"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c; background-color: #f8f8f8"><strong>[cpp]</strong>&nbsp;<a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: 0% 0%; background-repeat: no-repeat" href="javascript:if(confirm('http://blog.csdn.net/sanwen/yu/common.js  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/sanwen/yu/common.js#'" tppabs="http://blog.csdn.net/bendanban/article/details/7665076#" title="view plain" class="ViewSource">view plain</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: 0% 0%; background-repeat: no-repeat" href="javascript:if(confirm('http://blog.csdn.net/sanwen/yu/common.js  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/sanwen/yu/common.js#'" tppabs="http://blog.csdn.net/bendanban/article/details/7665076#" title="copy" class="CopyToClipboard">copy</a></div></div><ol class="dp-cpp" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: #5c5c5c; margin: 0px 0px 1px 45px !important; background-color: #ffffff"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; color: gray; background-color: inherit" class="preprocessor">#include&nbsp;&lt;stdio.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; color: gray; background-color: inherit" class="preprocessor">#include&nbsp;&lt;stdlib.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;main(</span><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;argc,&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;**argv)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stdout,&nbsp;<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit" class="string">&quot;Hello&nbsp;C&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;i;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #006699; background-color: inherit" class="keyword">for</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;10;&nbsp;i++)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stdout,&nbsp;<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit" class="string">&quot;%dst&nbsp;Hello&nbsp;C&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;i);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;getchar();&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #006699; background-color: inherit" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&#125;&nbsp;&nbsp;</span></li></ol></div><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px"><br />&nbsp;</p><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px">然后使用Visual Studio编译，我了个去！！！竟然有这个错误：</p><div class="dp-highlighter bg_html" style="font-family: Consolas, 'Courier New', Courier, mono, serif; width: 693px; overflow: auto; padding-top: 1px; color: #362e2b; line-height: 26px; margin: 18px 0px !important; background-color: #e7e5dc"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c; background-color: #f8f8f8"><strong>[html]</strong>&nbsp;<a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: 0% 0%; background-repeat: no-repeat" href="javascript:if(confirm('http://blog.csdn.net/sanwen/yu/common.js  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/sanwen/yu/common.js#'" tppabs="http://blog.csdn.net/bendanban/article/details/7665076#" title="view plain" class="ViewSource">view plain</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: 0% 0%; background-repeat: no-repeat" href="javascript:if(confirm('http://blog.csdn.net/sanwen/yu/common.js  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/sanwen/yu/common.js#'" tppabs="http://blog.csdn.net/bendanban/article/details/7665076#" title="copy" class="CopyToClipboard">copy</a></div></div><ol class="dp-xml" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: #5c5c5c; margin: 0px 0px 1px 45px !important; background-color: #ffffff"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">1</span><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #993300; background-color: inherit" class="tag">&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">c:&#92;users&#92;administrator&#92;desktop&#92;c_lan&#92;c_test&#92;c_test.c(7)&nbsp;:&nbsp;error&nbsp;C2143:&nbsp;语法错误&nbsp;:&nbsp;缺少&ldquo;;&rdquo;(在&ldquo;类型&rdquo;的前面)&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">1<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #993300; background-color: inherit" class="tag">&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">c:&#92;users&#92;administrator&#92;desktop&#92;c_lan&#92;c_test&#92;c_test.c(8)&nbsp;:&nbsp;error&nbsp;C2065:&nbsp;&ldquo;i&rdquo;:&nbsp;未声明的标识符&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">1<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #993300; background-color: inherit" class="tag">&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">c:&#92;users&#92;administrator&#92;desktop&#92;c_lan&#92;c_test&#92;c_test.c(8)&nbsp;:&nbsp;error&nbsp;C2065:&nbsp;&ldquo;i&rdquo;:&nbsp;未声明的标识符&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">1<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #993300; background-color: inherit" class="tag">&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">c:&#92;users&#92;administrator&#92;desktop&#92;c_lan&#92;c_test&#92;c_test.c(8)&nbsp;:&nbsp;error&nbsp;C2065:&nbsp;&ldquo;i&rdquo;:&nbsp;未声明的标识符&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">1<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #993300; background-color: inherit" class="tag">&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">c:&#92;users&#92;administrator&#92;desktop&#92;c_lan&#92;c_test&#92;c_test.c(10)&nbsp;:&nbsp;error&nbsp;C2065:&nbsp;&ldquo;i&rdquo;:&nbsp;未声明的标识符&nbsp;&nbsp;</span></span></li></ol></div><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px"><br />网上找了找，有人说可以把后缀改为.cpp。我很不乐意这样做，因为这样违背了我的初衷了。</p><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px">继续找。很好，这个错误的原因终于找到了。很久以前C语言的标准规定标量要在函数开始的时候定义或者声明。在解释一下，我把语言中自己就代表一个变量元素的变量成为标量，把可以容纳多个元素的变量成为数组。实际上有些人把数组称为向量，但是向量是数学中的概念，在数学中，向量分量称为第几维分量，分量数用维度说明，这样总是混淆。</p><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px">在说一遍结论：在C语言里，最好把所有的变量声明放到计算之前，先声明再使用，这样就不会有这类错误了。</p><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px">改一下的代码：</p><div class="dp-highlighter bg_cpp" style="font-family: Consolas, 'Courier New', Courier, mono, serif; width: 693px; overflow: auto; padding-top: 1px; color: #362e2b; line-height: 26px; margin: 18px 0px !important; background-color: #e7e5dc"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c; background-color: #f8f8f8"><strong>[cpp]</strong>&nbsp;<a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif'); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: 0% 0%; background-repeat: no-repeat" href="javascript:if(confirm('http://blog.csdn.net/sanwen/yu/common.js  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/sanwen/yu/common.js#'" tppabs="http://blog.csdn.net/bendanban/article/details/7665076#" title="view plain" class="ViewSource">view plain</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-image: url('http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif'); background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: 0% 0%; background-repeat: no-repeat" href="javascript:if(confirm('http://blog.csdn.net/sanwen/yu/common.js  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/sanwen/yu/common.js#'" tppabs="http://blog.csdn.net/bendanban/article/details/7665076#" title="copy" class="CopyToClipboard">copy</a></div></div><ol class="dp-cpp" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: #5c5c5c; margin: 0px 0px 1px 45px !important; background-color: #ffffff"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; color: gray; background-color: inherit" class="preprocessor">#include&nbsp;&lt;stdio.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; color: gray; background-color: inherit" class="preprocessor">#include&nbsp;&lt;stdlib.h&gt;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;main(</span><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;argc,&nbsp;</span><span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">char</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;**argv)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #2e8b57; background-color: inherit" class="datatypes">int</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;i;&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stdout,&nbsp;<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit" class="string">&quot;Hello&nbsp;C&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">);&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #006699; background-color: inherit" class="keyword">for</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;10;&nbsp;i++)&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;&#123;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stdout,&nbsp;<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit" class="string">&quot;%dst&nbsp;Hello&nbsp;C&#92;n&quot;</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">,&nbsp;i);&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;&#125;&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;getchar();&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin: 0px; padding: 0px; border: none; font-weight: bold; color: #006699; background-color: inherit" class="keyword">return</span><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">&nbsp;0;&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">&#125;&nbsp;&nbsp;</span></li></ol></div><p style="color: #362e2b; font-family: Arial; font-size: 14px; line-height: 26px"><br /></p><span style="font-size: 14px; line-height: 26px; font-family: Arial; color: #362e2b">希望对给位有用啊。。。</span>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Dec</span>
	<span class="textbox-calendar-day">9</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-6213.htm" tppabs="http://i.renjihe.com/blog/read.php?6213"> 解决”不允许一个用户使用一个以上用户名与一个服务器或共享资源的多重连接“问题</a> <span id="starid6213"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 19:02 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-6213.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?6213#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb6213");'>引用(0)</a> , <a href="read.php-6213.htm" tppabs="http://i.renjihe.com/blog/read.php?6213">阅读(1)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb6213" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><span style="font-size: 16px"><span style="color: #333333"><a style="text-decoration: none; outline: none; color: #ca0000" href="javascript:if(confirm('http://blog.csdn.net/shige/xue/feed.php?go=entry_7295  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/shige/xue/feed.php?go=entry_7295'" tppabs="http://blog.csdn.net/abbuggy/article/details/7314364">原文链接</a></span></span></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><span style="font-size: 16px"><span style="color: #333333">局</span>域网中共享文件夹时，如果我们使用过某个用户名和密码与服务器的共享文件夹进行过连接，并且选择记住了密码。当我们需要更改其他账号进入或映射一</span><span style="font-size: 16px">个未授权的共享文件夹，就会提示下面两个图的信息。</span></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><span style="font-size: 18px"><img style="border: none; max-width: 100%" src="read-2.php-save_7295" tppabs="http://hi.csdn.net/attachment/201203/3/0_1330793135NEoX.gif" border="0" /><br /></span></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><span style="font-size: 18px"><img style="border: none; max-width: 100%" src="feed-2.php-go=entry_7248" tppabs="http://hi.csdn.net/attachment/201203/3/0_1330792991HXxk.gif" border="0" /><br /></span></p><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"><span style="font-size: 16px">在cmd下运行<strong>net use * /del /y</strong>来清除系统记录列表。实测有效！</span></p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Dec</span>
	<span class="textbox-calendar-day">9</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-6212.htm" tppabs="http://i.renjihe.com/blog/read.php?6212">访问samba文件 &quot;指定网络名不再可用&quot;</a> <span id="starid6212"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 19:02 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-6212.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?6212#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb6212");'>引用(0)</a> , <a href="read.php-6212.htm" tppabs="http://i.renjihe.com/blog/read.php?6212">阅读(0)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb6212" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">问题描述：</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">windowsXP 下访问网络映射出来的samba路径中的文件，系统提示&quot;指定网络名不再可用&quot;</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">问题解决：</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">linux查看硬盘空间，发现硬盘空间已用完：</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px"><img style="border: none; max-width: 100%" src="feed-3.php-go=entry_7284" tppabs="http://hi.csdn.net/attachment/201202/28/0_1330421386bK3P.gif" border="0" /></p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">解决方法(两种)：</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">1、删除linux无用文件，腾出硬盘空间</p><p style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px">2、为linux添加硬盘空间</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Jul</span>
	<span class="textbox-calendar-day">25</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-6054.htm" tppabs="http://i.renjihe.com/blog/read.php?6054">Windows下获取Dump文件以及进程下各线程调用栈的方法总结</a> <span id="starid6054"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 03:06 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-6054.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?6054#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb6054");'>引用(0)</a> , <a href="read.php-6054.htm" tppabs="http://i.renjihe.com/blog/read.php?6054">阅读(0)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb6054" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<h1 style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px">1. Dump文件的用途</h1><div style="font-family: Arial; font-size: 14px; line-height: 26px">Dump文件, 主要用于诊断一个进程的运行状态,尤其是碰到崩溃(Crash)或者挂起(hang)不响应时,需要分析它的工作状态. &nbsp;除了平时常见的attach到这个进程, 分析Dump文件就成了一个重要的手段了.<br /><br />相信一些做软件维护和支持的工程师在这方面深有体会, 比如某天某时,客户说, 呀, 糟糕, 服务器进程挂掉了, 怎么回事? 然后,看看了日志文件,也没有什么可用的信息. &nbsp;技术支持告诉他, 按某步骤生成一个dump文件来看看......</div><h1 style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px"><a style="outline: none; color: #ca0000" name="t1"></a>2. 如何生成Dump文件, 如何获取调用栈<br /></h1><div style="font-family: Arial; font-size: 14px; line-height: 26px">生成dump文件, 可以按照进程的状态要求, 分两种情况:</div><div style="font-family: Arial; font-size: 14px; line-height: 26px">1) 这个进程并不会Crash, 它一直处于运行状态,&nbsp;</div><div style="font-family: Arial; font-size: 14px; line-height: 26px">&nbsp; &nbsp; 那么如何在不终止进程的情况下抓取dump文件呢？Debugging Tools for Windows里提供了一个非常好的工具，adplus.vbs。从名字可以看出，实际上是一个vb脚本，只是对cdb调试器作的一个包装脚本。<br />&nbsp; &nbsp; 其路径与Debugging Tools for Windows的安装路径相同，使用的方法也很简单，如下所示:<br />&nbsp; &nbsp; &nbsp;adplus.vbs -hang -p 1234 -o d:/dump</div><div style="font-family: Arial; font-size: 14px; line-height: 26px">&nbsp; &nbsp; &nbsp;其中-hang指明使用hang模式，亦即在进程运行过程中附加上去snapshot抓取一个dump文件，完成之后detach。&nbsp;<br />&nbsp; &nbsp; &nbsp;使用sysinternals中的procdump命令，一样可以得到运行状态的的进程的dump文件：<br />&nbsp; &nbsp; &nbsp;如：<br /><div class="dp-highlighter bg_javascript" style="font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; width: 919.53125px; overflow: auto; padding-top: 1px; margin: 18px 0px !important; background-color: #e7e5dc"><div class="bar" style="padding-left: 45px"><div class="tools" style="padding: 3px 8px 10px 10px; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; border-left-width: 3px; border-left-style: solid; border-left-color: #6ce26c; background-color: #f8f8f8"><strong>[javascript]</strong>&nbsp;<a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; background-image: none; background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial" href="javascript:if(confirm('http://blog.csdn.net/huati/shangxin/read.php?save_7248  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/huati/shangxin/read.php?save_7248#'" tppabs="http://blog.csdn.net/iihero/article/details/17184903#" title="view plain" class="ViewSource">view plain</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; background-image: none; background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial" href="javascript:if(confirm('http://blog.csdn.net/huati/shangxin/read.php?save_7248  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/huati/shangxin/read.php?save_7248#'" tppabs="http://blog.csdn.net/iihero/article/details/17184903#" title="copy" class="CopyToClipboard">copy</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; background-image: none; background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial" href="javascript:if(confirm('http://blog.csdn.net/huati/shangxin/read.php?save_7248  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/huati/shangxin/read.php?save_7248#'" tppabs="http://blog.csdn.net/iihero/article/details/17184903#" title="print" class="PrintSource">print</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; background-image: none; background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial" href="javascript:if(confirm('http://blog.csdn.net/huati/shangxin/read.php?save_7248  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.csdn.net/huati/shangxin/read.php?save_7248#'" tppabs="http://blog.csdn.net/iihero/article/details/17184903#" title="?" class="About">?</a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; background-image: none; background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial" href="javascript:if(confirm('https://code.csdn.net/snippets/read.php?save_7284  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://code.csdn.net/snippets/read.php?save_7284'" tppabs="https://code.csdn.net/snippets/101272" target="_blank" title="在CODE上查看代码片"><img style="border: none; max-width: 100%; position: relative; top: 1px; left: 2px" src="read-1.php-7418" tppabs="https://code.csdn.net/assets/CODE_ico.png" border="0" alt="在CODE上查看代码片" width="12" height="12" /></a><a style="text-decoration: none; outline: none; color: #a0a0a0; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; background-image: none; background-attachment: initial; background-color: inherit; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial" href="javascript:if(confirm('https://code.csdn.net/huati/nanguo/read.php?7417  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://code.csdn.net/huati/nanguo/read.php?7417'" tppabs="https://code.csdn.net/snippets/101272/fork" target="_blank" title="派生到我的代码片"><img style="border: none; max-width: 100%; position: relative; top: 2px; left: 2px" src="read-1.php-7416" tppabs="https://code.csdn.net/assets/ico_fork.svg" border="0" alt="派生到我的代码片" width="12" height="12" /></a></div></div><ol class="dp-c" style="padding: 0px; border: none; list-style-position: initial; list-style-image: initial; color: #5c5c5c; margin: 0px 0px 1px 45px !important; background-color: #ffffff"><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 20px; font-size: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit"><span style="margin: 0px; padding: 0px; border: none; background-color: inherit">procdump&nbsp;-s&nbsp;20&nbsp;-n&nbsp;1&nbsp;OBMO.exe&nbsp;c:&#92;OBMO.dmp&nbsp;&nbsp;</span></span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 20px; font-size: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">procdump&nbsp;-s&nbsp;20&nbsp;-n&nbsp;1&nbsp;AMPService.exe&nbsp;c:&#92;AMPService.dmp&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 20px; font-size: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">procdump&nbsp;-s&nbsp;20&nbsp;-n&nbsp;1&nbsp;OBServiceManager.exe&nbsp;c:&#92;OBServiceManager.dmp&nbsp;&nbsp;</span></li><li style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; line-height: 20px; font-size: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important; background-color: #f8f8f8"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">procdump&nbsp;-s&nbsp;20&nbsp;-n&nbsp;1&nbsp;MlSrvWrapper.exe&nbsp;c:&#92;MlSrvWrapper.dmp&nbsp;&nbsp;</span></li><li class="alt" style="border-style: none none none solid; border-left-width: 3px; border-left-color: #6ce26c; list-style: decimal-leading-zero outside; color: inherit; line-height: 20px; font-size: 18px; margin: 0px !important; padding: 0px 3px 0px 10px !important"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit">procdump&nbsp;-s&nbsp;20&nbsp;-n&nbsp;1&nbsp;AdminWebServices.exe&nbsp;c:&#92;AdminWebServices.dmp&nbsp;&nbsp;</span></li></ol></div><br />&nbsp; &nbsp; &nbsp;&nbsp;<br />&nbsp;</div><div style="font-family: Arial; font-size: 14px; line-height: 26px">2) 进程起来之后,很快就会Crash, 要获取它Crash时的dump文件</div><div style="font-family: Arial; font-size: 14px; line-height: 26px">&nbsp; &nbsp; &nbsp;与之对应的是-crash崩溃模式，用户先启动adplus，然后由它启动要监控的程序，在出现异常崩溃时自动生成dump文件，或者通过Ctrl-C人为发出抓取指 令。但是-crash模式在抓取完成之后，被监控的进程就必须终止。因此我们在这里只选用-hang模式。<br />-p是要调试的进程ID，-o 指定要output的dump文件路径。另外，与adplus类似的，有个UserDump工具，但是抓取用户模式的进程，而adplus则是内核模式和用户模式两者皆可。<br /><br />&nbsp; &nbsp; &nbsp;再就是使用Dr. Waston工具自动创建dump文件　(Crash的时候)</div><div style="font-family: Arial; font-size: 14px; line-height: 26px"><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">【抓dump】</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">1、一般抓法</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">adplus -hang -p 3230 -quiet 抓3230 pid进程，hang模式，相当于把那个进程暂停住，取内存快照</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">adplus -crash -pn w3wp -quiet 抓w3wp进程，crash模式，当那个进程崩溃结束的时候自动抓取当时的内存</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">adplus -hang -iis -quiet 抓IIS相关进程，包括其上host的web应用，以及iis自身</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">2、抓window服务</span><br /><a style="text-decoration: none; outline: none; color: #003399; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 25px; padding-bottom: 2px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #003399" href="javascript:if(confirm('http://support.microsoft.com/huati/juewang/feed.php?go=entry_7227  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://support.microsoft.com/huati/juewang/feed.php?go=entry_7227'" tppabs="http://support.microsoft.com/kb/824344/zh-cn" target="_blank">http://support.microsoft.com/kb/824344/zh-cn</a><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">3、远程抓</span><br /><a style="text-decoration: none; outline: none; color: #003399; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 25px; padding-bottom: 2px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #003399" href="javascript:if(confirm('http://blog.joycode.com/wenzhang/aiqingwenzhang/read.php?save_7227  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.joycode.com/wenzhang/aiqingwenzhang/read.php?save_7227'" tppabs="http://blog.joycode.com/tingwang/archive/2006/08/11/79763.aspx" target="_blank">http://blog.joycode.com/tingwang/archive/2006/08/11/79763.aspx</a><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">4、抓蓝屏和死机的dump</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">电脑无故重启或者蓝屏会在C:&#92;WINDOWS&#92;Minidump&#92;下保存一个minidump，但是这个minidump可用的命令很少，一般只打!analyze &ndash;v看到是哪个进程引起的，还有相关的驱动模块就基本定位问题了。</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">5、IIS回收的时候抓</span><br /><a style="text-decoration: none; outline: none; color: #003399; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 25px; padding-bottom: 2px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: #003399" href="javascript:if(confirm('http://blog.yesky.com/huati/xiangxin/feed.php?go=entry_7196  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://blog.yesky.com/huati/xiangxin/feed.php?go=entry_7196'" tppabs="http://blog.yesky.com/blog/omakey/archive/2006/12/17/1618015.html" target="_blank">http://blog.yesky.com/blog/omakey/archive/2006/12/17/1618015.html</a><br /></div><div style="font-family: Arial; font-size: 14px; line-height: 26px"><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">6、计划任务抓</span><br /><span style="line-height: 25px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif">比如一个进程起来后不知道它什么时候会意外崩溃，可以在计划任务里用crash里抓，当那个进程意外终止的时候，cdb可以直接附加上去，抓取当时的dump，如果要抓一些会自动重启的进程，而且要抓每次重启前的dump，可以参考附录里一节。</span><br /></div><h1 style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px">3. 如何分析Dump文件<br /><p style="margin: 10px 0px; padding: 0px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25px"><span style="font-weight: normal">【常用命令】</span></p><p style="margin: 10px 0px; padding: 0px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25px"><span style="font-weight: normal">1、先path C:&#92;WINDOWS&#92;Microsoft.NET&#92;Framework&#92;v2.0.50727，把.net路径设置为path环境变量，一遍在windbg里可以直接.load sos，而不必.load C:&#92;WINDOWS&#92;Microsoft.NET&#92;Framework&#92;v2.0.50727&#92;sos.dll<br />2、ld demo，加载你程序的pdb文件，调试.net程序一般要把kernel32和mscorwks的符号加载上，关于这两个东西大家可以查资料，尤其是后者有哪些函数可以多了解一些。<br />3、在windbg的file/symbol file path对话框里输入以下文字，以便自动加载和下载符号<br />C:&#92;WINDOWS&#92;Symbols;d:&#92;Program Files&#92;Microsoft Visual Studio 8&#92;SDK&#92;v2.0&#92;symbols;.sympath SRV*d:&#92;localsymbols*http://msdl.microsoft.com/download/symbols<br />其中有windows、.net2.0和自动从网上下载的调试符号，注意根据自己的情况适当修改目录</span></p><p style="margin: 10px 0px; padding: 0px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25px"><span style="font-weight: normal">【调试死锁】<br />1、!syncblk，查看哪些线程拿到了锁<br />2、~67e!clrstack 跳到某个拿到锁的线程看它正在干什么操作，迟迟不肯释放锁<br />3、!runaway 查看这个占有锁的线程运行了多长时间。<br />4、~*e!clrstack查看所有线程的托管堆栈，看看哪些是正在等待锁的，比如hang在System.Threading.Monitor.Enter(System.Object)&nbsp;<br />5、~136s选择该线程，显示如下<br />0:000&gt; ~136s eax=00005763 ebx=08deeb5c ecx=03eff0d4 edx=5570ab69 esi=08deeb5c edi=7ffd6000 eip=7c95ed54 esp=08deeb10 ebp=08deebb8 iopl=0 nv up ei pl zr na pe nc cs=001b ss=0023 ds=0023 es=0023 fs=003b gs=0000 efl=00000246 ntdll!KiFastSystemCallRet: 7c95ed54 c3 ret<br />找到ecx寄存器的值，复制后ctrl+f，向上查找，会找到!syncblk的地方，如下<br />0:000&gt; !syncblk Index SyncBlock MonitorHeld Recursion Owning Thread Info SyncBlock Owner 1906 03ee4be4 5 1 03ee8f88 22c8 67 185e2ef0 System.Object 5390 052ca39c 3 1 05292b30 1dd4 49 1060d3ac System.Object 9372 0530702c 15 1 0012d3a8 1aa8 80 185e7704 System.Object 11428 03eff0d4 35 1 053b8fa8 169c 120 166acd98 System.Object 15278 0531c6b4 61 1 06bc1430 26d8 86 1a5bea88 System.Object<br />可以看到136线程等待的锁被120号线程占着不放（格式有点乱，凑合看），<br />6、有时候通过ecx寄存器找锁不是很确定，可以用~* kb来把所有线程堆栈打出来，然后根据!syncblk出来的同步快的值去搜索大概有多少个线程在等那个锁。因为同样是等待锁，可等的状态不一样，有的在Q里，有的锁已经升级，有的去尝试去拿锁了，所以不一定当时ecx寄存器指向那块内存，具体如何找到某个正在等待锁的线程等待的锁的内存地址，以及它正等待的这个锁被哪个线程拿着，我还没琢磨出规律来，但一般情况下，如果有其它同步对象的话，更难查。.net里用我上面说的几步就能查出锁的问题了。</span></p><p style="margin: 10px 0px; padding: 0px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25px"><span style="font-weight: normal">更详细的内容，可以参照这篇文章：<a style="text-decoration: none; outline: none; color: #ca0000" href="javascript:if(confirm('http://www.cppblog.com/huati/shanghai/read.php?save_7196  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cppblog.com/huati/shanghai/read.php?save_7196'" tppabs="http://www.cppblog.com/tgh621/archive/2010/10/27/131525.html" target="_blank">http://www.cppblog.com/tgh621/archive/2010/10/27/131525.html</a></span></p><p style="margin: 10px 0px; padding: 0px; line-height: 25px"></p></h1><h1 style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px"><a style="outline: none; color: #ca0000" name="t3"></a><span style="font-size: 18px">4. &nbsp;获取调用栈</span></h1><div style="font-family: Arial; font-size: 14px; line-height: 26px">这里，可以使用几个工具：<br />1. 使用StraceNT这个trace工具<p style="margin: 0px; padding: 0px; color: #454545; font-family: tahoma, helvetica, arial; line-height: 21px">StraceNT&nbsp;-&nbsp;A&nbsp;System&nbsp;Call&nbsp;Tracer&nbsp;for&nbsp;Windows&nbsp;<br /></p><p style="margin: 0px; padding: 0px; color: #454545; font-family: tahoma, helvetica, arial; line-height: 21px"><a style="text-decoration: none; outline: none; color: #f87070" href="javascript:if(confirm('http://www.intellectualheaven.com/feed.php?go=entry_7244  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intellectualheaven.com/feed.php?go=entry_7244'" tppabs="http://www.intellectualheaven.com/default.asp?BH=projects&H=strace.htm" target="_blank">http://www.intellectualheaven.com/default.asp?BH=projects&amp;H=strace.htm</a>&nbsp;</p></div><span style="font-size: 14px; line-height: 26px; font-family: Arial">2. 直接使用procexp.exe也可以看到进程的调用栈信息，如果符号库比较全，则调用栈很清晰．<br />3. MSE (Managed Stack Explorer)<br />&nbsp; &nbsp; 这个工具对于dotnet进程非常实用．http://mse.codeplex.com/, 直接可以看到dotnet进程的托管栈细节．</span><p style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px"></p><p style="margin: 10px 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 25px">工具基本上也就这么多了，具体分析还得看怎么用．</p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div><div class="textbox">
	<div class="textbox-calendar">
	<span class="textbox-calendar-month">Dec</span>
	<span class="textbox-calendar-day">7</span>
	</div>
	<div class="textbox-title">
		<h4>
		<a href="read.php-5753.htm" tppabs="http://i.renjihe.com/blog/read.php?5753">网卡的MAC地址是固化在网上EPROM中的物理地址</a> <span id="starid5753"><img src="unstarred.gif" tppabs="http://i.renjihe.com/blog/template/default/images/others/unstarred.gif" alt="" title="未加星标" border="0"/></span> <img src="blank.gif" tppabs="http://i.renjihe.com/blog/images/weather/blank.gif" alt="不指定" title="不指定"/>
		</h4>
		<div class="textbox-label">
		<a href="view.php-go=user_1.htm" tppabs="http://i.renjihe.com/blog/view.php?go=user_1" target="_blank">renjihe1988</a> , 13:07 , <a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="查看分类： 软件">软件</a> &raquo; <a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="查看分类： windows">windows</a> , <a href="read.php-5753.htm#reply" tppabs="http://i.renjihe.com/blog/read.php?5753#reply" title="发表您的评论">评论(0)</a> , <a href='javascript: void(0);' title="查看引用地址" onclick='showhidediv("tb5753");'>引用(0)</a> , <a href="read.php-5753.htm" tppabs="http://i.renjihe.com/blog/read.php?5753">阅读(0)</a> , Via 本站原创 
		</div>
	</div>
	<div id="tb5753" style="display: none;" class="textbox-tburl"><strong>引用功能被关闭了。</strong></div>
	
	<div class="textbox-content">
	<p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">在平常的应用中，有很多方面与MAC地址相关，如有些软件是和MAC地址绑定的，没有允许的MAC地址，软件就无法运行；</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　局域网里，管理人员常常将IP与客户机的MAC地址绑定，以方便管理，万一用户的网卡坏掉了，自行更改网卡后必须向管理人员申请更改绑定的MAC地址，这样就比较麻烦。在这种时候，如果我们能够更改一下网卡的MAC地址，那就方便多了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　实际上，修改网卡的MAC地址是很容易的，我们既可以在作系统中通过软件来修改网卡的MAC地址，而实际的网卡MAC地址不变，以达到欺骗软件的目的；也可以用工具直接更改网卡的实际MAC地址。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">一、瞒天过海</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">1.修改注册表</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　几乎所有的网卡驱动程序都可以被NdisReadNetworkAddress参数调用，以便从注册表中读取一个用户指定的MAC地址。当驱动程序确定这个MAC地址是有效的，就会将这个MAC地址编程入其硬件寄存器中，而忽略网卡固有的MAC地址。我们通过手工修改Windows的注册表就可以达到目的。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　在Winodws 98下运行Windows的注册表编辑器，展开&ldquo;HKEY_LOCAL_MACHINE＼System＼Current ControlSet＼Services＼Class＼Net&rdquo;，会看到类似&ldquo;0000&rdquo;、&ldquo;0001&rdquo;、&ldquo;0002&rdquo;的子键。从&ldquo;0000&rdquo;子键开始点击，依次查找子键下的&ldquo;DriverDesc&rdquo;键的内容，直到找到与我们查找的目标完全相同的网卡注册表信息为止。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　当找到正确的网卡后，点击下拉式菜单&ldquo;编辑/新建/字符串&rdquo;，串的名称为&ldquo;Networkaddress&rdquo;，在新建的&ldquo;Networkaddress&rdquo;串名称上双击鼠标就可以输入数值了。输入你想指定的新的MAC地址值。新的MAC地址应该是一个12位的十六进制数字或字母，其间没有&ldquo;-&rdquo;，类似&ldquo;000000000000&rdquo;的这样的数值（注意，在Windows 98和Windows 2000/XP中具体键值的位置稍有不同，大家可通过查找功能来寻找）。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　在&ldquo;NetworkAddress&rdquo;下继续添加一个名为 &ldquo;ParamDesc&rdquo;的字串值，它将作为&ldquo;NetworkAddress&rdquo;项的描述，数值可以取为&ldquo;MAC Address&rdquo;。再把它的内容修改为你想设定的内容.</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">2.修改网卡属性</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　大部分的网卡都可以通过在控制面板中修改网卡属性来更改其MAC地址，笔者的3COM 3C905B-TX和RTL8139芯片的网卡都可以这样轻松修改。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　在&ldquo;设备管理器中&rdquo;，右键点击需要修改MAC地址的网卡图标，并选择&ldquo;属性/高级&rdquo;选项卡。在&ldquo;属性&rdquo;区，就可以看到一个称作&ldquo;Network Address&rdquo;或其他相类似名字的的项目，点击它，在右侧&ldquo;值&rdquo;的下方，输入要指定的MAC地址值。要连续输入12个十六进制数字或字母，不要在其间输入&ldquo;-&rdquo;。重新启动系统后设置就会生效了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">&nbsp;</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />MAC地址与IP地址绑定策略的破解<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;1 引言&nbsp;</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　对&ldquo;IP地址盗用&rdquo;的解决方案绝大多数都是采取MAC与IP地址绑定策略，这种做法是十分危险的，本文将就这个问题进行探讨。在这里需要声明的是，本文是处于对对MAC与IP地址绑定策略安全的忧虑，不带有任何黑客性质。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />1.1 为什么要绑定MAC与IP 地址</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　影响网络安全的因素很多，IP地址盗用或地址欺骗就是其中一个常见且危害极大的因素。现实中，许多网络应用是基于IP的，比如流量统计、账号控制等都将IP地址作为标志用户的一个重要的参数。如果有人盗用了合法地址并伪装成合法用户，网络上传输的数据就可能被破坏、窃听，甚至盗用，造成无法弥补的损失。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　盗用外部网络的IP地址比较困难，因为路由器等网络互连设备一般都会设置通过各个端口的IP地址范围，不属于该IP地址范围的报文将无法通过这些互连设备。但如果盗用的是Ethernet内部合法用户的IP地址，这种网络互连设备显然无能为力了。&ldquo;道高一尺，魔高一丈&rdquo;，对于Ethernet内部的IP地址被盗用，当然也有相应的解决办法。绑定MAC地址与IP地址就是防止内部IP盗用的一个常用的、简单的、有效的措施。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />1.2 MAC与IP 地址绑定原理</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　IP地址的修改非常容易，而MAC地址存储在网卡的EEPROM中，而且网卡的MAC地址是唯一确定的。因此，为了防止内部人员进行非法IP盗用(例如盗用权限更高人员的IP地址，以获得权限外的信息)，可以将内部网络的IP地址与MAC地址绑定，盗用者即使修改了IP地址，也因MAC地址不匹配而盗用失败：而且由于网卡MAC地址的唯一确定性，可以根据MAC地址查出使用该MAC地址的网卡，进而查出非法盗用者。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　目前，很多单位的内部网络，尤其是学校校园网都采用了MAC地址与IP地址的绑定技术。许多防火墙（硬件防火墙和软件防火墙）为了防止网络内部的IP地址被盗用，也都内置了MAC地址与IP地址的绑定功能。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　从表面上看来，绑定MAC地址和IP地址可以防止内部IP地址被盗用，但实际上由于各层协议以及网卡驱动等实现技术，MAC地址与IP地址的绑定存在很大的缺陷，并不能真正防止内部IP地址被盗用。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />2 破解MAC与IP地址绑定策略</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">2.1 IP地址和MAC地址简介</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　现行的TCP/IP网络是一个四层协议结构，从下往上依次为链路层、网络层、传输层和应用层。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　Ethernet协议是链路层协议，使用的地址是MAC地址。MAC地址是Ethernet网卡在Ethernet中的硬件标志，网卡生产时将其存于网卡的EEPROM中。网卡的MAC地址各不相同，MAC地址可以唯一标志一块网卡。在Ethernet上传输的每个报文都含有发送该报文的网卡的MAC地址。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　Ethernet根据Ethernet报文头中的源MAC地址和目的MAC来识别报文的发送端和接收端。IP协议应用于网络层，使用的地址为IP地址。使用IP协议进行通讯，每个IP报文头中必须含有源IP和目的IP地址，用以标志该IP报文的发送端和接收端。在Ethernet上使用IP协议传输报文时，IP报文作为Ethernet报文的数据。IP地址对于Ethernet交换机或处理器是透明的。用户可以根据实际网络的需要为网卡配置一个或多个IP地址。MAC地址和IP地址之间并不存在一一对应的关系。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　MAC地址存储在网卡的EEPROM中并且唯一确定，但网卡驱动在发送Ethernet报文时，并不从EEPROM中读取MAC地址，而是在内存中来建立一块缓存区，Ethernet报文从中读取源MAC地址。而且，用户可以通过操作系统修改实际发送的</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">Ethernet报文中的源MAC地址。既然MAC地址可以修改，那么MAC地址与IP地址的绑定也就失去了它原有的意义。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">2.2 破解方案&nbsp;</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />　　下图是破解试验的结构示意图。其内部服务器和外部服务器都提供Web服务，防火墙中实现了MAC地址和IP地址的绑定。报文中的源MAC地址与1P地址对如果无法与防火墙中设置的MAC地址与1P地址对匹配，将无法通过防火墙。主机2和内部服务器都是内部网络中的合法机器；主机1是为了做实验而新加入的机器。安装的操作系统是W2000企业版，网卡是3Com的。<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;<br />&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;作者：bazhuayu1987 0位粉丝 2008-3-15 09:31 回复此发言&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;<br />&nbsp;<br />2 MAC地址与IP地址绑定策略的破解<span class="Apple-converted-space">&nbsp;</span><br />&nbsp;</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">&nbsp;</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />　　试验需要修改主机1中网卡的MAC和IP地址为被盗用设备的MAC和IP地址。首先，在控制面板中选择&ldquo;网络和拨号连接&rdquo;，选中对应的网卡并点击鼠标右键，选择属性，在属性页的&ldquo;常规&rdquo;页中点击&ldquo;配置&rdquo;按钮。在配置属性页中选择&ldquo;高级&rdquo;，再在&ldquo;属性&rdquo;栏中选择&ldquo;Network Address&rdquo;，在&ldquo;值&rdquo;栏中选中输人框，然后在输人框中输人被盗用设备的MAC地址，MAC地址就修改成功了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　然后再将IP地址配置成被盗用设备的IP地址。盗用内部客户机IP地址：将主机1的MAC地址和IP地址分别修改为主机2的MAC地址和IP地址。主机1可以访问外部服务器，能够顺利地通过防火墙，访问权限与主机2没有分别。而且，与此同时主机2也可以正常地访问外部服务器，完全不受主机1的影响。无论是主机2还是防火墙都察觉不到主机1的存在。主机1如果访问内部服务器，根本无需通过防火墙，更是畅通无阻了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　盗用内部服务器IP地址：将主机1的MAC地址和U地址修改为内部服务器的MAC地址和IP地址。主机1也提供Web服务。为了使效果更明显，主机1上提供的Web服务内容与内部服务器提供的内容不同。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　因为在实际的实验中主机1与主机2连在同一个HUB上，主机2的访问请求总是先被主机1响应，主机2期望访问的是内部服务器，得到的却总是主机1提供的内容。更一般地，主机2如果试图访问内部服务器，获得的到底是主机1提供的内容还是内部服务器提供的内容具有随机性，要看它的访问请求首先被谁响应，在后面的分析中我们将进一步对此进行阐述。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　盗用服务器的MAC和IP危害可能更大，如果主机1提供的Web内容和内部服务器中的内容一样，那么主机2将无法识别它访问的到底是哪个机器；如果Web内容中要求输人账号、密码等信息，那么这些信息对于主机1来说则是一览无遗了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />3 破解成功的原因</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　上面的实验验证了绑定MAC地址与IP地址的确存在很大的缺陷，无法有效地防止内部IP地址被盗用。接下来，将从理论上对该缺陷进行详细的分析。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　缺陷存在的前提是网卡的混杂接收模式，所谓混杂接收模式是指网卡可以接收网络上传输的所有报文，无论其目的MAC地址是否为该网卡的MAC地址。正是由于网卡支持混杂模式，才使网卡驱动程序支持MAC地址的修改成为可能；否则，就算修改了MAC地址，但是网卡根本无法接收相应地址的报文，该网卡就变得只能发送，无法接收，通信也就无法正常进行了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　MAC地址可以被盗用的直接原因是网卡驱动程序发送Ethernet报文的实现机制。Ethernet报文中的源MAC地址是驱动程序负责填写的，但驱动程序并不从网卡的EEPROM中读取MAC，而是在内存中建立一个MAC地址缓存区。网卡初始化的时候将EEPROM中的内容读入到该缓存区。如果将该缓存区中的内容修改为用户设置的MAC地址，以后发出去的Ethernet报文的源地址就是修改后的MAC地址了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　如果仅仅是修改MAC地址，地址盗用并不见得能够得逞。Ethernet是基于广播的，Ethernet网卡都能监听到局域网中传输的所有报文，但是网卡只接收那些目的地址与自己的MAC地址相匹配的Ethernet报文。如果有两台具有相同MAC地址的主机分别发出访问请求，而这两个访问请求的响应报文对于这两台主机都是匹配的，那么这两台主机就不只接收到自己需要的内容，而且还会接收到目的为另外一台同MAC主机的内容。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　按理说，两台主机因为接收了多余的报文后，都应该无法正常工作，盗用马上就会被察觉，盗用也就无法继续了；但是，在实验中地址被盗用之后，各台实验设备都可以互不干扰的正常工作。这又是什么原因呢?答案应该归结于上层使用的协议。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　目前，网络中最常用的协议是TCP/IP协议，网络应用程序一般都是运行在TCP或者UDP之上。例如，实验中Web服务器采用的HTTP协议就是基于TCP的。在TCP或者UDP中，标志通信双方的不仅仅是IP地址，还包括端口号。在一般的应用中，用户端的端口号并不是预先设置的，而是协议根据一定的规则生成的，具有随机性。像上面利用IE来访问Web服务器就是这样。UDP或者TCP的端口号为16位二进制数，两个16位的随机数字相等的几率非常小，恰好相等又谈何容易?两台主机虽然MAC地址和IP地址相同，但是应用端口号不同，接收到的多余数据由于在TCP/UDP层找不到匹配的端口号，被当成无用的数据简单地丢弃了，而TCP/UDP层的处理对于用户层来说是透明的；所以用户可以&ldquo;正确无误&rdquo;地正常使用相应的服务，而不受地址盗用的干扰。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　当然，某些应用程序的用户端口号可能是用户或者应用程序自己设置的，而不是交给协议来随机的生成。那么，结果又会如何呢?例如，在两台MAC地址和IP地址都相同的主机上，启动了两个端口相同的应用程序，这两个应用是不是就无法正常工作了呢?其实不尽然。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　如果下层使用的是UDP协议，两个应用将互相干扰无法正常工作。如果使用的是TCP协议，结果就不一样了。因为TCP是面向连接的，为了实现重发机制，保证数据的正确传输，TCP引入了报文序列号和接收窗口的概念。在上述的端口号匹配的报文中，只有那些序列号的偏差属于接收窗口之内的报文才会被接收，否则，会被认为是过期报文而丢弃。TCP协议中的报文的序列号有32位，每个应用程序发送的第一个报文的序列号是严格按照随机的原则产生的，以后每个报文的序列号依次加1。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　窗口的大小有16位，也就是说窗口最大可以是216，而序列号的范围是232，主机期望接收的TCP数据的序列号正好也处于对方的接收范围之内的概率为1/216，可谓小之又小。 TCP的序列号本来是为了实现报文的正确传输，现在却成了地址盗用的帮凶。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa"><br />4 解决MAC与IP地址绑定被破解的方法</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　解决MAC与IP地址绑定被破解的方法很多，主要以下几种。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　交换机端口、MAC地址和IP地址三者绑定的方法；代理服务与防火墙相结合的方法；用PPPoE协议进行用户认证的方法；基于目录服务策略的方法；统一身份认证与计费软件相结合的方法等。在这里笔者尤其推荐最后一种方法，这种方法是将校园网办公自动化系统和网络计费软件结合在一起而实现的，这在校园网信息化建设的今天具有很强的实践性。&nbsp;</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">二、釜底抽薪</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　假如用户使用的是RealTek公司的RTL8139A/B/C/D系列芯片的网卡，有一种更简单的方法修改MAC地址。RealTek公司设计的PG8139软件可以直接修改RTL8139系列网卡的MAC地址，甚至可以让每次启动后网卡的MAC地址都不相同。具体*作如下：</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　把pg8139.zip解压缩到一个文件夹下，以8139C芯片为例，用记事本打开该目录下的8139c.cfg文件，修改8139c.cfg文件的第一行，将&ldquo;NodeID&rdquo;（网卡号）后改为所需要的?怠＝ㄒ槌跏贾滴 ?0 E0 4C 00 00 01&rdquo;，修改时注意每两位之间至少要留一个空格</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">保存后再进入MS-DOS方式（注意，要在纯DOS模式下），在DOS提示符后输入&ldquo;pg8139 /pci 8139c.cfg&rdquo;后再按回车键，此时系统如果提示&ldquo;Programming EEPROM is successful&rdquo;则说明更改成功。PG8139程序每成功运行一次，在相应的8139c.cfg文件中，系统会自动将&ldquo;NodeID&rdquo;的值加1，也就是说，第一次运行时给当前工作站网卡分配的MAC地址为&ldquo;00 E0 4C 00 00 01&rdquo;，第二次运行时，系统会自动分配为&ldquo;00 E0 4C 00 00 02&rdquo;，第三次运行时，会自动为&ldquo;00 E0 4C 00 00 03&rdquo;&hellip;&hellip;，依此类推，就可以批量地修改网卡的MAC地址，不再需要重复修改8139c.cfg文件了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　如果用户的网卡是RTL8139其他版本的芯片，只要找到相应的.cfg文件修改就行了。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　　另外，还有一种极端的办法，通过烧录网卡的EEPROM来达到克隆MAC地址的目的。但这样做风险很大，而且*作复杂，即使是有经验的用户也难免在*作中出现错误，我们不推荐进行这种*作。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">三、巧借东风</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">如果是Windows 2000/XP的用户，则可以使用免费MAC地址修改软件SMAC。运行SMAC后，窗口中的列表框列出计算机上正处于工作状态的网卡。选定要修改的网卡后，在列表框下方的六个输入框中输入新的MAC地址后，点击右侧的&ldquo;Update MAC（修改MAC地址）&rdquo;，即可完成MAC地址的修改。如图4所示。</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">　修改MAC地址的工具有很多，但大多数都只适用于Windows 2000/XP，笔者在这里推荐用&ldquo;超级兔子魔法设置&rdquo;，因为不但简单易用，而且在Windows 9x系统中使用同样有效。<span class="Apple-converted-space">&nbsp;</span><br />　　　　<br />　　修改完成后，就要使设置生效，一般的办法是重新启动系统。还有一种简单的办法不需要重新启动系统，在&ldquo;设备管理器&rdquo;中，选定网络适配器图标，点击鼠标右键，选择&ldquo;禁用&rdquo;（请注意*作后，状态栏是否已显示为&ldquo;禁用&rdquo;）。然后再右键单击选定的网络适配器，在右键菜单中选择&ldquo;启用&rdquo;。这样就能使修改后的设置生效</p><p style="margin: 0px 0px 0.8em; padding: 0px; line-height: 1.4; color: #333333; font-family: Tahoma,Verdana,STHeiTi,simsun,sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: #fafafa">类别：默认分类 &#124; 添加到搜藏 &#124; 浏览(255) &#124; 评论 (0)&nbsp; 上一篇：Win2003无组件上传文件大小限制...&nbsp;&nbsp;&nbsp; 下一篇：修改硬件信息 相关文章：? 怎么破解路由器绑定ip和mac　　　　　　　　　 ? MAC地址与IP地址绑定策略的破解3<span class="Apple-converted-space">&nbsp;</span><br />? MAC地址与IP地址绑定策略的破解2　　　　　　　　　 ? IP地址与MAC绑定的破解之道- -<span class="Apple-converted-space">&nbsp;</span><br />? MAC地址与IP地址绑定策略的破解　　　　　　　　　 ? 破解绑定网卡的网络MAC地址的网...<span class="Apple-converted-space">&nbsp;</span><br />? Linux中IP与MAC的绑定　　　　　　　　　 ? 学校校园网络IP地址的管理及IP,M...<span class="Apple-converted-space">&nbsp;</span><br />? ROS限速,防syn,ip伪装,mac绑定,...　　　　　　　　　 ? ROS限速,防syn,ip伪装,mac绑定,...<span class="Apple-converted-space"> <br /></span></p>
	</div>
	<div class="textbox-bottom">
	</div>
	<div class="tags" style="display: none"> 
	</div>
</div>
					<div class="article-bottom" style="display: block">
						<div class="pages">
							<span class="pagebar-mainbody"> 分页： 1/7  <a href="index.php-go=category_32&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=1"><img src="doubleleft.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleleft.gif" alt="第一页" title="第一页" border="0"/></a> <span class="pagebar-selections"> <span class="pagelink-current">1</span>  <a href="index.php-mode=1&page=10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=2">2</a>  <a href="index.php-mode=1&page=713.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=3">3</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/mapreduce.html  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/mapreduce.html'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=4">4</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/640.jpg!heading  \n\nļ޷ Teleport Ultra , Ϊ ļδҵ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/640.jpg!heading'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=5">5</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/66372-20160303223801174-1068327928.jpg  \n\nļ޷ Teleport Ultra , Ϊ ļδҵ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/66372-20160303223801174-1068327928.jpg'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=6">6</a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=7">7</a> </span> <a href="index.php-mode=1&page=10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=2"><img src="singleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/singleright.gif" alt="下页" title="下页" border="0"/></a>  <a href="javascript:if(confirm('http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://i.renjihe.com/blog/1377086-aeaaa800a7f95ae2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240'" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=7"><img src="doubleright.gif" tppabs="http://i.renjihe.com/blog/template/default/images/arrows/doubleright.gif" alt="最后页" title="最后页" border="0"/></a> </span> [ 显示模式： <a href="index.php-go=category_32&mode=1&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=1&page=1" title="切换到摘要模式">摘要</a> | <a href="index.php-go=category_32&mode=2&page=1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32&mode=2&page=1" title="切换到列表模式">列表</a> ]
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar">
			<div id="innerSidebar">
				<div id="innerSidebarSearch">
					<form method="post" action="http://i.renjihe.com/blog/visit.php">
	<input name="job" type="hidden" value="search"/>
	<input name="keyword" class="search-field" type="text"/>
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit"/>
	</form>
				</div>
				<div id="innerSidebarOne">
					<div id='panelCategory' class="panel">
<h5 style="cursor: pointer" onclick='showhidediv("sideblock_category");'>分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><a href="index.php-go=category_1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_1" title="硬件">硬件</a> [1] <a href="feed.php-go=category_1" tppabs="http://i.renjihe.com/blog/feed.php?go=category_1"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_6.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_6" title="fpga/cpld">fpga/cpld</a> [10] <a href="feed.php-go=category_6" tppabs="http://i.renjihe.com/blog/feed.php?go=category_6"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_66.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_66" title="模电与电路">模电与电路</a> [1] <a href="feed.php-go=category_66" tppabs="http://i.renjihe.com/blog/feed.php?go=category_66"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_7.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_7" title="DSP">DSP</a> [14] <a href="feed.php-go=category_7" tppabs="http://i.renjihe.com/blog/feed.php?go=category_7"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_27.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_27" title="硬件知识">硬件知识</a> [26] <a href="feed.php-go=category_27" tppabs="http://i.renjihe.com/blog/feed.php?go=category_27"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_73.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_73" title="3D打印">3D打印</a> [1] <a href="feed.php-go=category_73" tppabs="http://i.renjihe.com/blog/feed.php?go=category_73"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_64.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_64" title="资讯">资讯</a> [18] <a href="feed.php-go=category_64" tppabs="http://i.renjihe.com/blog/feed.php?go=category_64"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_78.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_78" title="树莓派">树莓派</a> [5] <a href="feed.php-go=category_78" tppabs="http://i.renjihe.com/blog/feed.php?go=category_78"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_2" title="软件">软件</a> [0] <a href="feed.php-go=category_2.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_2"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_9.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_9" title="linux">linux</a> [912] <a href="feed.php-go=category_9" tppabs="http://i.renjihe.com/blog/feed.php?go=category_9"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_14.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_14" title="QT">QT</a> [131] <a href="feed.php-go=category_14" tppabs="http://i.renjihe.com/blog/feed.php?go=category_14"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_82.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_82" title="Lua">Lua</a> [15] <a href="feed.php-go=category_82" tppabs="http://i.renjihe.com/blog/feed.php?go=category_82"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_15.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_15" title="Android">Android</a> [261] <a href="feed.php-go=category_15" tppabs="http://i.renjihe.com/blog/feed.php?go=category_15"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_65.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_65" title="Iphone">Iphone</a> [48] <a href="feed.php-go=category_65" tppabs="http://i.renjihe.com/blog/feed.php?go=category_65"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_32.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_32" title="windows"><strong>windows</strong></a> [61] <a href="feed.php-go=category_32" tppabs="http://i.renjihe.com/blog/feed.php?go=category_32"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_31.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_31" title="webkit">webkit</a> [79] <a href="feed.php-go=category_31" tppabs="http://i.renjihe.com/blog/feed.php?go=category_31"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_10.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_10" title="C/C++">C/C++</a> [98] <a href="feed.php-go=category_10" tppabs="http://i.renjihe.com/blog/feed.php?go=category_10"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_29.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_29" title="lisp、Erlang">Erlang、Lisp</a> [28] <a href="feed.php-go=category_29" tppabs="http://i.renjihe.com/blog/feed.php?go=category_29"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_46.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_46" title="Python">Python</a> [255] <a href="feed.php-go=category_46" tppabs="http://i.renjihe.com/blog/feed.php?go=category_46"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_18.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_18" title="Java">Java</a> [25] <a href="feed.php-go=category_18" tppabs="http://i.renjihe.com/blog/feed.php?go=category_18"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_13.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_13" title="web">web</a> [486] <a href="feed.php-go=category_13" tppabs="http://i.renjihe.com/blog/feed.php?go=category_13"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_50.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_50" title="测试">测试</a> [12] <a href="feed.php-go=category_50" tppabs="http://i.renjihe.com/blog/feed.php?go=category_50"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_23.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_23" title="源码分析">源码分析</a> [85] <a href="feed.php-go=category_23" tppabs="http://i.renjihe.com/blog/feed.php?go=category_23"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_19.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_19" title="编译原理">编译原理</a> [82] <a href="feed.php-go=category_19" tppabs="http://i.renjihe.com/blog/feed.php?go=category_19"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_83.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_83" title="黑客">黑客</a> [4] <a href="feed.php-go=category_83" tppabs="http://i.renjihe.com/blog/feed.php?go=category_83"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_39.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_39" title="GPU编程">GPU编程</a> [89] <a href="feed.php-go=category_39" tppabs="http://i.renjihe.com/blog/feed.php?go=category_39"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_48.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_48" title="OpenGL">OpenGL</a> [117] <a href="feed.php-go=category_48" tppabs="http://i.renjihe.com/blog/feed.php?go=category_48"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_52.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_52" title="OpenCV">OpenCV</a> [18] <a href="feed.php-go=category_52" tppabs="http://i.renjihe.com/blog/feed.php?go=category_52"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_20.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_20" title="音视频与流媒体">音视频与流媒体</a> [412] <a href="feed.php-go=category_20" tppabs="http://i.renjihe.com/blog/feed.php?go=category_20"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_62.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_62" title="游戏">游戏</a> [455] <a href="feed.php-go=category_62" tppabs="http://i.renjihe.com/blog/feed.php?go=category_62"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_54.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_54" title="FLEX&AS">FLEX&amp;AS</a> [124] <a href="feed.php-go=category_54" tppabs="http://i.renjihe.com/blog/feed.php?go=category_54"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_61.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_61" title="编程杂项">编程杂项</a> [55] <a href="feed.php-go=category_61" tppabs="http://i.renjihe.com/blog/feed.php?go=category_61"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_57.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_57" title="网络安全">网络安全</a> [43] <a href="feed.php-go=category_57" tppabs="http://i.renjihe.com/blog/feed.php?go=category_57"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_28.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_28" title="软件工程">软件工程</a> [40] <a href="feed.php-go=category_28" tppabs="http://i.renjihe.com/blog/feed.php?go=category_28"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_74.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_74" title="并行编程">并行编程</a> [4] <a href="feed.php-go=category_74" tppabs="http://i.renjihe.com/blog/feed.php?go=category_74"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_77.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_77" title="大数据">大数据</a> [10] <a href="feed.php-go=category_77" tppabs="http://i.renjihe.com/blog/feed.php?go=category_77"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_37" title="理论">理论</a> [0] <a href="feed.php-go=category_37.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=category_37"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_38.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_38" title="数学">数学</a> [75] <a href="feed.php-go=category_38" tppabs="http://i.renjihe.com/blog/feed.php?go=category_38"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_43.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_43" title="物理">物理</a> [19] <a href="feed.php-go=category_43" tppabs="http://i.renjihe.com/blog/feed.php?go=category_43"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_24.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_24" title="算法">算法</a> [80] <a href="feed.php-go=category_24" tppabs="http://i.renjihe.com/blog/feed.php?go=category_24"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_40.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_40" title="音频处理">音频处理</a> [3] <a href="feed.php-go=category_40" tppabs="http://i.renjihe.com/blog/feed.php?go=category_40"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_36.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_36" title="CV&Graphic">CV&amp;Graphic</a> [183] <a href="feed.php-go=category_36" tppabs="http://i.renjihe.com/blog/feed.php?go=category_36"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li class="indent"><a href="index.php-go=category_35.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_35" title="AR&AI&模式识别">AR&amp;AI&amp;模式识别</a> [127] <a href="feed.php-go=category_35" tppabs="http://i.renjihe.com/blog/feed.php?go=category_35"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_26.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_26" title="工具">工具</a> [56] <a href="feed.php-go=category_26" tppabs="http://i.renjihe.com/blog/feed.php?go=category_26"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_3.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_3" title="新鲜玩意">新鲜玩意</a> [446] <a href="feed.php-go=category_3" tppabs="http://i.renjihe.com/blog/feed.php?go=category_3"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_63.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_63" title="行业应用">行业应用</a> [6] <a href="feed.php-go=category_63" tppabs="http://i.renjihe.com/blog/feed.php?go=category_63"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_4.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_4" title="资讯">资讯</a> [137] <a href="feed.php-go=category_4" tppabs="http://i.renjihe.com/blog/feed.php?go=category_4"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_12.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_12" title="网文">网文</a> [622] <a href="feed.php-go=category_12" tppabs="http://i.renjihe.com/blog/feed.php?go=category_12"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_41.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_41" title="点子正传">点子正传</a> [20] <a href="feed.php-go=category_41" tppabs="http://i.renjihe.com/blog/feed.php?go=category_41"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_56.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_56" title="理财">理财</a> [24] <a href="feed.php-go=category_56" tppabs="http://i.renjihe.com/blog/feed.php?go=category_56"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_55.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_55" title="收集">收集</a> [157] <a href="feed.php-go=category_55" tppabs="http://i.renjihe.com/blog/feed.php?go=category_55"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_71.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_71" title="创业">创业</a> [405] <a href="feed.php-go=category_71" tppabs="http://i.renjihe.com/blog/feed.php?go=category_71"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_80.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_80" title="共享软件">共享软件</a> [12] <a href="feed.php-go=category_80" tppabs="http://i.renjihe.com/blog/feed.php?go=category_80"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_72.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_72" title="创意">创意</a> [20] <a href="feed.php-go=category_72" tppabs="http://i.renjihe.com/blog/feed.php?go=category_72"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_85.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_85" title="星象命理">星象命理</a> [40] <a href="feed.php-go=category_85" tppabs="http://i.renjihe.com/blog/feed.php?go=category_85"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_11.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_11" title="杂项">杂项</a> [50] <a href="feed.php-go=category_11" tppabs="http://i.renjihe.com/blog/feed.php?go=category_11"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_58.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_58" title="记录">记录</a> [26] <a href="feed.php-go=category_58" tppabs="http://i.renjihe.com/blog/feed.php?go=category_58"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_79.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_79" title="心灵鸡汤">心灵鸡汤</a> [78] <a href="feed.php-go=category_79" tppabs="http://i.renjihe.com/blog/feed.php?go=category_79"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_75.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_75" title="文学">文学</a> [9] <a href="feed.php-go=category_75" tppabs="http://i.renjihe.com/blog/feed.php?go=category_75"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_67.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_67" title="其它工程资料">其它工程资料</a> [2] <a href="feed.php-go=category_67" tppabs="http://i.renjihe.com/blog/feed.php?go=category_67"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_84.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_84" title="哲学">哲学</a> [24] <a href="feed.php-go=category_84" tppabs="http://i.renjihe.com/blog/feed.php?go=category_84"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_87.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_87" title="有言">有言</a> [9] <a href="feed.php-go=category_87" tppabs="http://i.renjihe.com/blog/feed.php?go=category_87"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_88.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_88" title="微语录">微语录</a> [15] <a href="feed.php-go=category_88" tppabs="http://i.renjihe.com/blog/feed.php?go=category_88"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_76.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_76" title="置顶">置顶</a> [440] <a href="feed.php-go=category_76" tppabs="http://i.renjihe.com/blog/feed.php?go=category_76"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_86.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_86" title="励志">励志</a> [10] <a href="feed.php-go=category_86" tppabs="http://i.renjihe.com/blog/feed.php?go=category_86"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li><li><a href="index.php-go=category_81.htm" tppabs="http://i.renjihe.com/blog/index.php?go=category_81" title="资源管理">资源管理</a> [1] <a href="feed.php-go=category_81" tppabs="http://i.renjihe.com/blog/feed.php?go=category_81"><img src="rss.png" tppabs="http://i.renjihe.com/blog/template/default/images/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS" /></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_calendar");'>日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="index.php-go=archive&cm=9&cy=2015.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2015" rel="noindex,nofollow">&lt;</a>
<a href="archive.php.htm" tppabs="http://i.renjihe.com/blog/archive.php" rel="noindex,nofollow"><span class="calendar-year">2016</span></a>
<a href="index.php-go=archive&cm=9&cy=2017.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2017" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="index.php-go=archive&cm=8&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=8&cy=2016" rel="noindex,nofollow">&lt;</a>
<a href="index.php-go=archive&cm=9&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=9&cy=2016" rel="noindex,nofollow"><span class="calendar-month">9</span></a>
<a href="index.php-go=archive&cm=10&cy=2016.htm" tppabs="http://i.renjihe.com/blog/index.php?go=archive&cm=10&cy=2016" rel="noindex,nofollow">&gt;</a>
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"></td><td class="calendar-day"></td><td class="calendar-day"></td><td class="calendar-day"></td><td id="cal1" class="calendar-day"><a href="index.php-go=showday_2016-9-1.htm" tppabs="http://i.renjihe.com/blog/index.php?go=showday_2016-9-1" rel="noindex,nofollow">1</a></td><td id="cal2" class="calendar-day">2</td><td id="cal3" class="calendar-today">3</td></tr><tr class="calendar-weekdays"><td id="cal4" class="calendar-sunday">4</td><td id="cal5" class="calendar-day">5</td><td id="cal6" class="calendar-day">6</td><td id="cal7" class="calendar-day">7</td><td id="cal8" class="calendar-day">8</td><td id="cal9" class="calendar-day">9</td><td id="cal10" class="calendar-saturday">10</td></tr><tr class="calendar-weekdays"><td id="cal11" class="calendar-sunday">11</td><td id="cal12" class="calendar-day">12</td><td id="cal13" class="calendar-day">13</td><td id="cal14" class="calendar-day">14</td><td id="cal15" class="calendar-day">15</td><td id="cal16" class="calendar-day">16</td><td id="cal17" class="calendar-saturday">17</td></tr><tr class="calendar-weekdays"><td id="cal18" class="calendar-sunday">18</td><td id="cal19" class="calendar-day">19</td><td id="cal20" class="calendar-day">20</td><td id="cal21" class="calendar-day">21</td><td id="cal22" class="calendar-day">22</td><td id="cal23" class="calendar-day">23</td><td id="cal24" class="calendar-saturday">24</td></tr><tr class="calendar-weekdays"><td id="cal25" class="calendar-sunday">25</td><td id="cal26" class="calendar-day">26</td><td id="cal27" class="calendar-day">27</td><td id="cal28" class="calendar-day">28</td><td id="cal29" class="calendar-day">29</td><td id="cal30" class="calendar-day">30</td><td class="calendar-saturday"></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_statistics");'>统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 133640<br/>今日访问 1<br/>日志数量 7121<br/><a href="guestbook.php.htm" tppabs="http://i.renjihe.com/blog/guestbook.php">留言数量 2</a><br/>在线人数 1<br/>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_entries");'>最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class='rowcouple'><a href="read.php-7527.htm" tppabs="http://i.renjihe.com/blog/read.php?7527" title="mysql优化之索引优化">mysql优化之索引优化</a></li><li class='rowodd'><a href="read.php-7526.htm" tppabs="http://i.renjihe.com/blog/read.php?7526" title="Mysql limit 优化，百万至千万级快速分页，--复合索引的引用并应用于轻量级框架&nbsp;&nbsp;">Mysql limit ...</a></li><li class='rowcouple'><a href="read.php-7525.htm" tppabs="http://i.renjihe.com/blog/read.php?7525" title="mysql sql语句执行时间查询">mysql sql语句执...</a></li><li class='rowodd'><a href="read.php-7524.htm" tppabs="http://i.renjihe.com/blog/read.php?7524" title="GeoHash核心原理解析">GeoHash核心原理解...</a></li><li class='rowcouple'><a href="read.php-7523.htm" tppabs="http://i.renjihe.com/blog/read.php?7523" title="如何实现按距离排序、范围查找">如何实现按距离排序、范围...</a></li></ul>
</div>
</div>
				</div>
				<div id="innerSidebarTwo">
					<div class="panel">
<h5 onclick='showhidediv("sidebar_link");'>链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>协会</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org/'" tppabs="http://www.siggraph.org/" target="_blank" title="siggraph - ">siggraph</a></li><li class="indent"><a href="javascript:if(confirm('http://www.siggraph.org.cn/Pages/index.aspx  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.siggraph.org.cn/Pages/index.aspx'" tppabs="http://www.siggraph.org.cn/Pages/index.aspx" target="_blank" title="siggraph中国 - ">siggraph中国</a></li><li class="indent"><a href="javascript:if(confirm('http://www.igf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.igf.com/'" tppabs="http://www.igf.com/" target="_blank" title="独立游戏节 - ">独立游戏节</a></li><li><strong>项目</strong></li><li class="indent"><a href="javascript:if(confirm('http://youyur.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://youyur.com/'" tppabs="http://youyur.com/" target="_blank" title="有鱼 - ">有鱼</a></li><li class="indent"><a href="javascript:if(confirm('http://codecanyon.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://codecanyon.net/'" tppabs="http://codecanyon.net/" target="_blank" title="codecanyon - ">codecanyon</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sxsoft.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sxsoft.com/'" tppabs="http://www.sxsoft.com/" target="_blank" title="软件项目交易网 - ">软件项目交易网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.csto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.csto.com/'" tppabs="http://www.csto.com/" target="_blank" title="csto - ">csto</a></li><li class="indent"><a href="javascript:if(confirm('http://themeforest.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://themeforest.net/'" tppabs="http://themeforest.net/" target="_blank" title="themeforest - ">themeforest</a></li><li class="indent"><a href="javascript:if(confirm('http://www.digitalriver.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.digitalriver.com/'" tppabs="http://www.digitalriver.com/" target="_blank" title="Digital River - ">Digital River</a></li><li class="indent"><a href="javascript:if(confirm('http://www.vworker.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.vworker.com/'" tppabs="http://www.vworker.com/" target="_blank" title="vworker - ">vworker</a></li><li class="indent"><a href="javascript:if(confirm('http://luexiao.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luexiao.com/'" tppabs="http://luexiao.com/" target="_blank" title="略晓 - ">略晓</a></li><li class="indent"><a href="javascript:if(confirm('http://www.yateshi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yateshi.com/'" tppabs="http://www.yateshi.com/" target="_blank" title="雅特士外包网  - ">雅特士外包网 </a></li><li class="indent"><a href="javascript:if(confirm('http://wpappstore.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://wpappstore.com/'" tppabs="http://wpappstore.com/" target="_blank" title="WP App Store - ">WP App Store</a></li><li class="indent"><a href="javascript:if(confirm('http://store.steampowered.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.steampowered.com/'" tppabs="http://store.steampowered.com/" target="_blank" title="Steam - ">Steam</a></li><li class="indent"><a href="javascript:if(confirm('http://www.taskcity.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.taskcity.com/'" tppabs="http://www.taskcity.com/" target="_blank" title="TaskCity - ">TaskCity</a></li><li class="indent"><a href="javascript:if(confirm('http://www.istockphoto.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.istockphoto.com/'" tppabs="http://www.istockphoto.com/" target="_blank" title="iStockphoto - ">iStockphoto</a></li><li class="indent"><a href="javascript:if(confirm('http://envato.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://envato.com/'" tppabs="http://envato.com/" target="_blank" title="Envato - ">Envato</a></li><li class="indent"><a href="javascript:if(confirm('https://tutsplus.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://tutsplus.com/'" tppabs="https://tutsplus.com/" target="_blank" title="Tuts+ Premium - ">Tuts+ Premium</a></li><li class="indent"><a href="javascript:if(confirm('http://www.sharebank.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.sharebank.com.cn/'" tppabs="http://www.sharebank.com.cn/" target="_blank" title="软行天下  - ">软行天下 </a></li><li class="indent"><a href="javascript:if(confirm('http://www.softreg.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.softreg.com.cn/'" tppabs="http://www.softreg.com.cn/" target="_blank" title="中国共享软件注册中心 - ">中国共享软件注册中心</a></li><li class="indent"><a href="javascript:if(confirm('https://www.elance.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.elance.com/'" tppabs="https://www.elance.com/" target="_blank" title="Elance - ">Elance</a></li><li class="indent"><a href="javascript:if(confirm('http://www.freelancer.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.freelancer.com/'" tppabs="http://www.freelancer.com/" target="_blank" title="freelancer - ">freelancer</a></li><li class="indent"><a href="javascript:if(confirm('http://www.bizsofts.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bizsofts.com/'" tppabs="http://www.bizsofts.com/" target="_blank" title="软件商务网 - ">软件商务网</a></li><li class="indent"><a href="javascript:if(confirm('https://www.odesk.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.odesk.com/'" tppabs="https://www.odesk.com/" target="_blank" title="oDesk - ">oDesk</a></li><li class="indent"><a href="javascript:if(confirm('http://store.raspberrypi.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://store.raspberrypi.com/'" tppabs="http://store.raspberrypi.com/" target="_blank" title="树莓派商店 - ">树莓派商店</a></li><li><strong>杂项</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.codinghorror.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.codinghorror.com/'" tppabs="http://www.codinghorror.com/" target="_blank" title="codinghorror - ">codinghorror</a></li><li class="indent"><a href="javascript:if(confirm('http://www.fabiensanglard.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.fabiensanglard.net/'" tppabs="http://www.fabiensanglard.net/" target="_blank" title="fabiensanglard - ">fabiensanglard</a></li><li class="indent"><a href="javascript:if(confirm('http://www.intel.com/intelpress/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.intel.com/intelpress/'" tppabs="http://www.intel.com/intelpress/" target="_blank" title="英特尔出版社 - ">英特尔出版社</a></li><li class="indent"><a href="javascript:if(confirm('http://www.opencart.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.opencart.com/'" tppabs="http://www.opencart.com/" target="_blank" title="OpenCart - ">OpenCart</a></li><li class="indent"><a href="javascript:if(confirm('http://www.appinn.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.appinn.com/'" tppabs="http://www.appinn.com/" target="_blank" title="小众软件 - ">小众软件</a></li><li class="indent"><a href="javascript:if(confirm('http://renderhjs.net/shoebox/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://renderhjs.net/shoebox/'" tppabs="http://renderhjs.net/shoebox/" target="_blank" title="shoebox工具 - ">shoebox工具</a></li><li><strong>个人</strong></li><li><strong>阅读</strong></li><li class="indent"><a href="javascript:if(confirm('http://huaban.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://huaban.com/'" tppabs="http://huaban.com/" target="_blank" title="花瓣网 - ">花瓣网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.oralstudy.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.oralstudy.cn/'" tppabs="http://www.oralstudy.cn/" target="_blank" title="英语口语学习网 - ">英语口语学习网</a></li><li class="indent"><a href="javascript:if(confirm('http://www.dspguide.com/pdfbook.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.dspguide.com/pdfbook.htm'" tppabs="http://www.dspguide.com/pdfbook.htm" target="_blank" title="DSP Guide - ">DSP Guide</a></li><li><strong>在线文档</strong></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/flex/mobileapps/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/flex/mobileapps/index.html'" tppabs="http://help.adobe.com/zh_CN/flex/mobileapps/index.html" target="_blank" title="Flex移动开发 - ">Flex移动开发</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/learn/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/learn/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/learn/index.html" target="_blank" title="Flex AS3 - ">Flex AS3</a></li><li class="indent"><a href="javascript:if(confirm('http://www.adobe.com/cn/devnet.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.adobe.com/cn/devnet.html'" tppabs="http://www.adobe.com/cn/devnet.html" target="_blank" title="Adobe开发者中心 - ">Adobe开发者中心</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/'" tppabs="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/" target="_blank" title="ActionScript3.0参考 - ">ActionScript3.0参考</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/as3/dev/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/as3/dev/index.html'" tppabs="http://help.adobe.com/zh_CN/as3/dev/index.html" target="_blank" title="ActionScript 3.0 - ">ActionScript 3.0</a></li><li class="indent"><a href="javascript:if(confirm('http://help.adobe.com/zh_CN/air/build/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://help.adobe.com/zh_CN/air/build/index.html'" tppabs="http://help.adobe.com/zh_CN/air/build/index.html" target="_blank" title="AIR - ">AIR</a></li><li class="indent"><a href="javascript:if(confirm('http://www.ppurl.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.ppurl.com/'" tppabs="http://www.ppurl.com/" target="_blank" title="皮皮书屋 - ">皮皮书屋</a></li><li class="indent"><a href="javascript:if(confirm('http://science.scileaf.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://science.scileaf.com/'" tppabs="http://science.scileaf.com/" target="_blank" title="四叶科学百科 - ">四叶科学百科</a></li><li><strong>临时</strong></li><li class="indent"><a href="javascript:if(confirm('http://www.uisdc.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.uisdc.com/'" tppabs="http://www.uisdc.com/" target="_blank" title="优设 - ">优设</a></li><li class="indent"><a href="javascript:if(confirm('http://www.genesis-3d.com.cn/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.genesis-3d.com.cn/'" tppabs="http://www.genesis-3d.com.cn/" target="_blank" title="genesis-3d - ">genesis-3d</a></li><li class="indent"><a href="javascript:if(confirm('http://designlol.net/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://designlol.net/'" tppabs="http://designlol.net/" target="_blank" title="designlol - ">designlol</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick='showhidediv("sidebar_misc");'>其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="login.php.htm" tppabs="http://i.renjihe.com/blog/login.php">登入</a><br/><a href="login.php-job=register.htm" tppabs="http://i.renjihe.com/blog/login.php?job=register">注册</a><br/>RSS： <a href="feed.php" tppabs="http://i.renjihe.com/blog/feed.php">日志</a> | <a href="feed.php-go=comment.htm" tppabs="http://i.renjihe.com/blog/feed.php?go=comment">评论</a><br/>编码：UTF-8<br/><a href="javascript:if(confirm('http://validator.w3.org/check?uri=referer  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://validator.w3.org/check?uri=referer'" tppabs="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
				</div>
				<div id="innerSidebarFooter">
				 Powered by <a href="javascript:if(confirm('http://www.bo-blog.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.bo-blog.com/'" tppabs="http://www.bo-blog.com/" target="_blank">Bo-Blog 2.1.1 Release</a><span id="footer-security"><a href="javascript:if(confirm('http://www.cnbct.org/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.cnbct.org/'" tppabs="http://www.cnbct.org/" target="_blank" title="Code detection by Bug.Center.Team"><img src="detect.gif" tppabs="http://i.renjihe.com/blog/images/others/detect.gif" alt="Code detection by Bug.Center.Team" border="0" /></a></span>
				<div id="processtime">
				</div>
				</div>
			</div>
		</div>
	</div>
		<div id="footer">
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>
<script type='text/javascript'>
//<![CDATA[
if (document.getElementById('processtime')) document.getElementById('processtime').innerHTML="<span class='runtimedisplay'>Run in 220 ms, 4 Queries.</span>";
//]]>
</script></body>
</html>